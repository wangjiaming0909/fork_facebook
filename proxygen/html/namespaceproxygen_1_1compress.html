<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: proxygen::compress Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('namespaceproxygen_1_1compress.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">proxygen::compress Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1compress_1_1CompressionScheme.html">CompressionScheme</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1compress_1_1CompressionSimulator.html">CompressionSimulator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structproxygen_1_1compress_1_1FrameFlags.html">FrameFlags</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structproxygen_1_1compress_1_1Header.html">Header</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1compress_1_1HeaderPiece.html">HeaderPiece</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1compress_1_1HPACKScheme.html">HPACKScheme</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1compress_1_1QMINScheme.html">QMINScheme</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1compress_1_1QPACKScheme.html">QPACKScheme</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structproxygen_1_1compress_1_1SimParams.html">SimParams</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structproxygen_1_1compress_1_1SimStats.html">SimStats</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1compress_1_1SimStreamingCallback.html">SimStreamingCallback</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a67fbb975128128544dede33c0c9d273d"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceproxygen_1_1compress.html#a67fbb975128128544dede33c0c9d273d">HeaderPieceList</a> = std::deque&lt; <a class="el" href="classproxygen_1_1compress_1_1HeaderPiece.html">HeaderPiece</a> &gt;</td></tr>
<tr class="separator:a67fbb975128128544dede33c0c9d273d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:adb2f38c607bc534e811b122dbed14ef2"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceproxygen_1_1compress.html#adb2f38c607bc534e811b122dbed14ef2">SchemeType</a> { <a class="el" href="namespaceproxygen_1_1compress.html#adb2f38c607bc534e811b122dbed14ef2a722622dacf22345d7f65d96d10d5d1ae">SchemeType::QPACK</a>, 
<a class="el" href="namespaceproxygen_1_1compress.html#adb2f38c607bc534e811b122dbed14ef2a3b78b53f7b985978b86a572e04bb4f9c">SchemeType::QMIN</a>, 
<a class="el" href="namespaceproxygen_1_1compress.html#adb2f38c607bc534e811b122dbed14ef2abeeb357da92a0c9056f9e9f91fc48938">SchemeType::HPACK</a>
 }</td></tr>
<tr class="separator:adb2f38c607bc534e811b122dbed14ef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a87be4e4c674336304ac9c82b0e244685"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structproxygen_1_1compress_1_1Header.html">compress::Header</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceproxygen_1_1compress.html#a87be4e4c674336304ac9c82b0e244685">prepareMessageForCompression</a> (const <a class="el" href="classproxygen_1_1HTTPMessage.html">HTTPMessage</a> &amp;msg, std::vector&lt; string &gt; &amp;cookies)</td></tr>
<tr class="separator:a87be4e4c674336304ac9c82b0e244685"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a44970641d37b7eb15b6b079c6ccde9"><td class="memItemLeft" align="right" valign="top">std::pair&lt; vector&lt; <a class="el" href="classproxygen_1_1HPACKHeader.html">HPACKHeader</a> &gt;, uint32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceproxygen_1_1compress.html#a3a44970641d37b7eb15b6b079c6ccde9">prepareHeaders</a> (vector&lt; <a class="el" href="structproxygen_1_1compress_1_1Header.html">Header</a> &gt; &amp;headers)</td></tr>
<tr class="separator:a3a44970641d37b7eb15b6b079c6ccde9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a67fbb975128128544dede33c0c9d273d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="namespaceproxygen_1_1compress.html#a67fbb975128128544dede33c0c9d273d">proxygen::compress::HeaderPieceList</a> = typedef std::deque&lt;<a class="el" href="classproxygen_1_1compress_1_1HeaderPiece.html">HeaderPiece</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HeaderPiece_8h_source.html#l00059">59</a> of file <a class="el" href="HeaderPiece_8h_source.html">HeaderPiece.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="adb2f38c607bc534e811b122dbed14ef2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="namespaceproxygen_1_1compress.html#adb2f38c607bc534e811b122dbed14ef2">proxygen::compress::SchemeType</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="adb2f38c607bc534e811b122dbed14ef2a722622dacf22345d7f65d96d10d5d1ae"></a>QPACK&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="adb2f38c607bc534e811b122dbed14ef2a3b78b53f7b985978b86a572e04bb4f9c"></a>QMIN&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="adb2f38c607bc534e811b122dbed14ef2abeeb357da92a0c9056f9e9f91fc48938"></a>HPACK&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="CompressionTypes_8h_source.html#l00015">15</a> of file <a class="el" href="CompressionTypes_8h_source.html">CompressionTypes.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;{ <a class="code" href="namespaceproxygen_1_1compress.html#adb2f38c607bc534e811b122dbed14ef2a722622dacf22345d7f65d96d10d5d1ae">QPACK</a>, <a class="code" href="namespaceproxygen_1_1compress.html#adb2f38c607bc534e811b122dbed14ef2a3b78b53f7b985978b86a572e04bb4f9c">QMIN</a>, <a class="code" href="namespaceproxygen_1_1compress.html#adb2f38c607bc534e811b122dbed14ef2abeeb357da92a0c9056f9e9f91fc48938">HPACK</a> };</div><div class="ttc" id="namespaceproxygen_1_1compress_html_adb2f38c607bc534e811b122dbed14ef2a722622dacf22345d7f65d96d10d5d1ae"><div class="ttname"><a href="namespaceproxygen_1_1compress.html#adb2f38c607bc534e811b122dbed14ef2a722622dacf22345d7f65d96d10d5d1ae">proxygen::compress::SchemeType::QPACK</a></div></div>
<div class="ttc" id="namespaceproxygen_1_1compress_html_adb2f38c607bc534e811b122dbed14ef2abeeb357da92a0c9056f9e9f91fc48938"><div class="ttname"><a href="namespaceproxygen_1_1compress.html#adb2f38c607bc534e811b122dbed14ef2abeeb357da92a0c9056f9e9f91fc48938">proxygen::compress::SchemeType::HPACK</a></div></div>
<div class="ttc" id="namespaceproxygen_1_1compress_html_adb2f38c607bc534e811b122dbed14ef2a3b78b53f7b985978b86a572e04bb4f9c"><div class="ttname"><a href="namespaceproxygen_1_1compress.html#adb2f38c607bc534e811b122dbed14ef2a3b78b53f7b985978b86a572e04bb4f9c">proxygen::compress::SchemeType::QMIN</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a3a44970641d37b7eb15b6b079c6ccde9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; std::vector&lt; <a class="el" href="classproxygen_1_1HPACKHeader.html">HPACKHeader</a> &gt;, uint32_t &gt; proxygen::compress::prepareHeaders </td>
          <td>(</td>
          <td class="paramtype">vector&lt; <a class="el" href="structproxygen_1_1compress_1_1Header.html">Header</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>headers</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HPACKCodec_8cpp_source.html#l00029">29</a> of file <a class="el" href="HPACKCodec_8cpp_source.html">HPACKCodec.cpp</a>.</p>

<p>Referenced by <a class="el" href="QPACKCodec_8cpp_source.html#l00047">proxygen::QPACKCodec::encode()</a>, and <a class="el" href="HPACKCodec_8cpp_source.html#l00048">proxygen::HPACKCodec::encode()</a>.</p>
<div class="fragment"><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;                               {</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <span class="comment">// convert to HPACK API format</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  std::pair&lt;vector&lt;HPACKHeader&gt;, uint32_t&gt; converted;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  converted.first.reserve(headers.size());</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; h : headers) {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="comment">// HPACKHeader automatically lowercases</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    converted.first.emplace_back(*h.name, *h.value);</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keyword">auto</span>&amp; header = converted.first.back();</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    converted.second += header.name.size() + header.value.size() + 2;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  }</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">return</span> converted;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a87be4e4c674336304ac9c82b0e244685"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structproxygen_1_1compress_1_1Header.html">Header</a> &gt; proxygen::compress::prepareMessageForCompression </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classproxygen_1_1HTTPMessage.html">HTTPMessage</a> &amp;&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>cookies</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="CompressionUtils_8cpp_source.html#l00083">83</a> of file <a class="el" href="CompressionUtils_8cpp_source.html">CompressionUtils.cpp</a>.</p>

<p>References <a class="el" href="namespaceproxygen.html#a708d14cbb2dacbfffbe455f5b7941fffab57e2519e26151feacdbe52076bc39ec">proxygen::CONNECT</a>, <a class="el" href="HTTPHeaders_8h_source.html#l00360">proxygen::HTTPHeaders::forEachWithCode()</a>, <a class="el" href="HTTPMessage_8h_source.html#l00273">proxygen::HTTPMessage::getHeaders()</a>, <a class="el" href="HTTPMessage_8cpp_source.html#l00235">proxygen::HTTPMessage::getMethod()</a>, <a class="el" href="HTTPMessage_8cpp_source.html#l00246">proxygen::HTTPMessage::getMethodString()</a>, <a class="el" href="HTTPHeaders_8h_source.html#l00434">proxygen::HTTPHeaders::getSingleOrEmpty()</a>, <a class="el" href="HTTPMessage_8h_source.html#l00205">proxygen::HTTPMessage::getURL()</a>, <a class="el" href="HTTPMessage_8h_source.html#l00542">proxygen::HTTPMessage::isSecure()</a>, <a class="el" href="namespaceproxygen_1_1headers.html#ad5077b5f5fdd8396a76ee2f3dea6c3b9">proxygen::headers::kAuthority</a>, <a class="el" href="namespaceproxygen_1_1headers.html#a94ea3784fbd60b26472e333d7af56348">proxygen::headers::kHttp</a>, <a class="el" href="namespaceproxygen_1_1headers.html#abb0d7b63fa52832d0233ded8bfd5c48e">proxygen::headers::kHttps</a>, <a class="el" href="namespaceproxygen_1_1headers.html#a3a170aa48a4ff03d5b70c309cb119857">proxygen::headers::kMethod</a>, <a class="el" href="namespaceproxygen_1_1headers.html#ae53fca9e2d006107694cb702f87924c4">proxygen::headers::kPath</a>, and <a class="el" href="namespaceproxygen_1_1headers.html#aae186a9f9432c49ba9fb586eeb616412">proxygen::headers::kScheme</a>.</p>

<p>Referenced by <a class="el" href="CompressionSimulator_8cpp_source.html#l00286">proxygen::compress::CompressionSimulator::encode()</a>.</p>
<div class="fragment"><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                                {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  std::vector&lt;compress::Header&gt; allHeaders;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="comment">// The encode API is pretty bad.  We should just let HPACK directly encode</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="comment">// HTTP messages</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keyword">const</span> <a class="code" href="classproxygen_1_1HTTPHeaders.html">HTTPHeaders</a>&amp; headers = msg.<a class="code" href="classproxygen_1_1HTTPMessage.html#a2ba4953e1ab061fe5eb68af08e684772">getHeaders</a>();</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; host = headers.<a class="code" href="classproxygen_1_1HTTPHeaders.html#aa14bc0e99fc0ebe98fb95b7cff1bb598">getSingleOrEmpty</a>(HTTP_HEADER_HOST);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordtype">bool</span> isPublic = msg.<a class="code" href="classproxygen_1_1HTTPMessage.html#af664699185a85ad54796e5418918b1b9">getMethodString</a>().empty();</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">if</span> (!isPublic) {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    allHeaders.emplace_back(HTTP_HEADER_COLON_METHOD, <a class="code" href="namespaceproxygen_1_1headers.html#a3a170aa48a4ff03d5b70c309cb119857">headers::kMethod</a>,</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                            msg.<a class="code" href="classproxygen_1_1HTTPMessage.html#af664699185a85ad54796e5418918b1b9">getMethodString</a>());</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">if</span> (msg.<a class="code" href="classproxygen_1_1HTTPMessage.html#ab5c428825d6d2c1d3edb7babd36f5064">getMethod</a>() != HTTPMethod::CONNECT) {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      allHeaders.emplace_back(</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;          HTTP_HEADER_COLON_SCHEME, <a class="code" href="namespaceproxygen_1_1headers.html#aae186a9f9432c49ba9fb586eeb616412">headers::kScheme</a>,</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;          (msg.<a class="code" href="classproxygen_1_1HTTPMessage.html#a524ba62e5c37c7d964259dbcab1ebd22">isSecure</a>() ? <a class="code" href="namespaceproxygen_1_1headers.html#abb0d7b63fa52832d0233ded8bfd5c48e">headers::kHttps</a> : <a class="code" href="namespaceproxygen_1_1headers.html#a94ea3784fbd60b26472e333d7af56348">headers::kHttp</a>));</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      allHeaders.emplace_back(HTTP_HEADER_COLON_PATH, <a class="code" href="namespaceproxygen_1_1headers.html#ae53fca9e2d006107694cb702f87924c4">headers::kPath</a>,</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                              msg.<a class="code" href="classproxygen_1_1HTTPMessage.html#a098d54c2e5c9d33017305a2cb72ddb9f">getURL</a>());</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">if</span> (!host.empty()) {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      allHeaders.emplace_back(</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;          HTTP_HEADER_COLON_AUTHORITY, <a class="code" href="namespaceproxygen_1_1headers.html#ad5077b5f5fdd8396a76ee2f3dea6c3b9">headers::kAuthority</a>, host);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    }</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  }</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="comment">// Cookies are coalesced in the HAR file but need to be added as separate</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="comment">// headers to optimize compression ratio</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  headers.<a class="code" href="classproxygen_1_1HTTPHeaders.html#ac7eb57e21eab4dd473e8e259a2ec0661">forEachWithCode</a>(</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      [&amp;](<a class="code" href="namespaceproxygen.html#ad1d4eced401086307c787f249976d7de">HTTPHeaderCode</a> code, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; value) {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">if</span> (code == HTTP_HEADER_COOKIE) {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;          vector&lt;folly::StringPiece&gt; cookiePieces;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;          folly::split(<span class="charliteral">&#39;;&#39;</span>, value, cookiePieces);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;          cookies.reserve(cookies.size() + cookiePieces.size());</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> cookie : cookiePieces) {</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            cookies.push_back(ltrimWhitespace(cookie).str());</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            allHeaders.emplace_back(code, name, cookies.back());</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;          }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (code != HTTP_HEADER_HOST &amp;&amp; (isPublic || name[0] != <span class="charliteral">&#39;:&#39;</span>)) {</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;          <span class="comment">// HAR files contain actual serialized headers protocol headers like</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;          <span class="comment">// :authority, which we are re-adding above.  Strip them so our</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;          <span class="comment">// equality test works</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;          allHeaders.emplace_back(code, name, value);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        }</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      });</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">return</span> allHeaders;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div><div class="ttc" id="classproxygen_1_1HTTPHeaders_html"><div class="ttname"><a href="classproxygen_1_1HTTPHeaders.html">proxygen::HTTPHeaders</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPHeaders_8h_source.html#l00068">HTTPHeaders.h:68</a></div></div>
<div class="ttc" id="namespaceproxygen_1_1headers_html_aae186a9f9432c49ba9fb586eeb616412"><div class="ttname"><a href="namespaceproxygen_1_1headers.html#aae186a9f9432c49ba9fb586eeb616412">proxygen::headers::kScheme</a></div><div class="ttdeci">const std::string kScheme</div></div>
<div class="ttc" id="http__parser_8c_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8c_source.html#l00437">http_parser.c:437</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a2ba4953e1ab061fe5eb68af08e684772"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a2ba4953e1ab061fe5eb68af08e684772">proxygen::HTTPMessage::getHeaders</a></div><div class="ttdeci">HTTPHeaders &amp; getHeaders()</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00273">HTTPMessage.h:273</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPHeaders_html_aa14bc0e99fc0ebe98fb95b7cff1bb598"><div class="ttname"><a href="classproxygen_1_1HTTPHeaders.html#aa14bc0e99fc0ebe98fb95b7cff1bb598">proxygen::HTTPHeaders::getSingleOrEmpty</a></div><div class="ttdeci">const std::string &amp; getSingleOrEmpty(const T &amp;nameOrCode) const </div><div class="ttdef"><b>Definition:</b> <a href="HTTPHeaders_8h_source.html#l00434">HTTPHeaders.h:434</a></div></div>
<div class="ttc" id="namespaceproxygen_1_1headers_html_a94ea3784fbd60b26472e333d7af56348"><div class="ttname"><a href="namespaceproxygen_1_1headers.html#a94ea3784fbd60b26472e333d7af56348">proxygen::headers::kHttp</a></div><div class="ttdeci">const std::string kHttp</div></div>
<div class="ttc" id="namespaceproxygen_1_1headers_html_ae53fca9e2d006107694cb702f87924c4"><div class="ttname"><a href="namespaceproxygen_1_1headers.html#ae53fca9e2d006107694cb702f87924c4">proxygen::headers::kPath</a></div><div class="ttdeci">const std::string kPath</div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_af664699185a85ad54796e5418918b1b9"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#af664699185a85ad54796e5418918b1b9">proxygen::HTTPMessage::getMethodString</a></div><div class="ttdeci">const std::string &amp; getMethodString() const </div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8cpp_source.html#l00246">HTTPMessage.cpp:246</a></div></div>
<div class="ttc" id="namespaceproxygen_html_ad1d4eced401086307c787f249976d7de"><div class="ttname"><a href="namespaceproxygen.html#ad1d4eced401086307c787f249976d7de">proxygen::HTTPHeaderCode</a></div><div class="ttdeci">HTTPHeaderCode</div><div class="ttdef"><b>Definition:</b> <a href="HTTPCommonHeaders_8template_8h_source.html#l00022">HTTPCommonHeaders.template.h:22</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a524ba62e5c37c7d964259dbcab1ebd22"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a524ba62e5c37c7d964259dbcab1ebd22">proxygen::HTTPMessage::isSecure</a></div><div class="ttdeci">bool isSecure() const </div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00542">HTTPMessage.h:542</a></div></div>
<div class="ttc" id="namespaceproxygen_1_1headers_html_ad5077b5f5fdd8396a76ee2f3dea6c3b9"><div class="ttname"><a href="namespaceproxygen_1_1headers.html#ad5077b5f5fdd8396a76ee2f3dea6c3b9">proxygen::headers::kAuthority</a></div><div class="ttdeci">const std::string kAuthority</div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_ab5c428825d6d2c1d3edb7babd36f5064"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#ab5c428825d6d2c1d3edb7babd36f5064">proxygen::HTTPMessage::getMethod</a></div><div class="ttdeci">folly::Optional&lt; HTTPMethod &gt; getMethod() const </div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8cpp_source.html#l00235">HTTPMessage.cpp:235</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a098d54c2e5c9d33017305a2cb72ddb9f"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a098d54c2e5c9d33017305a2cb72ddb9f">proxygen::HTTPMessage::getURL</a></div><div class="ttdeci">const std::string &amp; getURL() const </div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00205">HTTPMessage.h:205</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPHeaders_html_ac7eb57e21eab4dd473e8e259a2ec0661"><div class="ttname"><a href="classproxygen_1_1HTTPHeaders.html#ac7eb57e21eab4dd473e8e259a2ec0661">proxygen::HTTPHeaders::forEachWithCode</a></div><div class="ttdeci">void forEachWithCode(LAMBDA func) const </div><div class="ttdef"><b>Definition:</b> <a href="HTTPHeaders_8h_source.html#l00360">HTTPHeaders.h:360</a></div></div>
<div class="ttc" id="namespaceproxygen_1_1headers_html_a3a170aa48a4ff03d5b70c309cb119857"><div class="ttname"><a href="namespaceproxygen_1_1headers.html#a3a170aa48a4ff03d5b70c309cb119857">proxygen::headers::kMethod</a></div><div class="ttdeci">const std::string kMethod</div></div>
<div class="ttc" id="namespaceproxygen_1_1headers_html_abb0d7b63fa52832d0233ded8bfd5c48e"><div class="ttname"><a href="namespaceproxygen_1_1headers.html#abb0d7b63fa52832d0233ded8bfd5c48e">proxygen::headers::kHttps</a></div><div class="ttdeci">const std::string kHttps</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceproxygen.html">proxygen</a></li><li class="navelem"><a class="el" href="namespaceproxygen_1_1compress.html">compress</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: proxygen/lib/http/codec/test/SPDYCodecTest.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('SPDYCodecTest_8cpp.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">SPDYCodecTest.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;folly/portability/GTest.h&gt;</code><br />
<code>#include &lt;<a class="el" href="HTTPHeaderSize_8h_source.html">proxygen/lib/http/HTTPHeaderSize.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="HTTPMessage_8h_source.html">proxygen/lib/http/HTTPMessage.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="SPDYCodec_8h_source.html">proxygen/lib/http/codec/SPDYCodec.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="SPDYConstants_8h_source.html">proxygen/lib/http/codec/SPDYConstants.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="SPDYVersionSettings_8h_source.html">proxygen/lib/http/codec/SPDYVersionSettings.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="HTTPParallelCodecTest_8h_source.html">proxygen/lib/http/codec/test/HTTPParallelCodecTest.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="http_2codec_2test_2TestUtils_8h_source.html">proxygen/lib/http/codec/test/TestUtils.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="http_2codec_2compress_2Logging_8h_source.html">proxygen/lib/http/codec/compress/Logging.h</a>&gt;</code><br />
<code>#include &lt;random&gt;</code><br />
</div>
<p><a href="SPDYCodecTest_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPDYCodecTestF.html">SPDYCodecTestF</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a778f166c32e9f5ca92e5595971429700"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a778f166c32e9f5ca92e5595971429700">copyForMe</a>(F,  C,  V)</td></tr>
<tr class="separator:a778f166c32e9f5ca92e5595971429700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6a057fe2ea64fa3b0f9797e5b8aba54"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#ae6a057fe2ea64fa3b0f9797e5b8aba54">permuteTest</a>(f)</td></tr>
<tr class="separator:ae6a057fe2ea64fa3b0f9797e5b8aba54"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab34c8521c30a10f53a07b456a53a9dce"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#ab34c8521c30a10f53a07b456a53a9dce">parseSPDY</a> (<a class="el" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> *codec, const uint8_t *inputData, uint32_t length, int32_t atOnce, <a class="el" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> &amp;callbacks)</td></tr>
<tr class="separator:ab34c8521c30a10f53a07b456a53a9dce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af66b6ae554f0cf587228ee323ab3e43a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#af66b6ae554f0cf587228ee323ab3e43a">TEST</a> (SPDYCodecTest, SPDYVersionSettingsCommonHeaderNameCheck)</td></tr>
<tr class="separator:af66b6ae554f0cf587228ee323ab3e43a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a296c175b17d18f15a56d4ebed061426e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a296c175b17d18f15a56d4ebed061426e">TEST</a> (SPDYCodecTest, JunkSPDY)</td></tr>
<tr class="separator:a296c175b17d18f15a56d4ebed061426e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1778cae0b8dc09a2cfceaa6a1a475146"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a1778cae0b8dc09a2cfceaa6a1a475146">TEST</a> (SPDYCodecTest, LongPing)</td></tr>
<tr class="separator:a1778cae0b8dc09a2cfceaa6a1a475146"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5289738f7113a42a480b193cb866eb4f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a5289738f7113a42a480b193cb866eb4f">TEST</a> (SPDYCodecTest, BadType)</td></tr>
<tr class="separator:a5289738f7113a42a480b193cb866eb4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e7a83f6eb0d6efb5b72aeb72933915c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a5e7a83f6eb0d6efb5b72aeb72933915c">TEST</a> (SPDYCodecTest, SynStreamBoundaries)</td></tr>
<tr class="separator:a5e7a83f6eb0d6efb5b72aeb72933915c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e28e868e82f35583f3031caf3192738"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a0e28e868e82f35583f3031caf3192738">TEST</a> (SPDYCodecTest, SetSettings)</td></tr>
<tr class="separator:a0e28e868e82f35583f3031caf3192738"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ba49c4655d3050cb795b3578de120d3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a7ba49c4655d3050cb795b3578de120d3">TEST</a> (SPDYCodecTest, FrameTooLarge)</td></tr>
<tr class="separator:a7ba49c4655d3050cb795b3578de120d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d6ef9425087f90928d6a2bd21a39e5c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a0d6ef9425087f90928d6a2bd21a39e5c">TEST</a> (SPDYCodecTest, FrameUncompressedTooLarge)</td></tr>
<tr class="separator:a0d6ef9425087f90928d6a2bd21a39e5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4691827cf42f57380666c7ea160cba1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#ad4691827cf42f57380666c7ea160cba1">TEST</a> (SPDYCodecTest, UnsupportedVersion)</td></tr>
<tr class="separator:ad4691827cf42f57380666c7ea160cba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2fbd375e6b37e262561fe8d6673727e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#af2fbd375e6b37e262561fe8d6673727e">TEST</a> (SPDYCodecTest, UnsupportedFrameType)</td></tr>
<tr class="separator:af2fbd375e6b37e262561fe8d6673727e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee55830ca5487628304d8f910ba6c997"><td class="memTemplParams" colspan="2">template&lt;typename Codec &gt; </td></tr>
<tr class="memitem:aee55830ca5487628304d8f910ba6c997"><td class="memTemplItemLeft" align="right" valign="top">unique_ptr&lt; folly::IOBuf &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a> (Codec &amp;egressCodec, uint32_t <a class="el" href="SPDYCodec_8cpp.html#afa72d8fe10c82e854f975c64b49585de">streamID</a>, const <a class="el" href="classproxygen_1_1HTTPMessage.html">HTTPMessage</a> &amp;msg, uint32_t assocStreamId=SPDYCodec::NoStream, bool eom=false, <a class="el" href="namespaceproxygen.html#a3229605c4d71bcf5379d0dd133870421">HTTPHeaderSize</a> *size=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>)</td></tr>
<tr class="separator:aee55830ca5487628304d8f910ba6c997"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41f4686b9d5aaa63349e4bd192ad922a"><td class="memTemplParams" colspan="2">template&lt;typename Codec &gt; </td></tr>
<tr class="memitem:a41f4686b9d5aaa63349e4bd192ad922a"><td class="memTemplItemLeft" align="right" valign="top">unique_ptr&lt; folly::IOBuf &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a41f4686b9d5aaa63349e4bd192ad922a">getSynStream</a> (Codec &amp;egressCodec, uint32_t <a class="el" href="SPDYCodec_8cpp.html#afa72d8fe10c82e854f975c64b49585de">streamID</a>)</td></tr>
<tr class="separator:a41f4686b9d5aaa63349e4bd192ad922a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2128d4951eb3dec6cfb4fd206128702"><td class="memTemplParams" colspan="2">template&lt;typename Codec , typename F , typename V &gt; </td></tr>
<tr class="memitem:ad2128d4951eb3dec6cfb4fd206128702"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#ad2128d4951eb3dec6cfb4fd206128702">callFunction</a> (F f, V version)</td></tr>
<tr class="separator:ad2128d4951eb3dec6cfb4fd206128702"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53be535cb8d5560ce21b07c315a8030b"><td class="memItemLeft" align="right" valign="top">unique_ptr&lt; folly::IOBuf &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a53be535cb8d5560ce21b07c315a8030b">getVersionedSpdyFrame</a> (const uint8_t *bytes, size_t len, uint8_t version)</td></tr>
<tr class="separator:a53be535cb8d5560ce21b07c315a8030b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a696c7df509e4e648a7f0f14eacdf8852"><td class="memTemplParams" colspan="2">template&lt;typename Codec1 , typename Codec2 &gt; </td></tr>
<tr class="memitem:a696c7df509e4e648a7f0f14eacdf8852"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a696c7df509e4e648a7f0f14eacdf8852">maxTransactionHelper</a> (Codec1 &amp;ingressCodec, Codec2 &amp;egressCodec, uint32_t parallel)</td></tr>
<tr class="separator:a696c7df509e4e648a7f0f14eacdf8852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3eb18f461933e5226bebe4425b97073"><td class="memTemplParams" colspan="2">template&lt;typename Codec1 , typename Codec2 &gt; </td></tr>
<tr class="memitem:aa3eb18f461933e5226bebe4425b97073"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#aa3eb18f461933e5226bebe4425b97073">doDefaultMaxTransactionTest</a> (Codec1 &amp;ingressCodec, Codec2 &amp;egressCodec)</td></tr>
<tr class="separator:aa3eb18f461933e5226bebe4425b97073"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b0beaea6decf71e773bcdc38adf9e3e"><td class="memTemplParams" colspan="2">template&lt;typename Codec1 , typename Codec2 &gt; </td></tr>
<tr class="memitem:a6b0beaea6decf71e773bcdc38adf9e3e"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a6b0beaea6decf71e773bcdc38adf9e3e">doNonDefaultMaxTransactionTest</a> (Codec1 &amp;ingressCodec, Codec2 &amp;egressCodec)</td></tr>
<tr class="separator:a6b0beaea6decf71e773bcdc38adf9e3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30d6189d0ad1e6a0cd110009e575acb1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a30d6189d0ad1e6a0cd110009e575acb1">TEST</a> (SPDYCodecTest, DefaultMaxTransactions)</td></tr>
<tr class="separator:a30d6189d0ad1e6a0cd110009e575acb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a262cf854ebba2707d13239f4b1fbe3b5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a262cf854ebba2707d13239f4b1fbe3b5">TEST</a> (SPDYCodecTest, NonDefaultMaxTransactions)</td></tr>
<tr class="separator:a262cf854ebba2707d13239f4b1fbe3b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9746bc258503f84bd4bb1c326acc350"><td class="memTemplParams" colspan="2">template&lt;typename Codec1 , typename Codec2 &gt; </td></tr>
<tr class="memitem:aa9746bc258503f84bd4bb1c326acc350"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#aa9746bc258503f84bd4bb1c326acc350">doEmptyHeaderValueTest</a> (Codec1 &amp;ingressCodec, Codec2 &amp;egressCodec)</td></tr>
<tr class="separator:aa9746bc258503f84bd4bb1c326acc350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63d9ccd5cc759f2f7c58e4b8797329db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a63d9ccd5cc759f2f7c58e4b8797329db">TEST</a> (SPDYCodecTest, EmptyHeaderValue)</td></tr>
<tr class="separator:a63d9ccd5cc759f2f7c58e4b8797329db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8447e32f6bcfed44b54d94b7004585f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#aa8447e32f6bcfed44b54d94b7004585f">TEST</a> (SPDYCodecTest, SynStreamWrongVersion)</td></tr>
<tr class="separator:aa8447e32f6bcfed44b54d94b7004585f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca4ec8ba69db5ed76cb43d9ac0f3e4f8"><td class="memTemplParams" colspan="2">template&lt;typename Codec1 , typename Codec2 &gt; </td></tr>
<tr class="memitem:aca4ec8ba69db5ed76cb43d9ac0f3e4f8"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#aca4ec8ba69db5ed76cb43d9ac0f3e4f8">doShortSynReplyTest</a> (Codec1 &amp;, Codec2 &amp;egressCodec)</td></tr>
<tr class="separator:aca4ec8ba69db5ed76cb43d9ac0f3e4f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec8cba1912e6995af23b3ea2b507607c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#aec8cba1912e6995af23b3ea2b507607c">TEST</a> (SPDYCodecTest, ShortSynReply)</td></tr>
<tr class="separator:aec8cba1912e6995af23b3ea2b507607c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad014d518f79bc96201c5196e994a333d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#ad014d518f79bc96201c5196e994a333d">TEST</a> (SPDYCodecTest, SupportsSessionFlowControl)</td></tr>
<tr class="separator:ad014d518f79bc96201c5196e994a333d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a242d67ef986233fc9ef8016e2ffe7a69"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a242d67ef986233fc9ef8016e2ffe7a69">TEST</a> (SPDYCodecTest, HeaderWithManyValues)</td></tr>
<tr class="separator:a242d67ef986233fc9ef8016e2ffe7a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb1c374f97eab6e7829de2c94e3a6bd0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#adb1c374f97eab6e7829de2c94e3a6bd0">TEST</a> (SPDYCodecTest, MultiplePaths)</td></tr>
<tr class="separator:adb1c374f97eab6e7829de2c94e3a6bd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39f0357bcc7978eaf9c7287346a6ccd5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a39f0357bcc7978eaf9c7287346a6ccd5">TEST</a> (SPDYCodecTest, LargeFrameEncoding)</td></tr>
<tr class="separator:a39f0357bcc7978eaf9c7287346a6ccd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7581140f29c0f27ec8ca4fd2c2e55fda"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a7581140f29c0f27ec8ca4fd2c2e55fda">TEST</a> (SPDYCodecTest, InvalidSettings)</td></tr>
<tr class="separator:a7581140f29c0f27ec8ca4fd2c2e55fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef015097c020e60909c6b20faeeed4ef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#aef015097c020e60909c6b20faeeed4ef">TEST</a> (SPDYCodecTest, HeaderWithFin)</td></tr>
<tr class="separator:aef015097c020e60909c6b20faeeed4ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a265f2c5e9dc8ecccce76996d8bfc2fc8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a265f2c5e9dc8ecccce76996d8bfc2fc8">TEST</a> (SPDYCodecTest, ServerPush)</td></tr>
<tr class="separator:a265f2c5e9dc8ecccce76996d8bfc2fc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ea4bb47c897b5d38eecf5210222e5f7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a8ea4bb47c897b5d38eecf5210222e5f7">TEST</a> (SPDYCodecTest, ServerPushWithStatus)</td></tr>
<tr class="separator:a8ea4bb47c897b5d38eecf5210222e5f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ecfcefc7dce20d7a38dc1d0074225fb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a2ecfcefc7dce20d7a38dc1d0074225fb">TEST</a> (SPDYCodecTest, ServerPushHostMissing)</td></tr>
<tr class="separator:a2ecfcefc7dce20d7a38dc1d0074225fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2705159a53b9450043b87c6d876c1529"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a2705159a53b9450043b87c6d876c1529">TEST</a> (SPDYCodecTest, ServerPushInvalidId)</td></tr>
<tr class="separator:a2705159a53b9450043b87c6d876c1529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30ad4e7e486c932402b737df5ce550b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a30ad4e7e486c932402b737df5ce550b9">TEST</a> (SPDYCodecTest, ServerPushInvalidFlags)</td></tr>
<tr class="separator:a30ad4e7e486c932402b737df5ce550b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28c54da65d122ce515645775f33950a1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a28c54da65d122ce515645775f33950a1">TEST</a> (SPDYCodecTest, ServerPushWithoutAssoc)</td></tr>
<tr class="separator:a28c54da65d122ce515645775f33950a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7736c83cd1e68a6d564bf09167810f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#ac7736c83cd1e68a6d564bf09167810f8">TEST</a> (SPDYCodecTest, StatusReason)</td></tr>
<tr class="separator:ac7736c83cd1e68a6d564bf09167810f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30a8757ae7b0812346a45ce8af2ec217"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a30a8757ae7b0812346a45ce8af2ec217">TEST</a> (SPDYCodecTest, UpstreamPing)</td></tr>
<tr class="separator:a30a8757ae7b0812346a45ce8af2ec217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7834f876bc9e2cb06edf44f1a7f9527e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a7834f876bc9e2cb06edf44f1a7f9527e">TEST</a> (SPDYCodecTest, DownstreamPing)</td></tr>
<tr class="separator:a7834f876bc9e2cb06edf44f1a7f9527e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a976409c0489e9ecdf2047a9844b21b72"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a976409c0489e9ecdf2047a9844b21b72">TEST</a> (SPDYCodecTest, DateHeader)</td></tr>
<tr class="separator:a976409c0489e9ecdf2047a9844b21b72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38a8e050696baadad7a71725c712fbc2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a38a8e050696baadad7a71725c712fbc2">TEST</a> (SPDYCodecTest, HeaderDoS)</td></tr>
<tr class="separator:a38a8e050696baadad7a71725c712fbc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77cc46548601004fe27d44ebbfab662e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a77cc46548601004fe27d44ebbfab662e">TEST</a> (SPDYCodecTest, DoubleGoawayServer)</td></tr>
<tr class="separator:a77cc46548601004fe27d44ebbfab662e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3b935f3014bc67c270c23aa4e097939"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#ab3b935f3014bc67c270c23aa4e097939">TEST</a> (SPDYCodecTest, DoubleGoawayClient)</td></tr>
<tr class="separator:ab3b935f3014bc67c270c23aa4e097939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e115bdfa1dc24c6df30b01c1e5f153e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a4e115bdfa1dc24c6df30b01c1e5f153e">TEST</a> (SPDYCodecTest, SingleGoawayClient)</td></tr>
<tr class="separator:a4e115bdfa1dc24c6df30b01c1e5f153e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a791b0b8e55cd3509f3689b4f55cc6bc2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a791b0b8e55cd3509f3689b4f55cc6bc2">TEST</a> (SPDYCodecTest, OddHeaderListTest)</td></tr>
<tr class="separator:a791b0b8e55cd3509f3689b4f55cc6bc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad05a7047ad7fcc2f94c013439a8ef62a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#ad05a7047ad7fcc2f94c013439a8ef62a">TEST</a> (SPDYCodecTest, SendRstParsingFrame)</td></tr>
<tr class="separator:ad05a7047ad7fcc2f94c013439a8ef62a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ef57ed39a43e815fb792e834247c81e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a2ef57ed39a43e815fb792e834247c81e">TEST</a> (SPDYCodecTest, BadNumNameValues)</td></tr>
<tr class="separator:a2ef57ed39a43e815fb792e834247c81e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad5278434d7ee94e9980a24ef89a504c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#aad5278434d7ee94e9980a24ef89a504c">TEST</a> (SPDYCodecTest, ShortSettings)</td></tr>
<tr class="separator:aad5278434d7ee94e9980a24ef89a504c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7029611b241ab414c46f60e2eb384215"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a7029611b241ab414c46f60e2eb384215">TEST</a> (SPDYCodecTest, SegmentedHeaderBlock)</td></tr>
<tr class="separator:a7029611b241ab414c46f60e2eb384215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d83cd3ceab1bb9d3a2cad13a6402d55"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a4d83cd3ceab1bb9d3a2cad13a6402d55">TEST</a> (SPDYCodecTest, ColonHeaders)</td></tr>
<tr class="separator:a4d83cd3ceab1bb9d3a2cad13a6402d55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a803b42b6c22414d76c3c9df024783cf4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a803b42b6c22414d76c3c9df024783cf4">TEST</a> (SPDYCodecTest, StreamIdOverflow)</td></tr>
<tr class="separator:a803b42b6c22414d76c3c9df024783cf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f8ccd8186d6ed21e7dd699bd330192d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a6f8ccd8186d6ed21e7dd699bd330192d">TEST</a> (SPDYCodecTest, BadNVBlock)</td></tr>
<tr class="separator:a6f8ccd8186d6ed21e7dd699bd330192d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a541f27525ea87dc29704e03e8ef6e045"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a541f27525ea87dc29704e03e8ef6e045">TEST_F</a> (<a class="el" href="classSPDYCodecTestF.html">SPDYCodecTestF</a>, GoawayHandling)</td></tr>
<tr class="separator:a541f27525ea87dc29704e03e8ef6e045"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a35aaa70cdcea29aa370cd7452c56e994"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a35aaa70cdcea29aa370cd7452c56e994">shortSynStream</a> []</td></tr>
<tr class="separator:a35aaa70cdcea29aa370cd7452c56e994"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a922eaeb35b406e465651d87e136975"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a8a922eaeb35b406e465651d87e136975">longPing</a> []</td></tr>
<tr class="separator:a8a922eaeb35b406e465651d87e136975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa822462decb359951f20089cbe97e732"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#aa822462decb359951f20089cbe97e732">badType</a> []</td></tr>
<tr class="separator:aa822462decb359951f20089cbe97e732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af23220e16cbf20c486ace9d0fd258e2f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#af23220e16cbf20c486ace9d0fd258e2f">synStream</a> []</td></tr>
<tr class="separator:af23220e16cbf20c486ace9d0fd258e2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8d0fd94110856975f810f2ca4d3b026"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#ac8d0fd94110856975f810f2ca4d3b026">spdy3UnknownCtlFrame</a> []</td></tr>
<tr class="separator:ac8d0fd94110856975f810f2ca4d3b026"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf11c23b1f3ffc803f34c33681037eda"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#aaf11c23b1f3ffc803f34c33681037eda">shortSynReply</a> []</td></tr>
<tr class="separator:aaf11c23b1f3ffc803f34c33681037eda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae21bbfba78aecf82b987539ee7a0523"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#aae21bbfba78aecf82b987539ee7a0523">multiple_path_headers</a> []</td></tr>
<tr class="separator:aae21bbfba78aecf82b987539ee7a0523"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7114cf6fc04601d73f31ea2a8230813c"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a7114cf6fc04601d73f31ea2a8230813c">pushStreamWithHostMissing</a> []</td></tr>
<tr class="separator:a7114cf6fc04601d73f31ea2a8230813c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24f70503a4a54bf2a393338b6ba5cbeb"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a24f70503a4a54bf2a393338b6ba5cbeb">pushStreamWithOddId</a> []</td></tr>
<tr class="separator:a24f70503a4a54bf2a393338b6ba5cbeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4cb6d938e2a873e310c486c0cee91b5"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#ab4cb6d938e2a873e310c486c0cee91b5">pushStreamWithoutUnidirectional</a> []</td></tr>
<tr class="separator:ab4cb6d938e2a873e310c486c0cee91b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a165531b605495d0351b390a535ee45ff"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a165531b605495d0351b390a535ee45ff">pushStreamWithoutAssoc</a> []</td></tr>
<tr class="separator:a165531b605495d0351b390a535ee45ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b0756a67089ddf098584d2d11b659cd"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a2b0756a67089ddf098584d2d11b659cd">multiValuedHeaderAttack</a> []</td></tr>
<tr class="separator:a2b0756a67089ddf098584d2d11b659cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af46264bcbbc201f978f9dc76368eb01d"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#af46264bcbbc201f978f9dc76368eb01d">invalidHeaderPlusEmptyBlock</a> []</td></tr>
<tr class="separator:af46264bcbbc201f978f9dc76368eb01d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f8e2f8af8ea89266a9fff3035e1d159"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a6f8e2f8af8ea89266a9fff3035e1d159">invalidNumNameValuesBlock</a> []</td></tr>
<tr class="separator:a6f8e2f8af8ea89266a9fff3035e1d159"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c83311f67dbbaef65864929f63717ba"><td class="memItemLeft" align="right" valign="top">const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a4c83311f67dbbaef65864929f63717ba">kShortSettings</a> []</td></tr>
<tr class="separator:a4c83311f67dbbaef65864929f63717ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d39f09aa938389ef1e29c5aeda469e0"><td class="memItemLeft" align="right" valign="top">const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#a3d39f09aa938389ef1e29c5aeda469e0">kColonHeaders</a> []</td></tr>
<tr class="separator:a3d39f09aa938389ef1e29c5aeda469e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac26dd1d9ebaf6a267addbc4f78578e17"><td class="memItemLeft" align="right" valign="top">const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SPDYCodecTest_8cpp.html#ac26dd1d9ebaf6a267addbc4f78578e17">kBufBadNVBlock</a> []</td></tr>
<tr class="separator:ac26dd1d9ebaf6a267addbc4f78578e17"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a778f166c32e9f5ca92e5595971429700"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define copyForMe</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">F, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">C, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">V&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">callFunction&lt;C&gt;(F&lt;C, C&gt;,                 \</div><div class="line">                                           SPDYVersion::V)</div></div><!-- fragment -->
<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00380">380</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae6a057fe2ea64fa3b0f9797e5b8aba54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define permuteTest</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">f</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="SPDYCodecTest_8cpp.html#a778f166c32e9f5ca92e5595971429700">copyForMe</a>(f, <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a>, SPDY3);              <a class="code" href="SPDYCodecTest_8cpp.html#a778f166c32e9f5ca92e5595971429700">\</a></div><div class="line"><a class="code" href="SPDYCodecTest_8cpp.html#a778f166c32e9f5ca92e5595971429700">                       copyForMe</a>(f, <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a>, SPDY3_1);</div><div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_a778f166c32e9f5ca92e5595971429700"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#a778f166c32e9f5ca92e5595971429700">copyForMe</a></div><div class="ttdeci">#define copyForMe(F, C, V)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00380">SPDYCodecTest.cpp:380</a></div></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00383">383</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l00428">TEST()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ad2128d4951eb3dec6cfb4fd206128702"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Codec , typename F , typename V &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void callFunction </td>
          <td>(</td>
          <td class="paramtype">F&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">V&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00374">374</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                                  {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  Codec ingressCodec(TransportDirection::DOWNSTREAM, version);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  Codec egressCodec(TransportDirection::UPSTREAM, version);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  f(ingressCodec, egressCodec);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa3eb18f461933e5226bebe4425b97073"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Codec1 , typename Codec2 &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void doDefaultMaxTransactionTest </td>
          <td>(</td>
          <td class="paramtype">Codec1 &amp;&#160;</td>
          <td class="paramname"><em>ingressCodec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Codec2 &amp;&#160;</td>
          <td class="paramname"><em>egressCodec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00419">419</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodecTest_8cpp_source.html#l00399">maxTransactionHelper()</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l00428">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                                                                            {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <a class="code" href="SPDYCodecTest_8cpp.html#a696c7df509e4e648a7f0f14eacdf8852">maxTransactionHelper</a>(ingressCodec, egressCodec, 50);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;}</div><div class="ttc" id="SPDYCodecTest_8cpp_html_a696c7df509e4e648a7f0f14eacdf8852"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#a696c7df509e4e648a7f0f14eacdf8852">maxTransactionHelper</a></div><div class="ttdeci">void maxTransactionHelper(Codec1 &amp;ingressCodec, Codec2 &amp;egressCodec, uint32_t parallel)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00399">SPDYCodecTest.cpp:399</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa9746bc258503f84bd4bb1c326acc350"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Codec1 , typename Codec2 &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void doEmptyHeaderValueTest </td>
          <td>(</td>
          <td class="paramtype">Codec1 &amp;&#160;</td>
          <td class="paramname"><em>ingressCodec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Codec2 &amp;&#160;</td>
          <td class="paramname"><em>egressCodec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00437">437</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="HTTPMessage_8h_source.html#l00273">proxygen::HTTPMessage::getHeaders()</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00345">getSynStream()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00404">proxygen::FakeHTTPCodecCallback::msg</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="HTTPHeaders_8h_source.html#l00119">proxygen::HTTPHeaders::set()</a>, <a class="el" href="HTTPMessage_8cpp_source.html#l00216">proxygen::HTTPMessage::setMethod()</a>, <a class="el" href="HTTPMessage_8h_source.html#l00183">proxygen::HTTPMessage::setURL()</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l00487">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                                                                       {</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  uint8_t version = ingressCodec.getVersion();</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="keywordtype">bool</span> emptyAllowed = version != 2;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <a class="code" href="classproxygen_1_1HTTPMessage.html">HTTPMessage</a> toSend;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  toSend.<a class="code" href="classproxygen_1_1HTTPMessage.html#a40cc3df779b41f857084cebdba066c40">setMethod</a>(<span class="stringliteral">&quot;GET&quot;</span>);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  toSend.<a class="code" href="classproxygen_1_1HTTPMessage.html#a0753ce8ab4cdd78cb5b8f4a97180e75b">setURL</a>(<span class="stringliteral">&quot;http://www.foo.com&quot;</span>);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keyword">auto</span>&amp; headers = toSend.<a class="code" href="classproxygen_1_1HTTPMessage.html#a2ba4953e1ab061fe5eb68af08e684772">getHeaders</a>();</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  headers.<a class="code" href="classproxygen_1_1HTTPHeaders.html#a98de32ef8d9de8f8ab0198cc1a6dc747">set</a>(HTTP_HEADER_HOST, <span class="stringliteral">&quot;www.foo.com&quot;</span>);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  headers.set(HTTP_HEADER_PRAGMA, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  headers.set(<span class="stringliteral">&quot;X-Test1&quot;</span>, <span class="stringliteral">&quot;yup&quot;</span>);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <a class="code" href="namespaceproxygen.html#a3229605c4d71bcf5379d0dd133870421">HTTPHeaderSize</a> size;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  std::string pragmaValue;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <a class="code" href="classproxygen_1_1HTTPCodec.html#addee32fd97cd4864b2a4b2f8a99c11c1">HTTPCodec::StreamID</a> id(1);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i &lt; 3; i++) {</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keyword">auto</span> toParse = <a class="code" href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a>(egressCodec, <span class="keywordtype">id</span> + 2 * i,</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                                toSend, 0, <span class="keyword">false</span>, &amp;size);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    ingressCodec.onIngress(*toParse);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 0);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    ASSERT_NE(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#af35384751d2f5a0d9c1c979936e81df6">msg</a>.get(), <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; parsed = callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#af35384751d2f5a0d9c1c979936e81df6">msg</a>-&gt;getHeaders();</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    EXPECT_EQ(parsed.exists(<span class="stringliteral">&quot;Pragma&quot;</span>), emptyAllowed);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    EXPECT_EQ(parsed.exists(<span class="stringliteral">&quot;pragma&quot;</span>), emptyAllowed);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    EXPECT_EQ(parsed.getSingleOrEmpty(<span class="stringliteral">&quot;Pragma&quot;</span>), pragmaValue);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    EXPECT_EQ(parsed.getSingleOrEmpty(<span class="stringliteral">&quot;X-Test1&quot;</span>), <span class="stringliteral">&quot;yup&quot;</span>);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="comment">// All codecs add the accept-encoding header</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    EXPECT_EQ(parsed.exists(<span class="stringliteral">&quot;accept-encoding&quot;</span>), <span class="keyword">true</span>);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="comment">// SPDY/2 subtracts the Host header, but it should infer it from the</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="comment">// host:port portion of the requested url and present it in the headers</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    EXPECT_EQ(parsed.exists(<span class="stringliteral">&quot;host&quot;</span>), <span class="keyword">true</span>);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#af35384751d2f5a0d9c1c979936e81df6">msg</a>-&gt;getURL(), <span class="stringliteral">&quot;http://www.foo.com&quot;</span>);</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    EXPECT_EQ(parsed.size(), emptyAllowed ? 4 : 3);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    EXPECT_TRUE(size.uncompressed &gt; 0);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    EXPECT_TRUE(size.compressed &gt; 0);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">if</span> (i == 0) {</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      headers.add(<span class="stringliteral">&quot;Pragma&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    }</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">if</span> (i == 1) {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      pragmaValue = <span class="stringliteral">&quot;foo&quot;</span>;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      headers.add(<span class="stringliteral">&quot;Pragma&quot;</span>, pragmaValue);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      emptyAllowed = <span class="keyword">true</span>; <span class="comment">// SPDY/2 better have it now too</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  }</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;}</div><div class="ttc" id="namespaceproxygen_html_a3229605c4d71bcf5379d0dd133870421"><div class="ttname"><a href="namespaceproxygen.html#a3229605c4d71bcf5379d0dd133870421">proxygen::HTTPHeaderSize</a></div><div class="ttdeci">wangle::HTTPHeaderSize HTTPHeaderSize</div><div class="ttdef"><b>Definition:</b> <a href="HTTPHeaderSize_8h_source.html#l00018">HTTPHeaderSize.h:18</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPHeaders_html_a98de32ef8d9de8f8ab0198cc1a6dc747"><div class="ttname"><a href="classproxygen_1_1HTTPHeaders.html#a98de32ef8d9de8f8ab0198cc1a6dc747">proxygen::HTTPHeaders::set</a></div><div class="ttdeci">void set(folly::StringPiece name, const std::string &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPHeaders_8h_source.html#l00119">HTTPHeaders.h:119</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a0753ce8ab4cdd78cb5b8f4a97180e75b"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a0753ce8ab4cdd78cb5b8f4a97180e75b">proxygen::HTTPMessage::setURL</a></div><div class="ttdeci">ParseURL setURL(T &amp;&amp;url)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00183">HTTPMessage.h:183</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a2ba4953e1ab061fe5eb68af08e684772"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a2ba4953e1ab061fe5eb68af08e684772">proxygen::HTTPMessage::getHeaders</a></div><div class="ttdeci">HTTPHeaders &amp; getHeaders()</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00273">HTTPMessage.h:273</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a40cc3df779b41f857084cebdba066c40"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a40cc3df779b41f857084cebdba066c40">proxygen::HTTPMessage::setMethod</a></div><div class="ttdeci">void setMethod(HTTPMethod method)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8cpp_source.html#l00216">HTTPMessage.cpp:216</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_aee55830ca5487628304d8f910ba6c997"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a></div><div class="ttdeci">unique_ptr&lt; folly::IOBuf &gt; getSynStream(Codec &amp;egressCodec, uint32_t streamID, const HTTPMessage &amp;msg, uint32_t assocStreamId=SPDYCodec::NoStream, bool eom=false, HTTPHeaderSize *size=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00345">SPDYCodecTest.cpp:345</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPCodec_html_addee32fd97cd4864b2a4b2f8a99c11c1"><div class="ttname"><a href="classproxygen_1_1HTTPCodec.html#addee32fd97cd4864b2a4b2f8a99c11c1">proxygen::HTTPCodec::StreamID</a></div><div class="ttdeci">uint64_t StreamID</div><div class="ttdef"><b>Definition:</b> <a href="HTTPCodec_8h_source.html#l00049">HTTPCodec.h:49</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html">proxygen::HTTPMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00039">HTTPMessage.h:39</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_af35384751d2f5a0d9c1c979936e81df6"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#af35384751d2f5a0d9c1c979936e81df6">proxygen::FakeHTTPCodecCallback::msg</a></div><div class="ttdeci">std::unique_ptr&lt; HTTPMessage &gt; msg</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00404">TestUtils.h:404</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6b0beaea6decf71e773bcdc38adf9e3e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Codec1 , typename Codec2 &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void doNonDefaultMaxTransactionTest </td>
          <td>(</td>
          <td class="paramtype">Codec1 &amp;&#160;</td>
          <td class="paramname"><em>ingressCodec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Codec2 &amp;&#160;</td>
          <td class="paramname"><em>egressCodec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00424">424</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodecTest_8cpp_source.html#l00399">maxTransactionHelper()</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l00432">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                                                                               {</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <a class="code" href="SPDYCodecTest_8cpp.html#a696c7df509e4e648a7f0f14eacdf8852">maxTransactionHelper</a>(ingressCodec, egressCodec, 100);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;}</div><div class="ttc" id="SPDYCodecTest_8cpp_html_a696c7df509e4e648a7f0f14eacdf8852"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#a696c7df509e4e648a7f0f14eacdf8852">maxTransactionHelper</a></div><div class="ttdeci">void maxTransactionHelper(Codec1 &amp;ingressCodec, Codec2 &amp;egressCodec, uint32_t parallel)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00399">SPDYCodecTest.cpp:399</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aca4ec8ba69db5ed76cb43d9ac0f3e4f8"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Codec1 , typename Codec2 &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void doShortSynReplyTest </td>
          <td>(</td>
          <td class="paramtype">Codec1 &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Codec2 &amp;&#160;</td>
          <td class="paramname"><em>egressCodec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00521">521</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodecTest_8cpp_source.html#l00389">getVersionedSpdyFrame()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00515">shortSynReply</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l00531">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                                                         {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  egressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keyword">auto</span> frame = <a class="code" href="SPDYCodecTest_8cpp.html#a53be535cb8d5560ce21b07c315a8030b">getVersionedSpdyFrame</a>(<a class="code" href="SPDYCodecTest_8cpp.html#aaf11c23b1f3ffc803f34c33681037eda">shortSynReply</a>, <span class="keyword">sizeof</span>(<a class="code" href="SPDYCodecTest_8cpp.html#aaf11c23b1f3ffc803f34c33681037eda">shortSynReply</a>),</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                                     egressCodec.getVersion());</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  egressCodec.onIngress(*frame);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 1);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;}</div><div class="ttc" id="SPDYCodecTest_8cpp_html_a53be535cb8d5560ce21b07c315a8030b"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#a53be535cb8d5560ce21b07c315a8030b">getVersionedSpdyFrame</a></div><div class="ttdeci">unique_ptr&lt; folly::IOBuf &gt; getVersionedSpdyFrame(const uint8_t *bytes, size_t len, uint8_t version)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00389">SPDYCodecTest.cpp:389</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_aaf11c23b1f3ffc803f34c33681037eda"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#aaf11c23b1f3ffc803f34c33681037eda">shortSynReply</a></div><div class="ttdeci">uint8_t shortSynReply[]</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00515">SPDYCodecTest.cpp:515</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aee55830ca5487628304d8f910ba6c997"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Codec &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unique_ptr&lt;folly::IOBuf&gt; getSynStream </td>
          <td>(</td>
          <td class="paramtype">Codec &amp;&#160;</td>
          <td class="paramname"><em>egressCodec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>streamID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classproxygen_1_1HTTPMessage.html">HTTPMessage</a> &amp;&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>assocStreamId</em> = <code>SPDYCodec::NoStream</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>eom</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceproxygen.html#a3229605c4d71bcf5379d0dd133870421">HTTPHeaderSize</a> *&#160;</td>
          <td class="paramname"><em>size</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00345">345</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l00437">doEmptyHeaderValueTest()</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00363">getSynStream()</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00399">maxTransactionHelper()</a>, and <a class="el" href="SPDYCodecTest_8cpp_source.html#l00545">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                                    {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  folly::IOBufQueue output(folly::IOBufQueue::cacheChainLength());</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keywordflow">if</span> (assocStreamId == SPDYCodec::NoStream) {</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    egressCodec.generateHeader(output, <a class="code" href="SPDYCodec_8cpp.html#afa72d8fe10c82e854f975c64b49585de">streamID</a>, msg, eom, size);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    egressCodec.generatePushPromise(output, <a class="code" href="SPDYCodec_8cpp.html#afa72d8fe10c82e854f975c64b49585de">streamID</a>, msg, assocStreamId, eom,</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                                    size);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  }</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="keywordflow">return</span> output.move();</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;}</div><div class="ttc" id="SPDYCodec_8cpp_html_afa72d8fe10c82e854f975c64b49585de"><div class="ttname"><a href="SPDYCodec_8cpp.html#afa72d8fe10c82e854f975c64b49585de">streamID</a></div><div class="ttdeci">uint32_t streamID</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8cpp_source.html#l00131">SPDYCodec.cpp:131</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a41f4686b9d5aaa63349e4bd192ad922a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Codec &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unique_ptr&lt;folly::IOBuf&gt; getSynStream </td>
          <td>(</td>
          <td class="paramtype">Codec &amp;&#160;</td>
          <td class="paramname"><em>egressCodec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>streamID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00363">363</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="HTTPMessage_8h_source.html#l00273">proxygen::HTTPMessage::getHeaders()</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00345">getSynStream()</a>, <a class="el" href="HTTPHeaders_8h_source.html#l00119">proxygen::HTTPHeaders::set()</a>, <a class="el" href="HTTPMessage_8cpp_source.html#l00216">proxygen::HTTPMessage::setMethod()</a>, and <a class="el" href="HTTPMessage_8h_source.html#l00183">proxygen::HTTPMessage::setURL()</a>.</p>
<div class="fragment"><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                                                         {</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <a class="code" href="classproxygen_1_1HTTPMessage.html">HTTPMessage</a> msg;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  msg.<a class="code" href="classproxygen_1_1HTTPMessage.html#a40cc3df779b41f857084cebdba066c40">setMethod</a>(<span class="stringliteral">&quot;GET&quot;</span>);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  msg.<a class="code" href="classproxygen_1_1HTTPMessage.html#a2ba4953e1ab061fe5eb68af08e684772">getHeaders</a>().<a class="code" href="classproxygen_1_1HTTPHeaders.html#a98de32ef8d9de8f8ab0198cc1a6dc747">set</a>(<span class="stringliteral">&quot;HOST&quot;</span>, <span class="stringliteral">&quot;www.foo.com&quot;</span>);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  msg.<a class="code" href="classproxygen_1_1HTTPMessage.html#a0753ce8ab4cdd78cb5b8f4a97180e75b">setURL</a>(<span class="stringliteral">&quot;https://www.foo.com&quot;</span>);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a>(egressCodec, <a class="code" href="SPDYCodec_8cpp.html#afa72d8fe10c82e854f975c64b49585de">streamID</a>, msg);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;}</div><div class="ttc" id="classproxygen_1_1HTTPHeaders_html_a98de32ef8d9de8f8ab0198cc1a6dc747"><div class="ttname"><a href="classproxygen_1_1HTTPHeaders.html#a98de32ef8d9de8f8ab0198cc1a6dc747">proxygen::HTTPHeaders::set</a></div><div class="ttdeci">void set(folly::StringPiece name, const std::string &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPHeaders_8h_source.html#l00119">HTTPHeaders.h:119</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a0753ce8ab4cdd78cb5b8f4a97180e75b"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a0753ce8ab4cdd78cb5b8f4a97180e75b">proxygen::HTTPMessage::setURL</a></div><div class="ttdeci">ParseURL setURL(T &amp;&amp;url)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00183">HTTPMessage.h:183</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a2ba4953e1ab061fe5eb68af08e684772"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a2ba4953e1ab061fe5eb68af08e684772">proxygen::HTTPMessage::getHeaders</a></div><div class="ttdeci">HTTPHeaders &amp; getHeaders()</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00273">HTTPMessage.h:273</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a40cc3df779b41f857084cebdba066c40"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a40cc3df779b41f857084cebdba066c40">proxygen::HTTPMessage::setMethod</a></div><div class="ttdeci">void setMethod(HTTPMethod method)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8cpp_source.html#l00216">HTTPMessage.cpp:216</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_aee55830ca5487628304d8f910ba6c997"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a></div><div class="ttdeci">unique_ptr&lt; folly::IOBuf &gt; getSynStream(Codec &amp;egressCodec, uint32_t streamID, const HTTPMessage &amp;msg, uint32_t assocStreamId=SPDYCodec::NoStream, bool eom=false, HTTPHeaderSize *size=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00345">SPDYCodecTest.cpp:345</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html">proxygen::HTTPMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00039">HTTPMessage.h:39</a></div></div>
<div class="ttc" id="SPDYCodec_8cpp_html_afa72d8fe10c82e854f975c64b49585de"><div class="ttname"><a href="SPDYCodec_8cpp.html#afa72d8fe10c82e854f975c64b49585de">streamID</a></div><div class="ttdeci">uint32_t streamID</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8cpp_source.html#l00131">SPDYCodec.cpp:131</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a53be535cb8d5560ce21b07c315a8030b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unique_ptr&lt;folly::IOBuf&gt; getVersionedSpdyFrame </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a SPDY frame with the specified version </p>

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00389">389</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l00521">doShortSynReplyTest()</a>, and <a class="el" href="SPDYCodecTest_8cpp_source.html#l00497">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                                                                {</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keyword">auto</span> frame = folly::IOBuf::copyBuffer(bytes, len);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  uint8_t* data = frame-&gt;writableData();</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  data[1] = version; <span class="comment">/* Set the version */</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="keywordflow">return</span> frame;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a696c7df509e4e648a7f0f14eacdf8852"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Codec1 , typename Codec2 &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void maxTransactionHelper </td>
          <td>(</td>
          <td class="paramtype">Codec1 &amp;&#160;</td>
          <td class="paramname"><em>ingressCodec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Codec2 &amp;&#160;</td>
          <td class="paramname"><em>egressCodec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>parallel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00399">399</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodecTest_8cpp_source.html#l00345">getSynStream()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l00419">doDefaultMaxTransactionTest()</a>, and <a class="el" href="SPDYCodecTest_8cpp_source.html#l00424">doNonDefaultMaxTransactionTest()</a>.</p>
<div class="fragment"><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                                             {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  uint16_t expectedFailures = 0;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  uint16_t synCount = 101;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  ingressCodec.getEgressSettings()-&gt;setSetting(</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    SettingsId::MAX_CONCURRENT_STREAMS, parallel);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="keywordflow">for</span> (uint16_t i = 0; i &lt; synCount; ++i) {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">if</span> (i &gt;= parallel) {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      ++expectedFailures;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keyword">auto</span> toParse = <a class="code" href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a>(egressCodec, 2*i + 1);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    ingressCodec.onIngress(*toParse);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 0);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, expectedFailures);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_aee55830ca5487628304d8f910ba6c997"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a></div><div class="ttdeci">unique_ptr&lt; folly::IOBuf &gt; getSynStream(Codec &amp;egressCodec, uint32_t streamID, const HTTPMessage &amp;msg, uint32_t assocStreamId=SPDYCodec::NoStream, bool eom=false, HTTPHeaderSize *size=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00345">SPDYCodecTest.cpp:345</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab34c8521c30a10f53a07b456a53a9dce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t parseSPDY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> *&#160;</td>
          <td class="paramname"><em>codec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>inputData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>atOnce</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> &amp;&#160;</td>
          <td class="paramname"><em>callbacks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00026">26</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00291">proxygen::FakeHTTPCodecCallback::getStopFn()</a>, <a class="el" href="test_8c_source.html#l01591">parse()</a>, and <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l00059">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;                                                                   {</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  codec-&gt;<a class="code" href="classproxygen_1_1HTTPParallelCodec.html#a6c0d6ae3bec7b8a748f2033aec3ba5bf">setCallback</a>(&amp;callbacks);</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="test_8c.html#a44b400d6e7f4f657e449f26c992c0ee8">parse</a>(codec, inputData, length, atOnce, callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a55151fe477425f730f911f483ee294f8">getStopFn</a>());</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;}</div><div class="ttc" id="test_8c_html_a44b400d6e7f4f657e449f26c992c0ee8"><div class="ttname"><a href="test_8c.html#a44b400d6e7f4f657e449f26c992c0ee8">parse</a></div><div class="ttdeci">size_t parse(const char *buf, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="test_8c_source.html#l01591">test.c:1591</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPParallelCodec_html_a6c0d6ae3bec7b8a748f2033aec3ba5bf"><div class="ttname"><a href="classproxygen_1_1HTTPParallelCodec.html#a6c0d6ae3bec7b8a748f2033aec3ba5bf">proxygen::HTTPParallelCodec::setCallback</a></div><div class="ttdeci">void setCallback(Callback *callback) override</div><div class="ttdef"><b>Definition:</b> <a href="HTTPParallelCodec_8h_source.html#l00045">HTTPParallelCodec.h:45</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a55151fe477425f730f911f483ee294f8"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a55151fe477425f730f911f483ee294f8">proxygen::FakeHTTPCodecCallback::getStopFn</a></div><div class="ttdeci">std::function&lt; bool()&gt; getStopFn()</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00291">TestUtils.h:291</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af66b6ae554f0cf587228ee323ab3e43a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SPDYVersionSettingsCommonHeaderNameCheck&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00038">38</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="HTTPCommonHeaders_8template_8h_source.html#l00026">proxygen::HTTP_HEADER_OTHER</a>, <a class="el" href="namespaceproxygen_1_1spdy.html#a9647ead2ae5255c530962632d3731570">proxygen::spdy::kNameHostv3</a>, <a class="el" href="namespaceproxygen_1_1spdy.html#af41ab4fcf60b0d017c7665024baa74bf">proxygen::spdy::kNameMethodv3</a>, <a class="el" href="namespaceproxygen_1_1spdy.html#ab2189897a69579cc967e976fdad061a6">proxygen::spdy::kNamePathv3</a>, <a class="el" href="namespaceproxygen_1_1spdy.html#ad74bdfff696d9e55ba98cba711ba537a">proxygen::spdy::kNameSchemev3</a>, <a class="el" href="namespaceproxygen_1_1spdy.html#ae90241cf342501701f981843c99e5497">proxygen::spdy::kNameStatusv3</a>, and <a class="el" href="namespaceproxygen_1_1spdy.html#a7890c883be74cc9c13c3dff58297dd05">proxygen::spdy::kNameVersionv3</a>.</p>
<div class="fragment"><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                                                              {</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="comment">// The purpose of this test is to ensure that should the below header names</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="comment">// become part of the common set, it fails indicating that the SPDYCodec</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="comment">// needs updating in those places that create compress/Header objects using</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="comment">// the failed name.</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  EXPECT_EQ(HTTPCommonHeaders::hash(<a class="code" href="namespaceproxygen_1_1spdy.html#a7890c883be74cc9c13c3dff58297dd05">spdy::kNameVersionv3</a>), <a class="code" href="namespaceproxygen.html#ad1d4eced401086307c787f249976d7dea104e16030aa96e09e76dbed4d1ac2a0a">HTTP_HEADER_OTHER</a>);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  EXPECT_EQ(HTTPCommonHeaders::hash(<a class="code" href="namespaceproxygen_1_1spdy.html#a9647ead2ae5255c530962632d3731570">spdy::kNameHostv3</a>), <a class="code" href="namespaceproxygen.html#ad1d4eced401086307c787f249976d7dea104e16030aa96e09e76dbed4d1ac2a0a">HTTP_HEADER_OTHER</a>);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="comment">// The follow verifies assumptions that should never change regarding the</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="comment">// mapping of specific SPDY3 constants to common headers.  Should they fail,</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="comment">// the SPDYCodec would require updating in the places in which they are used</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="comment">// in creating compress/Header objects.</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  EXPECT_EQ(HTTPCommonHeaders::hash(</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="namespaceproxygen_1_1spdy.html#ae90241cf342501701f981843c99e5497">spdy::kNameStatusv3</a>), HTTP_HEADER_COLON_STATUS);</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  EXPECT_EQ(HTTPCommonHeaders::hash(</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="namespaceproxygen_1_1spdy.html#af41ab4fcf60b0d017c7665024baa74bf">spdy::kNameMethodv3</a>), HTTP_HEADER_COLON_METHOD);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  EXPECT_EQ(HTTPCommonHeaders::hash(</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="namespaceproxygen_1_1spdy.html#ad74bdfff696d9e55ba98cba711ba537a">spdy::kNameSchemev3</a>), HTTP_HEADER_COLON_SCHEME);</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  EXPECT_EQ(HTTPCommonHeaders::hash(</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="namespaceproxygen_1_1spdy.html#ab2189897a69579cc967e976fdad061a6">spdy::kNamePathv3</a>), HTTP_HEADER_COLON_PATH);</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div><div class="ttc" id="namespaceproxygen_1_1spdy_html_ab2189897a69579cc967e976fdad061a6"><div class="ttname"><a href="namespaceproxygen_1_1spdy.html#ab2189897a69579cc967e976fdad061a6">proxygen::spdy::kNamePathv3</a></div><div class="ttdeci">const std::string kNamePathv3</div></div>
<div class="ttc" id="namespaceproxygen_html_ad1d4eced401086307c787f249976d7dea104e16030aa96e09e76dbed4d1ac2a0a"><div class="ttname"><a href="namespaceproxygen.html#ad1d4eced401086307c787f249976d7dea104e16030aa96e09e76dbed4d1ac2a0a">proxygen::HTTP_HEADER_OTHER</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPCommonHeaders_8template_8h_source.html#l00026">HTTPCommonHeaders.template.h:26</a></div></div>
<div class="ttc" id="namespaceproxygen_1_1spdy_html_af41ab4fcf60b0d017c7665024baa74bf"><div class="ttname"><a href="namespaceproxygen_1_1spdy.html#af41ab4fcf60b0d017c7665024baa74bf">proxygen::spdy::kNameMethodv3</a></div><div class="ttdeci">const std::string kNameMethodv3</div></div>
<div class="ttc" id="namespaceproxygen_1_1spdy_html_a7890c883be74cc9c13c3dff58297dd05"><div class="ttname"><a href="namespaceproxygen_1_1spdy.html#a7890c883be74cc9c13c3dff58297dd05">proxygen::spdy::kNameVersionv3</a></div><div class="ttdeci">const std::string kNameVersionv3</div></div>
<div class="ttc" id="namespaceproxygen_1_1spdy_html_a9647ead2ae5255c530962632d3731570"><div class="ttname"><a href="namespaceproxygen_1_1spdy.html#a9647ead2ae5255c530962632d3731570">proxygen::spdy::kNameHostv3</a></div><div class="ttdeci">const std::string kNameHostv3</div></div>
<div class="ttc" id="namespaceproxygen_1_1spdy_html_ae90241cf342501701f981843c99e5497"><div class="ttname"><a href="namespaceproxygen_1_1spdy.html#ae90241cf342501701f981843c99e5497">proxygen::spdy::kNameStatusv3</a></div><div class="ttdeci">const std::string kNameStatusv3</div></div>
<div class="ttc" id="namespaceproxygen_1_1spdy_html_ad74bdfff696d9e55ba98cba711ba537a"><div class="ttname"><a href="namespaceproxygen_1_1spdy.html#ad74bdfff696d9e55ba98cba711ba537a">proxygen::spdy::kNameSchemev3</a></div><div class="ttdeci">const std::string kNameSchemev3</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a296c175b17d18f15a56d4ebed061426e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">JunkSPDY&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00059">59</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodecTest_8cpp_source.html#l00026">parseSPDY()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00032">shortSynStream</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                              {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> codec(TransportDirection::DOWNSTREAM, SPDYVersion::SPDY3);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordtype">size_t</span> unconsumed =</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="SPDYCodecTest_8cpp.html#ab34c8521c30a10f53a07b456a53a9dce">parseSPDY</a>(&amp;codec, <a class="code" href="SPDYCodecTest_8cpp.html#a35aaa70cdcea29aa370cd7452c56e994">shortSynStream</a>, <span class="keyword">sizeof</span>(<a class="code" href="SPDYCodecTest_8cpp.html#a35aaa70cdcea29aa370cd7452c56e994">shortSynStream</a>), -1, callbacks);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  EXPECT_EQ(unconsumed, 0);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 1);</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_ab34c8521c30a10f53a07b456a53a9dce"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#ab34c8521c30a10f53a07b456a53a9dce">parseSPDY</a></div><div class="ttdeci">size_t parseSPDY(SPDYCodec *codec, const uint8_t *inputData, uint32_t length, int32_t atOnce, FakeHTTPCodecCallback &amp;callbacks)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00026">SPDYCodecTest.cpp:26</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_a35aaa70cdcea29aa370cd7452c56e994"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#a35aaa70cdcea29aa370cd7452c56e994">shortSynStream</a></div><div class="ttdeci">uint8_t shortSynStream[]</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00032">SPDYCodecTest.cpp:32</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1778cae0b8dc09a2cfceaa6a1a475146"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LongPing&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00076">76</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodecTest_8cpp_source.html#l00069">longPing</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00026">parseSPDY()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                              {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> codec(TransportDirection::DOWNSTREAM, SPDYVersion::SPDY3);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordtype">size_t</span> unconsumed =</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="SPDYCodecTest_8cpp.html#ab34c8521c30a10f53a07b456a53a9dce">parseSPDY</a>(&amp;codec, <a class="code" href="SPDYCodecTest_8cpp.html#a8a922eaeb35b406e465651d87e136975">longPing</a>, <span class="keyword">sizeof</span>(<a class="code" href="SPDYCodecTest_8cpp.html#a8a922eaeb35b406e465651d87e136975">longPing</a>), -1, callbacks);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  EXPECT_EQ(unconsumed, 0);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 1);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_ab34c8521c30a10f53a07b456a53a9dce"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#ab34c8521c30a10f53a07b456a53a9dce">parseSPDY</a></div><div class="ttdeci">size_t parseSPDY(SPDYCodec *codec, const uint8_t *inputData, uint32_t length, int32_t atOnce, FakeHTTPCodecCallback &amp;callbacks)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00026">SPDYCodecTest.cpp:26</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_a8a922eaeb35b406e465651d87e136975"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#a8a922eaeb35b406e465651d87e136975">longPing</a></div><div class="ttdeci">uint8_t longPing[]</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00069">SPDYCodecTest.cpp:69</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5289738f7113a42a480b193cb866eb4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BadType&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00093">93</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodecTest_8cpp_source.html#l00086">badType</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00026">parseSPDY()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                             {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="comment">// If an endpoint receives a control frame for a type it does not recognize,</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="comment">// it must ignore the frame.</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> codec(TransportDirection::DOWNSTREAM, SPDYVersion::SPDY3);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordtype">size_t</span> unconsumed =</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="SPDYCodecTest_8cpp.html#ab34c8521c30a10f53a07b456a53a9dce">parseSPDY</a>(&amp;codec, <a class="code" href="SPDYCodecTest_8cpp.html#aa822462decb359951f20089cbe97e732">badType</a>, <span class="keyword">sizeof</span>(<a class="code" href="SPDYCodecTest_8cpp.html#aa822462decb359951f20089cbe97e732">badType</a>), -1, callbacks);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  EXPECT_EQ(unconsumed, 0);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 0);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div><div class="ttc" id="SPDYCodecTest_8cpp_html_aa822462decb359951f20089cbe97e732"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#aa822462decb359951f20089cbe97e732">badType</a></div><div class="ttdeci">uint8_t badType[]</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00086">SPDYCodecTest.cpp:86</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_ab34c8521c30a10f53a07b456a53a9dce"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#ab34c8521c30a10f53a07b456a53a9dce">parseSPDY</a></div><div class="ttdeci">size_t parseSPDY(SPDYCodec *codec, const uint8_t *inputData, uint32_t length, int32_t atOnce, FakeHTTPCodecCallback &amp;callbacks)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00026">SPDYCodecTest.cpp:26</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5e7a83f6eb0d6efb5b72aeb72933915c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SynStreamBoundaries&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00245">245</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00375">proxygen::FakeHTTPCodecCallback::headersComplete</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00374">proxygen::FakeHTTPCodecCallback::messageBegin</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00376">proxygen::FakeHTTPCodecCallback::messageComplete</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00026">parseSPDY()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>, and <a class="el" href="SPDYCodecTest_8cpp_source.html#l00108">synStream</a>.</p>
<div class="fragment"><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                                         {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = -1; i &lt; int(<span class="keyword">sizeof</span>(<a class="code" href="SPDYCodecTest_8cpp.html#af23220e16cbf20c486ace9d0fd258e2f">synStream</a>)); i++) {</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> codec(TransportDirection::DOWNSTREAM, SPDYVersion::SPDY3_1);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordtype">size_t</span> unconsumed =</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <a class="code" href="SPDYCodecTest_8cpp.html#ab34c8521c30a10f53a07b456a53a9dce">parseSPDY</a>(&amp;codec, <a class="code" href="SPDYCodecTest_8cpp.html#af23220e16cbf20c486ace9d0fd258e2f">synStream</a>, <span class="keyword">sizeof</span>(<a class="code" href="SPDYCodecTest_8cpp.html#af23220e16cbf20c486ace9d0fd258e2f">synStream</a>), i, callbacks);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    EXPECT_EQ(unconsumed, 0);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">messageBegin</a>, 1);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 1);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">messageComplete</a>, 1);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 0);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  }</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a5d6360f70344c3bd06108594bd16985a"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">proxygen::FakeHTTPCodecCallback::messageBegin</a></div><div class="ttdeci">uint32_t messageBegin</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00374">TestUtils.h:374</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a9169c10fd22859a9fcee7246870b406d"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">proxygen::FakeHTTPCodecCallback::messageComplete</a></div><div class="ttdeci">uint32_t messageComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00376">TestUtils.h:376</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_ab34c8521c30a10f53a07b456a53a9dce"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#ab34c8521c30a10f53a07b456a53a9dce">parseSPDY</a></div><div class="ttdeci">size_t parseSPDY(SPDYCodec *codec, const uint8_t *inputData, uint32_t length, int32_t atOnce, FakeHTTPCodecCallback &amp;callbacks)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00026">SPDYCodecTest.cpp:26</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_af23220e16cbf20c486ace9d0fd258e2f"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#af23220e16cbf20c486ace9d0fd258e2f">synStream</a></div><div class="ttdeci">uint8_t synStream[]</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00108">SPDYCodecTest.cpp:108</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a91a599bfae6e8a2bee90876cd1863513"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">proxygen::FakeHTTPCodecCallback::headersComplete</a></div><div class="ttdeci">uint32_t headersComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00375">TestUtils.h:375</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0e28e868e82f35583f3031caf3192738"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SetSettings&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00260">260</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodec_8h_source.html#l00107">proxygen::SPDYCodec::getEgressSettings()</a>, <a class="el" href="HTTPSettings_8h_source.html#l00058">proxygen::HTTPSettings::getNumSettings()</a>, <a class="el" href="HTTPSettings_8cpp_source.html#l00033">proxygen::HTTPSettings::getSetting()</a>, <a class="el" href="HTTP2Constants_8cpp_source.html#l00048">proxygen::http2::kInitialWindow</a>, <a class="el" href="SPDYConstants_8cpp_source.html#l00143">proxygen::spdy::kMaxConcurrentStreams</a>, <a class="el" href="HTTPSettings_8cpp_source.html#l00016">proxygen::HTTPSettings::setSetting()</a>, <a class="el" href="test_8c_source.html#l01529">settings</a>, <a class="el" href="HTTPSettings_8cpp_source.html#l00025">proxygen::HTTPSettings::unsetSetting()</a>, and <a class="el" href="HTTPSettings_8h_source.html#l00032">proxygen::HTTPSetting::value</a>.</p>
<div class="fragment"><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                                 {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> codec(TransportDirection::DOWNSTREAM, SPDYVersion::SPDY3);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <a class="code" href="classproxygen_1_1HTTPSettings.html">HTTPSettings</a>* <a class="code" href="test_8c.html#a1dec008fbb156669ec30f7f5f5d10d5c">settings</a> = codec.getEgressSettings();</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">// There are 2 settings by default.  Turn on another setting</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  settings-&gt;<a class="code" href="classproxygen_1_1HTTPSettings.html#af5fd0957f06ce721b9749c5f2e7f78f4">setSetting</a>(SettingsId::_SPDY_DOWNLOAD_BANDWIDTH, 10);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="comment">// This should no-op since this setting should be off by default</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  settings-&gt;<a class="code" href="classproxygen_1_1HTTPSettings.html#a8597b195f8d3aeadd3c39c08e9b724c2">unsetSetting</a>(SettingsId::_SPDY_ROUND_TRIP_TIME);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  EXPECT_EQ(settings-&gt;<a class="code" href="classproxygen_1_1HTTPSettings.html#a920c60367ea7f5e595d29d41677fa73d">getSetting</a>(SettingsId::_SPDY_ROUND_TRIP_TIME), <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  EXPECT_EQ(settings-&gt;<a class="code" href="classproxygen_1_1HTTPSettings.html#a920c60367ea7f5e595d29d41677fa73d">getSetting</a>(SettingsId::_SPDY_CURRENT_CWND), <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  EXPECT_EQ(settings-&gt;<a class="code" href="classproxygen_1_1HTTPSettings.html#a920c60367ea7f5e595d29d41677fa73d">getSetting</a>(SettingsId::MAX_CONCURRENT_STREAMS)-&gt;<a class="code" href="structproxygen_1_1HTTPSetting.html#acbb3e8eb875e7e3d20ae922cb04f1b8f">value</a>,</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            <a class="code" href="namespaceproxygen_1_1spdy.html#ac11c0debec19c3db427516f40c5acbed">spdy::kMaxConcurrentStreams</a>);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  EXPECT_EQ(settings-&gt;<a class="code" href="classproxygen_1_1HTTPSettings.html#a920c60367ea7f5e595d29d41677fa73d">getSetting</a>(SettingsId::INITIAL_WINDOW_SIZE)-&gt;<a class="code" href="structproxygen_1_1HTTPSetting.html#acbb3e8eb875e7e3d20ae922cb04f1b8f">value</a>,</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <a class="code" href="namespaceproxygen_1_1http2.html#a285488ceb67f66fe8203e5378f70334b">spdy::kInitialWindow</a>);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  EXPECT_EQ(</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    settings-&gt;<a class="code" href="classproxygen_1_1HTTPSettings.html#a920c60367ea7f5e595d29d41677fa73d">getSetting</a>(SettingsId::_SPDY_DOWNLOAD_BANDWIDTH)-&gt;<a class="code" href="structproxygen_1_1HTTPSetting.html#acbb3e8eb875e7e3d20ae922cb04f1b8f">value</a>, 10);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="comment">// Turn off one of the defaults</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  settings-&gt;<a class="code" href="classproxygen_1_1HTTPSettings.html#a8597b195f8d3aeadd3c39c08e9b724c2">unsetSetting</a>(SettingsId::MAX_CONCURRENT_STREAMS);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="comment">// Change the value of an existing default setting</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  settings-&gt;<a class="code" href="classproxygen_1_1HTTPSettings.html#af5fd0957f06ce721b9749c5f2e7f78f4">setSetting</a>(SettingsId::INITIAL_WINDOW_SIZE, 123);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  EXPECT_EQ(settings-&gt;<a class="code" href="classproxygen_1_1HTTPSettings.html#a920c60367ea7f5e595d29d41677fa73d">getSetting</a>(SettingsId::MAX_CONCURRENT_STREAMS),</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  EXPECT_EQ(settings-&gt;<a class="code" href="classproxygen_1_1HTTPSettings.html#a920c60367ea7f5e595d29d41677fa73d">getSetting</a>(SettingsId::INITIAL_WINDOW_SIZE)-&gt;<a class="code" href="structproxygen_1_1HTTPSetting.html#acbb3e8eb875e7e3d20ae922cb04f1b8f">value</a>,</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            123);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  EXPECT_EQ(settings-&gt;<a class="code" href="classproxygen_1_1HTTPSettings.html#ada8800dd5e80e2946505de8459dba968">getNumSettings</a>(), 2);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="comment">// Change the value of a unset setting</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  settings-&gt;<a class="code" href="classproxygen_1_1HTTPSettings.html#af5fd0957f06ce721b9749c5f2e7f78f4">setSetting</a>(SettingsId::MAX_CONCURRENT_STREAMS, 400);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  EXPECT_EQ(settings-&gt;<a class="code" href="classproxygen_1_1HTTPSettings.html#a920c60367ea7f5e595d29d41677fa73d">getSetting</a>(SettingsId::MAX_CONCURRENT_STREAMS)-&gt;<a class="code" href="structproxygen_1_1HTTPSetting.html#acbb3e8eb875e7e3d20ae922cb04f1b8f">value</a>,</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            400);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  EXPECT_EQ(settings-&gt;<a class="code" href="classproxygen_1_1HTTPSettings.html#ada8800dd5e80e2946505de8459dba968">getNumSettings</a>(), 3);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;}</div><div class="ttc" id="namespaceproxygen_1_1http2_html_a285488ceb67f66fe8203e5378f70334b"><div class="ttname"><a href="namespaceproxygen_1_1http2.html#a285488ceb67f66fe8203e5378f70334b">proxygen::http2::kInitialWindow</a></div><div class="ttdeci">const uint32_t kInitialWindow</div><div class="ttdef"><b>Definition:</b> <a href="HTTP2Constants_8cpp_source.html#l00048">HTTP2Constants.cpp:48</a></div></div>
<div class="ttc" id="test_8c_html_a1dec008fbb156669ec30f7f5f5d10d5c"><div class="ttname"><a href="test_8c.html#a1dec008fbb156669ec30f7f5f5d10d5c">settings</a></div><div class="ttdeci">static http_parser_settings settings</div><div class="ttdef"><b>Definition:</b> <a href="test_8c_source.html#l01529">test.c:1529</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPSettings_html_ada8800dd5e80e2946505de8459dba968"><div class="ttname"><a href="classproxygen_1_1HTTPSettings.html#ada8800dd5e80e2946505de8459dba968">proxygen::HTTPSettings::getNumSettings</a></div><div class="ttdeci">std::size_t getNumSettings() const </div><div class="ttdef"><b>Definition:</b> <a href="HTTPSettings_8h_source.html#l00058">HTTPSettings.h:58</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPSettings_html"><div class="ttname"><a href="classproxygen_1_1HTTPSettings.html">proxygen::HTTPSettings</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPSettings_8h_source.html#l00035">HTTPSettings.h:35</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPSettings_html_a8597b195f8d3aeadd3c39c08e9b724c2"><div class="ttname"><a href="classproxygen_1_1HTTPSettings.html#a8597b195f8d3aeadd3c39c08e9b724c2">proxygen::HTTPSettings::unsetSetting</a></div><div class="ttdeci">void unsetSetting(SettingsId id)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPSettings_8cpp_source.html#l00025">HTTPSettings.cpp:25</a></div></div>
<div class="ttc" id="structproxygen_1_1HTTPSetting_html_acbb3e8eb875e7e3d20ae922cb04f1b8f"><div class="ttname"><a href="structproxygen_1_1HTTPSetting.html#acbb3e8eb875e7e3d20ae922cb04f1b8f">proxygen::HTTPSetting::value</a></div><div class="ttdeci">SettingsValue value</div><div class="ttdef"><b>Definition:</b> <a href="HTTPSettings_8h_source.html#l00032">HTTPSettings.h:32</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="namespaceproxygen_1_1spdy_html_ac11c0debec19c3db427516f40c5acbed"><div class="ttname"><a href="namespaceproxygen_1_1spdy.html#ac11c0debec19c3db427516f40c5acbed">proxygen::spdy::kMaxConcurrentStreams</a></div><div class="ttdeci">const uint32_t kMaxConcurrentStreams</div><div class="ttdef"><b>Definition:</b> <a href="SPDYConstants_8cpp_source.html#l00143">SPDYConstants.cpp:143</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPSettings_html_a920c60367ea7f5e595d29d41677fa73d"><div class="ttname"><a href="classproxygen_1_1HTTPSettings.html#a920c60367ea7f5e595d29d41677fa73d">proxygen::HTTPSettings::getSetting</a></div><div class="ttdeci">const HTTPSetting * getSetting(SettingsId id) const </div><div class="ttdef"><b>Definition:</b> <a href="HTTPSettings_8cpp_source.html#l00033">HTTPSettings.cpp:33</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPSettings_html_af5fd0957f06ce721b9749c5f2e7f78f4"><div class="ttname"><a href="classproxygen_1_1HTTPSettings.html#af5fd0957f06ce721b9749c5f2e7f78f4">proxygen::HTTPSettings::setSetting</a></div><div class="ttdeci">void setSetting(SettingsId id, SettingsValue val)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPSettings_8cpp_source.html#l00016">HTTPSettings.cpp:16</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7ba49c4655d3050cb795b3578de120d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FrameTooLarge&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00291">291</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodecTest_8cpp_source.html#l00026">parseSPDY()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00189">proxygen::SPDYCodec::setMaxFrameLength()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>, and <a class="el" href="SPDYCodecTest_8cpp_source.html#l00108">synStream</a>.</p>
<div class="fragment"><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                                   {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> codec(TransportDirection::DOWNSTREAM, SPDYVersion::SPDY3_1);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  codec.setMaxFrameLength(500);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keywordtype">size_t</span> unconsumed = <a class="code" href="SPDYCodecTest_8cpp.html#ab34c8521c30a10f53a07b456a53a9dce">parseSPDY</a>(&amp;codec, <a class="code" href="SPDYCodecTest_8cpp.html#af23220e16cbf20c486ace9d0fd258e2f">synStream</a>, <span class="keyword">sizeof</span>(<a class="code" href="SPDYCodecTest_8cpp.html#af23220e16cbf20c486ace9d0fd258e2f">synStream</a>), -1,</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                                callbacks);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  EXPECT_EQ(unconsumed, 0);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 1);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 1);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_ab34c8521c30a10f53a07b456a53a9dce"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#ab34c8521c30a10f53a07b456a53a9dce">parseSPDY</a></div><div class="ttdeci">size_t parseSPDY(SPDYCodec *codec, const uint8_t *inputData, uint32_t length, int32_t atOnce, FakeHTTPCodecCallback &amp;callbacks)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00026">SPDYCodecTest.cpp:26</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_af23220e16cbf20c486ace9d0fd258e2f"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#af23220e16cbf20c486ace9d0fd258e2f">synStream</a></div><div class="ttdeci">uint8_t synStream[]</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00108">SPDYCodecTest.cpp:108</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0d6ef9425087f90928d6a2bd21a39e5c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FrameUncompressedTooLarge&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00302">302</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodecTest_8cpp_source.html#l00026">parseSPDY()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00193">proxygen::SPDYCodec::setMaxUncompressedHeaders()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>, and <a class="el" href="SPDYCodecTest_8cpp_source.html#l00108">synStream</a>.</p>
<div class="fragment"><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                                               {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> codec(TransportDirection::DOWNSTREAM, SPDYVersion::SPDY3_1);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  codec.setMaxUncompressedHeaders(600);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordtype">size_t</span> unconsumed = <a class="code" href="SPDYCodecTest_8cpp.html#ab34c8521c30a10f53a07b456a53a9dce">parseSPDY</a>(&amp;codec, <a class="code" href="SPDYCodecTest_8cpp.html#af23220e16cbf20c486ace9d0fd258e2f">synStream</a>, <span class="keyword">sizeof</span>(<a class="code" href="SPDYCodecTest_8cpp.html#af23220e16cbf20c486ace9d0fd258e2f">synStream</a>), -1,</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                                callbacks);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  EXPECT_EQ(unconsumed, 0);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 1);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 1);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_ab34c8521c30a10f53a07b456a53a9dce"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#ab34c8521c30a10f53a07b456a53a9dce">parseSPDY</a></div><div class="ttdeci">size_t parseSPDY(SPDYCodec *codec, const uint8_t *inputData, uint32_t length, int32_t atOnce, FakeHTTPCodecCallback &amp;callbacks)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00026">SPDYCodecTest.cpp:26</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_af23220e16cbf20c486ace9d0fd258e2f"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#af23220e16cbf20c486ace9d0fd258e2f">synStream</a></div><div class="ttdeci">uint8_t synStream[]</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00108">SPDYCodecTest.cpp:108</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad4691827cf42f57380666c7ea160cba1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UnsupportedVersion&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00319">319</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00405">proxygen::FakeHTTPCodecCallback::lastParseError</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00026">parseSPDY()</a>, <a class="el" href="SPDYConstants_8h_source.html#l00065">proxygen::spdy::RST_PROTOCOL_ERROR</a>, <a class="el" href="SPDYConstants_8cpp_source.html#l00066">proxygen::spdy::rstToErrorCode()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00032">shortSynStream</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                                        {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="comment">// Send a spdy/2 frame on a spdy/3 codec</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> codec(TransportDirection::DOWNSTREAM, SPDYVersion::SPDY3);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keywordtype">size_t</span> unconsumed = <a class="code" href="SPDYCodecTest_8cpp.html#ab34c8521c30a10f53a07b456a53a9dce">parseSPDY</a>(&amp;codec, <a class="code" href="SPDYCodecTest_8cpp.html#a35aaa70cdcea29aa370cd7452c56e994">shortSynStream</a>,</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                                <span class="keyword">sizeof</span>(<a class="code" href="SPDYCodecTest_8cpp.html#a35aaa70cdcea29aa370cd7452c56e994">shortSynStream</a>), -1, callbacks);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  EXPECT_EQ(unconsumed, 0);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="comment">// Expect a GOAWAY with PROTOCOL_ERROR (because of unsupported version)</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 1);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5343ee9c4d330ddcebdce5f04c6736b9">lastParseError</a>-&gt;getCodecStatusCode(),</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <a class="code" href="namespaceproxygen_1_1spdy.html#aba8643c9d8cc69eb4f7bd82154a61db0">spdy::rstToErrorCode</a>(<a class="code" href="namespaceproxygen_1_1spdy.html#acad181927e2127ae4b608bbd2bed5f2fa2881b88a0b363567a7b34bd44a640335">spdy::RST_PROTOCOL_ERROR</a>));</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a5343ee9c4d330ddcebdce5f04c6736b9"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a5343ee9c4d330ddcebdce5f04c6736b9">proxygen::FakeHTTPCodecCallback::lastParseError</a></div><div class="ttdeci">std::unique_ptr&lt; HTTPException &gt; lastParseError</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00405">TestUtils.h:405</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="namespaceproxygen_1_1spdy_html_acad181927e2127ae4b608bbd2bed5f2fa2881b88a0b363567a7b34bd44a640335"><div class="ttname"><a href="namespaceproxygen_1_1spdy.html#acad181927e2127ae4b608bbd2bed5f2fa2881b88a0b363567a7b34bd44a640335">proxygen::spdy::RST_PROTOCOL_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYConstants_8h_source.html#l00065">SPDYConstants.h:65</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_ab34c8521c30a10f53a07b456a53a9dce"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#ab34c8521c30a10f53a07b456a53a9dce">parseSPDY</a></div><div class="ttdeci">size_t parseSPDY(SPDYCodec *codec, const uint8_t *inputData, uint32_t length, int32_t atOnce, FakeHTTPCodecCallback &amp;callbacks)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00026">SPDYCodecTest.cpp:26</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="namespaceproxygen_1_1spdy_html_aba8643c9d8cc69eb4f7bd82154a61db0"><div class="ttname"><a href="namespaceproxygen_1_1spdy.html#aba8643c9d8cc69eb4f7bd82154a61db0">proxygen::spdy::rstToErrorCode</a></div><div class="ttdeci">ErrorCode rstToErrorCode(uint32_t code)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYConstants_8cpp_source.html#l00066">SPDYConstants.cpp:66</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_a35aaa70cdcea29aa370cd7452c56e994"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#a35aaa70cdcea29aa370cd7452c56e994">shortSynStream</a></div><div class="ttdeci">uint8_t shortSynStream[]</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00032">SPDYCodecTest.cpp:32</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af2fbd375e6b37e262561fe8d6673727e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UnsupportedFrameType&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00333">333</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodecTest_8cpp_source.html#l00026">parseSPDY()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00313">spdy3UnknownCtlFrame</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                                          {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> codec(TransportDirection::DOWNSTREAM, SPDYVersion::SPDY3);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordtype">size_t</span> unconsumed = <a class="code" href="SPDYCodecTest_8cpp.html#ab34c8521c30a10f53a07b456a53a9dce">parseSPDY</a>(&amp;codec, <a class="code" href="SPDYCodecTest_8cpp.html#ac8d0fd94110856975f810f2ca4d3b026">spdy3UnknownCtlFrame</a>,</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                                <span class="keyword">sizeof</span>(<a class="code" href="SPDYCodecTest_8cpp.html#ac8d0fd94110856975f810f2ca4d3b026">spdy3UnknownCtlFrame</a>), -1, callbacks);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  EXPECT_EQ(unconsumed, 0);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 0);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="comment">// Spec says unknown control frames must be ignored</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_ab34c8521c30a10f53a07b456a53a9dce"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#ab34c8521c30a10f53a07b456a53a9dce">parseSPDY</a></div><div class="ttdeci">size_t parseSPDY(SPDYCodec *codec, const uint8_t *inputData, uint32_t length, int32_t atOnce, FakeHTTPCodecCallback &amp;callbacks)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00026">SPDYCodecTest.cpp:26</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_ac8d0fd94110856975f810f2ca4d3b026"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#ac8d0fd94110856975f810f2ca4d3b026">spdy3UnknownCtlFrame</a></div><div class="ttdeci">uint8_t spdy3UnknownCtlFrame[]</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00313">SPDYCodecTest.cpp:313</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a30d6189d0ad1e6a0cd110009e575acb1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DefaultMaxTransactions&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00428">428</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodecTest_8cpp_source.html#l00419">doDefaultMaxTransactionTest()</a>, and <a class="el" href="SPDYCodecTest_8cpp_source.html#l00383">permuteTest</a>.</p>
<div class="fragment"><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                                            {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <a class="code" href="SPDYCodecTest_8cpp.html#ae6a057fe2ea64fa3b0f9797e5b8aba54">permuteTest</a>(<a class="code" href="SPDYCodecTest_8cpp.html#aa3eb18f461933e5226bebe4425b97073">doDefaultMaxTransactionTest</a>);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;}</div><div class="ttc" id="SPDYCodecTest_8cpp_html_ae6a057fe2ea64fa3b0f9797e5b8aba54"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#ae6a057fe2ea64fa3b0f9797e5b8aba54">permuteTest</a></div><div class="ttdeci">#define permuteTest(f)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00383">SPDYCodecTest.cpp:383</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_aa3eb18f461933e5226bebe4425b97073"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#aa3eb18f461933e5226bebe4425b97073">doDefaultMaxTransactionTest</a></div><div class="ttdeci">void doDefaultMaxTransactionTest(Codec1 &amp;ingressCodec, Codec2 &amp;egressCodec)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00419">SPDYCodecTest.cpp:419</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a262cf854ebba2707d13239f4b1fbe3b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NonDefaultMaxTransactions&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00432">432</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodecTest_8cpp_source.html#l00424">doNonDefaultMaxTransactionTest()</a>, and <a class="el" href="SPDYCodecTest_8cpp_source.html#l00383">permuteTest</a>.</p>
<div class="fragment"><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                                               {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <a class="code" href="SPDYCodecTest_8cpp.html#ae6a057fe2ea64fa3b0f9797e5b8aba54">permuteTest</a>(<a class="code" href="SPDYCodecTest_8cpp.html#a6b0beaea6decf71e773bcdc38adf9e3e">doNonDefaultMaxTransactionTest</a>);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;}</div><div class="ttc" id="SPDYCodecTest_8cpp_html_ae6a057fe2ea64fa3b0f9797e5b8aba54"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#ae6a057fe2ea64fa3b0f9797e5b8aba54">permuteTest</a></div><div class="ttdeci">#define permuteTest(f)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00383">SPDYCodecTest.cpp:383</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_a6b0beaea6decf71e773bcdc38adf9e3e"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#a6b0beaea6decf71e773bcdc38adf9e3e">doNonDefaultMaxTransactionTest</a></div><div class="ttdeci">void doNonDefaultMaxTransactionTest(Codec1 &amp;ingressCodec, Codec2 &amp;egressCodec)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00424">SPDYCodecTest.cpp:424</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a63d9ccd5cc759f2f7c58e4b8797329db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EmptyHeaderValue&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00487">487</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodecTest_8cpp_source.html#l00437">doEmptyHeaderValueTest()</a>, and <a class="el" href="SPDYCodecTest_8cpp_source.html#l00383">permuteTest</a>.</p>
<div class="fragment"><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                                      {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <a class="code" href="SPDYCodecTest_8cpp.html#ae6a057fe2ea64fa3b0f9797e5b8aba54">permuteTest</a>(<a class="code" href="SPDYCodecTest_8cpp.html#aa9746bc258503f84bd4bb1c326acc350">doEmptyHeaderValueTest</a>);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;}</div><div class="ttc" id="SPDYCodecTest_8cpp_html_ae6a057fe2ea64fa3b0f9797e5b8aba54"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#ae6a057fe2ea64fa3b0f9797e5b8aba54">permuteTest</a></div><div class="ttdeci">#define permuteTest(f)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00383">SPDYCodecTest.cpp:383</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_aa9746bc258503f84bd4bb1c326acc350"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#aa9746bc258503f84bd4bb1c326acc350">doEmptyHeaderValueTest</a></div><div class="ttdeci">void doEmptyHeaderValueTest(Codec1 &amp;ingressCodec, Codec2 &amp;egressCodec)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00437">SPDYCodecTest.cpp:437</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa8447e32f6bcfed44b54d94b7004585f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SynStreamWrongVersion&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tests a syn stream request containing the wrong version. This frame is generated by using the v3 synStream firefox frame specified above and changing the version field to 2. The dictionary used for the zlib compression will be different and the session will be rejected. </p>

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00497">497</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodecTest_8cpp_source.html#l00389">getVersionedSpdyFrame()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00405">proxygen::FakeHTTPCodecCallback::lastParseError</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00026">parseSPDY()</a>, <a class="el" href="SPDYConstants_8h_source.html#l00065">proxygen::spdy::RST_PROTOCOL_ERROR</a>, <a class="el" href="SPDYConstants_8cpp_source.html#l00066">proxygen::spdy::rstToErrorCode()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>, and <a class="el" href="SPDYCodecTest_8cpp_source.html#l00108">synStream</a>.</p>
<div class="fragment"><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                                           {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> codec(TransportDirection::DOWNSTREAM, SPDYVersion::SPDY3);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="keyword">auto</span> frame = <a class="code" href="SPDYCodecTest_8cpp.html#a53be535cb8d5560ce21b07c315a8030b">getVersionedSpdyFrame</a>(<a class="code" href="SPDYCodecTest_8cpp.html#af23220e16cbf20c486ace9d0fd258e2f">synStream</a>, <span class="keyword">sizeof</span>(<a class="code" href="SPDYCodecTest_8cpp.html#af23220e16cbf20c486ace9d0fd258e2f">synStream</a>), 2);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordtype">size_t</span> unconsumed = <a class="code" href="SPDYCodecTest_8cpp.html#ab34c8521c30a10f53a07b456a53a9dce">parseSPDY</a>(&amp;codec, frame-&gt;data(), frame-&gt;length(), -1,</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                                callbacks);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  EXPECT_EQ(unconsumed, 0);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="comment">// Since the session compression state is inconsistent we need to send a</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="comment">// session error. Expect a GOAWAY with PROTOCOL_ERROR.</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 1);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5343ee9c4d330ddcebdce5f04c6736b9">lastParseError</a>-&gt;getCodecStatusCode(),</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            <a class="code" href="namespaceproxygen_1_1spdy.html#aba8643c9d8cc69eb4f7bd82154a61db0">spdy::rstToErrorCode</a>(<a class="code" href="namespaceproxygen_1_1spdy.html#acad181927e2127ae4b608bbd2bed5f2fa2881b88a0b363567a7b34bd44a640335">spdy::RST_PROTOCOL_ERROR</a>));</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;}</div><div class="ttc" id="SPDYCodecTest_8cpp_html_a53be535cb8d5560ce21b07c315a8030b"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#a53be535cb8d5560ce21b07c315a8030b">getVersionedSpdyFrame</a></div><div class="ttdeci">unique_ptr&lt; folly::IOBuf &gt; getVersionedSpdyFrame(const uint8_t *bytes, size_t len, uint8_t version)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00389">SPDYCodecTest.cpp:389</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a5343ee9c4d330ddcebdce5f04c6736b9"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a5343ee9c4d330ddcebdce5f04c6736b9">proxygen::FakeHTTPCodecCallback::lastParseError</a></div><div class="ttdeci">std::unique_ptr&lt; HTTPException &gt; lastParseError</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00405">TestUtils.h:405</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="namespaceproxygen_1_1spdy_html_acad181927e2127ae4b608bbd2bed5f2fa2881b88a0b363567a7b34bd44a640335"><div class="ttname"><a href="namespaceproxygen_1_1spdy.html#acad181927e2127ae4b608bbd2bed5f2fa2881b88a0b363567a7b34bd44a640335">proxygen::spdy::RST_PROTOCOL_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYConstants_8h_source.html#l00065">SPDYConstants.h:65</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_ab34c8521c30a10f53a07b456a53a9dce"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#ab34c8521c30a10f53a07b456a53a9dce">parseSPDY</a></div><div class="ttdeci">size_t parseSPDY(SPDYCodec *codec, const uint8_t *inputData, uint32_t length, int32_t atOnce, FakeHTTPCodecCallback &amp;callbacks)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00026">SPDYCodecTest.cpp:26</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_af23220e16cbf20c486ace9d0fd258e2f"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#af23220e16cbf20c486ace9d0fd258e2f">synStream</a></div><div class="ttdeci">uint8_t synStream[]</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00108">SPDYCodecTest.cpp:108</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="namespaceproxygen_1_1spdy_html_aba8643c9d8cc69eb4f7bd82154a61db0"><div class="ttname"><a href="namespaceproxygen_1_1spdy.html#aba8643c9d8cc69eb4f7bd82154a61db0">proxygen::spdy::rstToErrorCode</a></div><div class="ttdeci">ErrorCode rstToErrorCode(uint32_t code)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYConstants_8cpp_source.html#l00066">SPDYConstants.cpp:66</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aec8cba1912e6995af23b3ea2b507607c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ShortSynReply&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00531">531</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodecTest_8cpp_source.html#l00521">doShortSynReplyTest()</a>, and <a class="el" href="SPDYCodecTest_8cpp_source.html#l00383">permuteTest</a>.</p>
<div class="fragment"><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                                   {</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <a class="code" href="SPDYCodecTest_8cpp.html#ae6a057fe2ea64fa3b0f9797e5b8aba54">permuteTest</a>(<a class="code" href="SPDYCodecTest_8cpp.html#aca4ec8ba69db5ed76cb43d9ac0f3e4f8">doShortSynReplyTest</a>);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;}</div><div class="ttc" id="SPDYCodecTest_8cpp_html_aca4ec8ba69db5ed76cb43d9ac0f3e4f8"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#aca4ec8ba69db5ed76cb43d9ac0f3e4f8">doShortSynReplyTest</a></div><div class="ttdeci">void doShortSynReplyTest(Codec1 &amp;, Codec2 &amp;egressCodec)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00521">SPDYCodecTest.cpp:521</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_ae6a057fe2ea64fa3b0f9797e5b8aba54"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#ae6a057fe2ea64fa3b0f9797e5b8aba54">permuteTest</a></div><div class="ttdeci">#define permuteTest(f)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00383">SPDYCodecTest.cpp:383</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad014d518f79bc96201c5196e994a333d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SupportsSessionFlowControl&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00535">535</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodec_8cpp_source.html#l00214">proxygen::SPDYCodec::supportsSessionFlowControl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                                                {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> spdy3(TransportDirection::UPSTREAM,</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                  SPDYVersion::SPDY3);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> spdy3_1(TransportDirection::UPSTREAM,</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                    SPDYVersion::SPDY3_1);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  EXPECT_FALSE(spdy3.supportsSessionFlowControl());</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  EXPECT_TRUE(spdy3_1.supportsSessionFlowControl());</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;}</div><div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a242d67ef986233fc9ef8016e2ffe7a69"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HeaderWithManyValues&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00545">545</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="HTTPHeaders_8cpp_source.html#l00052">proxygen::HTTPHeaders::add()</a>, <a class="el" href="HTTPMessage_8h_source.html#l00273">proxygen::HTTPMessage::getHeaders()</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00345">getSynStream()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00375">proxygen::FakeHTTPCodecCallback::headersComplete</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00374">proxygen::FakeHTTPCodecCallback::messageBegin</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00376">proxygen::FakeHTTPCodecCallback::messageComplete</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00404">proxygen::FakeHTTPCodecCallback::msg</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="HTTPHeaders_8h_source.html#l00119">proxygen::HTTPHeaders::set()</a>, <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>, <a class="el" href="HTTPMessage_8cpp_source.html#l00216">proxygen::HTTPMessage::setMethod()</a>, <a class="el" href="HTTPMessage_8h_source.html#l00183">proxygen::HTTPMessage::setURL()</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                                          {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keyword">const</span> std::string kMultiValued = <span class="stringliteral">&quot;X-Multi-Valued&quot;</span>;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> kNumValues = 1000;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> egressCodec(TransportDirection::UPSTREAM,</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                        SPDYVersion::SPDY3);</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::DOWNSTREAM,</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                         SPDYVersion::SPDY3);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <a class="code" href="classproxygen_1_1HTTPMessage.html">HTTPMessage</a> req;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  req.<a class="code" href="classproxygen_1_1HTTPMessage.html#a40cc3df779b41f857084cebdba066c40">setMethod</a>(<span class="stringliteral">&quot;GET&quot;</span>);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  req.<a class="code" href="classproxygen_1_1HTTPMessage.html#a2ba4953e1ab061fe5eb68af08e684772">getHeaders</a>().<a class="code" href="classproxygen_1_1HTTPHeaders.html#a98de32ef8d9de8f8ab0198cc1a6dc747">set</a>(<span class="stringliteral">&quot;HOST&quot;</span>, <span class="stringliteral">&quot;www.foo.com&quot;</span>);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  req.<a class="code" href="classproxygen_1_1HTTPMessage.html#a0753ce8ab4cdd78cb5b8f4a97180e75b">setURL</a>(<span class="stringliteral">&quot;https://www.foo.com&quot;</span>);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; kNumValues; ++i) {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    req.<a class="code" href="classproxygen_1_1HTTPMessage.html#a2ba4953e1ab061fe5eb68af08e684772">getHeaders</a>().<a class="code" href="classproxygen_1_1HTTPHeaders.html#a16adcba8d8703095108ee809f84b62a4">add</a>(kMultiValued, folly::to&lt;string&gt;(<span class="stringliteral">&quot;Value&quot;</span>, i));</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  }</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="keyword">auto</span> syn = <a class="code" href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a>(egressCodec, 1, req);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  ingressCodec.onIngress(*syn);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">messageBegin</a>, 1);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 1);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">messageComplete</a>, 0);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 0);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  CHECK_NOTNULL(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#af35384751d2f5a0d9c1c979936e81df6">msg</a>.get());</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#af35384751d2f5a0d9c1c979936e81df6">msg</a>-&gt;getHeaders().getNumberOfValues(kMultiValued),</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            kNumValues);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a5d6360f70344c3bd06108594bd16985a"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">proxygen::FakeHTTPCodecCallback::messageBegin</a></div><div class="ttdeci">uint32_t messageBegin</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00374">TestUtils.h:374</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a9169c10fd22859a9fcee7246870b406d"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">proxygen::FakeHTTPCodecCallback::messageComplete</a></div><div class="ttdeci">uint32_t messageComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00376">TestUtils.h:376</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPHeaders_html_a98de32ef8d9de8f8ab0198cc1a6dc747"><div class="ttname"><a href="classproxygen_1_1HTTPHeaders.html#a98de32ef8d9de8f8ab0198cc1a6dc747">proxygen::HTTPHeaders::set</a></div><div class="ttdeci">void set(folly::StringPiece name, const std::string &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPHeaders_8h_source.html#l00119">HTTPHeaders.h:119</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a0753ce8ab4cdd78cb5b8f4a97180e75b"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a0753ce8ab4cdd78cb5b8f4a97180e75b">proxygen::HTTPMessage::setURL</a></div><div class="ttdeci">ParseURL setURL(T &amp;&amp;url)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00183">HTTPMessage.h:183</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a2ba4953e1ab061fe5eb68af08e684772"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a2ba4953e1ab061fe5eb68af08e684772">proxygen::HTTPMessage::getHeaders</a></div><div class="ttdeci">HTTPHeaders &amp; getHeaders()</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00273">HTTPMessage.h:273</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a40cc3df779b41f857084cebdba066c40"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a40cc3df779b41f857084cebdba066c40">proxygen::HTTPMessage::setMethod</a></div><div class="ttdeci">void setMethod(HTTPMethod method)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8cpp_source.html#l00216">HTTPMessage.cpp:216</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_aee55830ca5487628304d8f910ba6c997"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a></div><div class="ttdeci">unique_ptr&lt; folly::IOBuf &gt; getSynStream(Codec &amp;egressCodec, uint32_t streamID, const HTTPMessage &amp;msg, uint32_t assocStreamId=SPDYCodec::NoStream, bool eom=false, HTTPHeaderSize *size=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00345">SPDYCodecTest.cpp:345</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPHeaders_html_a16adcba8d8703095108ee809f84b62a4"><div class="ttname"><a href="classproxygen_1_1HTTPHeaders.html#a16adcba8d8703095108ee809f84b62a4">proxygen::HTTPHeaders::add</a></div><div class="ttdeci">void add(folly::StringPiece name, folly::StringPiece value)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPHeaders_8cpp_source.html#l00052">HTTPHeaders.cpp:52</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html">proxygen::HTTPMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00039">HTTPMessage.h:39</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_af35384751d2f5a0d9c1c979936e81df6"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#af35384751d2f5a0d9c1c979936e81df6">proxygen::FakeHTTPCodecCallback::msg</a></div><div class="ttdeci">std::unique_ptr&lt; HTTPMessage &gt; msg</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00404">TestUtils.h:404</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a91a599bfae6e8a2bee90876cd1863513"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">proxygen::FakeHTTPCodecCallback::headersComplete</a></div><div class="ttdeci">uint32_t headersComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00375">TestUtils.h:375</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adb1c374f97eab6e7829de2c94e3a6bd0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MultiplePaths&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00604">604</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodec_8cpp_source.html#l01023">proxygen::SPDYCodec::getVersion()</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00389">getVersionedSpdyFrame()</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00576">multiple_path_headers</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                                   {</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::DOWNSTREAM, SPDYVersion::SPDY3);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="keyword">auto</span> frame = <a class="code" href="SPDYCodecTest_8cpp.html#a53be535cb8d5560ce21b07c315a8030b">getVersionedSpdyFrame</a>(<a class="code" href="SPDYCodecTest_8cpp.html#aae21bbfba78aecf82b987539ee7a0523">multiple_path_headers</a>,</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;     <span class="keyword">sizeof</span>(<a class="code" href="SPDYCodecTest_8cpp.html#aae21bbfba78aecf82b987539ee7a0523">multiple_path_headers</a>), ingressCodec.getVersion());</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  ingressCodec.onIngress(*frame);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 1);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 0);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;}</div><div class="ttc" id="SPDYCodecTest_8cpp_html_aae21bbfba78aecf82b987539ee7a0523"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#aae21bbfba78aecf82b987539ee7a0523">multiple_path_headers</a></div><div class="ttdeci">uint8_t multiple_path_headers[]</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00576">SPDYCodecTest.cpp:576</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_a53be535cb8d5560ce21b07c315a8030b"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#a53be535cb8d5560ce21b07c315a8030b">getVersionedSpdyFrame</a></div><div class="ttdeci">unique_ptr&lt; folly::IOBuf &gt; getVersionedSpdyFrame(const uint8_t *bytes, size_t len, uint8_t version)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00389">SPDYCodecTest.cpp:389</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a39f0357bcc7978eaf9c7287346a6ccd5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LargeFrameEncoding&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00615">615</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="codec_2test_2TestUtils_8cpp_source.html#l00076">proxygen::getGetRequest()</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00345">getSynStream()</a>, and <a class="el" href="SPDYCodec_8cpp_source.html#l00193">proxygen::SPDYCodec::setMaxUncompressedHeaders()</a>.</p>
<div class="fragment"><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                                        {</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="keyword">const</span> std::string kMultiValued = <span class="stringliteral">&quot;X-Multi-Valued&quot;</span>;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> kNumValues = 1000;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> codec(TransportDirection::UPSTREAM, SPDYVersion::SPDY3);</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <span class="comment">// This will simulate the condition where we have a very small</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="comment">// compresed headers size compared to the number of headers we</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="comment">// have.</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  codec.setMaxUncompressedHeaders(0);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="keyword">auto</span> req = <a class="code" href="namespaceproxygen.html#ac94313b3a860ee1efa0939b0c8664798">getGetRequest</a>();</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; kNumValues; ++i) {</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    req.getHeaders().add(kMultiValued, folly::to&lt;string&gt;(<span class="stringliteral">&quot;Value&quot;</span>, i));</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  }</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="keyword">auto</span> syn = <a class="code" href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a>(codec, 1, req);</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;}</div><div class="ttc" id="SPDYCodecTest_8cpp_html_aee55830ca5487628304d8f910ba6c997"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a></div><div class="ttdeci">unique_ptr&lt; folly::IOBuf &gt; getSynStream(Codec &amp;egressCodec, uint32_t streamID, const HTTPMessage &amp;msg, uint32_t assocStreamId=SPDYCodec::NoStream, bool eom=false, HTTPHeaderSize *size=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00345">SPDYCodecTest.cpp:345</a></div></div>
<div class="ttc" id="namespaceproxygen_html_ac94313b3a860ee1efa0939b0c8664798"><div class="ttname"><a href="namespaceproxygen.html#ac94313b3a860ee1efa0939b0c8664798">proxygen::getGetRequest</a></div><div class="ttdeci">HTTPMessage getGetRequest(const std::string &amp;url)</div><div class="ttdef"><b>Definition:</b> <a href="codec_2test_2TestUtils_8cpp_source.html#l00076">TestUtils.cpp:76</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7581140f29c0f27ec8ca4fd2c2e55fda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">InvalidSettings&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00632">632</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodec_8cpp_source.html#l00941">proxygen::SPDYCodec::generateSettings()</a>, <a class="el" href="SPDYCodec_8h_source.html#l00107">proxygen::SPDYCodec::getEgressSettings()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00375">proxygen::FakeHTTPCodecCallback::headersComplete</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00374">proxygen::FakeHTTPCodecCallback::messageBegin</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00376">proxygen::FakeHTTPCodecCallback::messageComplete</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>, <a class="el" href="HTTPSettings_8cpp_source.html#l00016">proxygen::HTTPSettings::setSetting()</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                                     {</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> egressCodec(TransportDirection::UPSTREAM,</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                        SPDYVersion::SPDY3);</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::DOWNSTREAM,</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                         SPDYVersion::SPDY3);</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  folly::IOBufQueue output(folly::IOBufQueue::cacheChainLength());</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  egressCodec.getEgressSettings()-&gt;setSetting(</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    SettingsId::INITIAL_WINDOW_SIZE,</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    (uint32_t)std::numeric_limits&lt;int32_t&gt;::max() + 1);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  egressCodec.generateSettings(output);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="keyword">auto</span> ingress = output.move();</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  ingressCodec.onIngress(*ingress);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">messageBegin</a>, 0);</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 0);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">messageComplete</a>, 0);</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 1);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a5d6360f70344c3bd06108594bd16985a"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">proxygen::FakeHTTPCodecCallback::messageBegin</a></div><div class="ttdeci">uint32_t messageBegin</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00374">TestUtils.h:374</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a9169c10fd22859a9fcee7246870b406d"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">proxygen::FakeHTTPCodecCallback::messageComplete</a></div><div class="ttdeci">uint32_t messageComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00376">TestUtils.h:376</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a91a599bfae6e8a2bee90876cd1863513"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">proxygen::FakeHTTPCodecCallback::headersComplete</a></div><div class="ttdeci">uint32_t headersComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00375">TestUtils.h:375</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aef015097c020e60909c6b20faeeed4ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HeaderWithFin&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00655">655</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00370">proxygen::FakeHTTPCodecCallback::assocStreamId</a>, <a class="el" href="HTTPMessage_8h_source.html#l00273">proxygen::HTTPMessage::getHeaders()</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00345">getSynStream()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00375">proxygen::FakeHTTPCodecCallback::headersComplete</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00374">proxygen::FakeHTTPCodecCallback::messageBegin</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00376">proxygen::FakeHTTPCodecCallback::messageComplete</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="HTTPHeaders_8h_source.html#l00119">proxygen::HTTPHeaders::set()</a>, <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>, <a class="el" href="HTTPMessage_8cpp_source.html#l00216">proxygen::HTTPMessage::setMethod()</a>, <a class="el" href="HTTPMessage_8h_source.html#l00183">proxygen::HTTPMessage::setURL()</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                                   {</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> egressCodec(TransportDirection::UPSTREAM,</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                        SPDYVersion::SPDY3);</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::DOWNSTREAM,</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                         SPDYVersion::SPDY3);</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <a class="code" href="classproxygen_1_1HTTPMessage.html">HTTPMessage</a> req;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  req.<a class="code" href="classproxygen_1_1HTTPMessage.html#a40cc3df779b41f857084cebdba066c40">setMethod</a>(<span class="stringliteral">&quot;GET&quot;</span>);</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  req.<a class="code" href="classproxygen_1_1HTTPMessage.html#a2ba4953e1ab061fe5eb68af08e684772">getHeaders</a>().<a class="code" href="classproxygen_1_1HTTPHeaders.html#a98de32ef8d9de8f8ab0198cc1a6dc747">set</a>(<span class="stringliteral">&quot;HOST&quot;</span>, <span class="stringliteral">&quot;www.foo.com&quot;</span>);</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  req.<a class="code" href="classproxygen_1_1HTTPMessage.html#a0753ce8ab4cdd78cb5b8f4a97180e75b">setURL</a>(<span class="stringliteral">&quot;https://www.foo.com/&quot;</span>);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="keyword">auto</span> syn = <a class="code" href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a>(egressCodec, 1, req, 0, <span class="keyword">true</span> <span class="comment">/* eom */</span>);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  ingressCodec.onIngress(*syn);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">messageBegin</a>, 1);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 1);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">messageComplete</a>, 1);</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 0);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a3c3fa6f7e2495172b0159b2e6d413268">assocStreamId</a>, 0);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a5d6360f70344c3bd06108594bd16985a"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">proxygen::FakeHTTPCodecCallback::messageBegin</a></div><div class="ttdeci">uint32_t messageBegin</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00374">TestUtils.h:374</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a3c3fa6f7e2495172b0159b2e6d413268"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a3c3fa6f7e2495172b0159b2e6d413268">proxygen::FakeHTTPCodecCallback::assocStreamId</a></div><div class="ttdeci">HTTPCodec::StreamID assocStreamId</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00370">TestUtils.h:370</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a9169c10fd22859a9fcee7246870b406d"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">proxygen::FakeHTTPCodecCallback::messageComplete</a></div><div class="ttdeci">uint32_t messageComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00376">TestUtils.h:376</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPHeaders_html_a98de32ef8d9de8f8ab0198cc1a6dc747"><div class="ttname"><a href="classproxygen_1_1HTTPHeaders.html#a98de32ef8d9de8f8ab0198cc1a6dc747">proxygen::HTTPHeaders::set</a></div><div class="ttdeci">void set(folly::StringPiece name, const std::string &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPHeaders_8h_source.html#l00119">HTTPHeaders.h:119</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a0753ce8ab4cdd78cb5b8f4a97180e75b"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a0753ce8ab4cdd78cb5b8f4a97180e75b">proxygen::HTTPMessage::setURL</a></div><div class="ttdeci">ParseURL setURL(T &amp;&amp;url)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00183">HTTPMessage.h:183</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a2ba4953e1ab061fe5eb68af08e684772"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a2ba4953e1ab061fe5eb68af08e684772">proxygen::HTTPMessage::getHeaders</a></div><div class="ttdeci">HTTPHeaders &amp; getHeaders()</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00273">HTTPMessage.h:273</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a40cc3df779b41f857084cebdba066c40"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a40cc3df779b41f857084cebdba066c40">proxygen::HTTPMessage::setMethod</a></div><div class="ttdeci">void setMethod(HTTPMethod method)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8cpp_source.html#l00216">HTTPMessage.cpp:216</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_aee55830ca5487628304d8f910ba6c997"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a></div><div class="ttdeci">unique_ptr&lt; folly::IOBuf &gt; getSynStream(Codec &amp;egressCodec, uint32_t streamID, const HTTPMessage &amp;msg, uint32_t assocStreamId=SPDYCodec::NoStream, bool eom=false, HTTPHeaderSize *size=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00345">SPDYCodecTest.cpp:345</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html">proxygen::HTTPMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00039">HTTPMessage.h:39</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a91a599bfae6e8a2bee90876cd1863513"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">proxygen::FakeHTTPCodecCallback::headersComplete</a></div><div class="ttdeci">uint32_t headersComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00375">TestUtils.h:375</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a265f2c5e9dc8ecccce76996d8bfc2fc8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ServerPush&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00677">677</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00370">proxygen::FakeHTTPCodecCallback::assocStreamId</a>, <a class="el" href="HTTPMessage_8h_source.html#l00273">proxygen::HTTPMessage::getHeaders()</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00345">getSynStream()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00375">proxygen::FakeHTTPCodecCallback::headersComplete</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00374">proxygen::FakeHTTPCodecCallback::messageBegin</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00376">proxygen::FakeHTTPCodecCallback::messageComplete</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="HTTPHeaders_8h_source.html#l00119">proxygen::HTTPHeaders::set()</a>, <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>, <a class="el" href="HTTPMessage_8h_source.html#l00183">proxygen::HTTPMessage::setURL()</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                                {</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> egressCodec(TransportDirection::DOWNSTREAM,</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                        SPDYVersion::SPDY3);</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::UPSTREAM,</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                         SPDYVersion::SPDY3);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <a class="code" href="classproxygen_1_1HTTPMessage.html">HTTPMessage</a> push;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  push.<a class="code" href="classproxygen_1_1HTTPMessage.html#a2ba4953e1ab061fe5eb68af08e684772">getHeaders</a>().<a class="code" href="classproxygen_1_1HTTPHeaders.html#a98de32ef8d9de8f8ab0198cc1a6dc747">set</a>(<span class="stringliteral">&quot;HOST&quot;</span>, <span class="stringliteral">&quot;www.foo.com&quot;</span>);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  push.<a class="code" href="classproxygen_1_1HTTPMessage.html#a0753ce8ab4cdd78cb5b8f4a97180e75b">setURL</a>(<span class="stringliteral">&quot;https://www.foo.com/&quot;</span>);</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="keyword">auto</span> syn = <a class="code" href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a>(egressCodec, 2, push, 1);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  ingressCodec.onIngress(*syn);</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">messageBegin</a>, 1);</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 1);</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">messageComplete</a>, 0);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 0);</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a3c3fa6f7e2495172b0159b2e6d413268">assocStreamId</a>, 1);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a5d6360f70344c3bd06108594bd16985a"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">proxygen::FakeHTTPCodecCallback::messageBegin</a></div><div class="ttdeci">uint32_t messageBegin</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00374">TestUtils.h:374</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a3c3fa6f7e2495172b0159b2e6d413268"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a3c3fa6f7e2495172b0159b2e6d413268">proxygen::FakeHTTPCodecCallback::assocStreamId</a></div><div class="ttdeci">HTTPCodec::StreamID assocStreamId</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00370">TestUtils.h:370</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a9169c10fd22859a9fcee7246870b406d"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">proxygen::FakeHTTPCodecCallback::messageComplete</a></div><div class="ttdeci">uint32_t messageComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00376">TestUtils.h:376</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPHeaders_html_a98de32ef8d9de8f8ab0198cc1a6dc747"><div class="ttname"><a href="classproxygen_1_1HTTPHeaders.html#a98de32ef8d9de8f8ab0198cc1a6dc747">proxygen::HTTPHeaders::set</a></div><div class="ttdeci">void set(folly::StringPiece name, const std::string &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPHeaders_8h_source.html#l00119">HTTPHeaders.h:119</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a0753ce8ab4cdd78cb5b8f4a97180e75b"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a0753ce8ab4cdd78cb5b8f4a97180e75b">proxygen::HTTPMessage::setURL</a></div><div class="ttdeci">ParseURL setURL(T &amp;&amp;url)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00183">HTTPMessage.h:183</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a2ba4953e1ab061fe5eb68af08e684772"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a2ba4953e1ab061fe5eb68af08e684772">proxygen::HTTPMessage::getHeaders</a></div><div class="ttdeci">HTTPHeaders &amp; getHeaders()</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00273">HTTPMessage.h:273</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_aee55830ca5487628304d8f910ba6c997"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a></div><div class="ttdeci">unique_ptr&lt; folly::IOBuf &gt; getSynStream(Codec &amp;egressCodec, uint32_t streamID, const HTTPMessage &amp;msg, uint32_t assocStreamId=SPDYCodec::NoStream, bool eom=false, HTTPHeaderSize *size=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00345">SPDYCodecTest.cpp:345</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html">proxygen::HTTPMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00039">HTTPMessage.h:39</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a91a599bfae6e8a2bee90876cd1863513"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">proxygen::FakeHTTPCodecCallback::headersComplete</a></div><div class="ttdeci">uint32_t headersComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00375">TestUtils.h:375</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8ea4bb47c897b5d38eecf5210222e5f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ServerPushWithStatus&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00698">698</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00370">proxygen::FakeHTTPCodecCallback::assocStreamId</a>, <a class="el" href="HTTPMessage_8h_source.html#l00273">proxygen::HTTPMessage::getHeaders()</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00345">getSynStream()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00375">proxygen::FakeHTTPCodecCallback::headersComplete</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00374">proxygen::FakeHTTPCodecCallback::messageBegin</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00376">proxygen::FakeHTTPCodecCallback::messageComplete</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00404">proxygen::FakeHTTPCodecCallback::msg</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="HTTPHeaders_8h_source.html#l00119">proxygen::HTTPHeaders::set()</a>, <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>, <a class="el" href="HTTPMessage_8cpp_source.html#l00344">proxygen::HTTPMessage::setPushStatusCode()</a>, <a class="el" href="HTTPMessage_8h_source.html#l00183">proxygen::HTTPMessage::setURL()</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                                          {</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> egressCodec(TransportDirection::DOWNSTREAM,</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                        SPDYVersion::SPDY3);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::UPSTREAM,</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                         SPDYVersion::SPDY3);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <a class="code" href="classproxygen_1_1HTTPMessage.html">HTTPMessage</a> push;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  push.<a class="code" href="classproxygen_1_1HTTPMessage.html#a2ba4953e1ab061fe5eb68af08e684772">getHeaders</a>().<a class="code" href="classproxygen_1_1HTTPHeaders.html#a98de32ef8d9de8f8ab0198cc1a6dc747">set</a>(<span class="stringliteral">&quot;HOST&quot;</span>, <span class="stringliteral">&quot;www.foo.com&quot;</span>);</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  push.<a class="code" href="classproxygen_1_1HTTPMessage.html#a0753ce8ab4cdd78cb5b8f4a97180e75b">setURL</a>(<span class="stringliteral">&quot;https://www.foo.com/&quot;</span>);</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  push.<a class="code" href="classproxygen_1_1HTTPMessage.html#a5b3bc3f21d22d5bf2551b9164a41ae00">setPushStatusCode</a>(200);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="keyword">auto</span> syn = <a class="code" href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a>(egressCodec, 2, push, 1);</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  ingressCodec.onIngress(*syn);</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">messageBegin</a>, 1);</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 1);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">messageComplete</a>, 0);</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 0);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a3c3fa6f7e2495172b0159b2e6d413268">assocStreamId</a>, 1);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#af35384751d2f5a0d9c1c979936e81df6">msg</a>-&gt;getPushStatusCode(), 200);</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a5d6360f70344c3bd06108594bd16985a"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">proxygen::FakeHTTPCodecCallback::messageBegin</a></div><div class="ttdeci">uint32_t messageBegin</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00374">TestUtils.h:374</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a3c3fa6f7e2495172b0159b2e6d413268"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a3c3fa6f7e2495172b0159b2e6d413268">proxygen::FakeHTTPCodecCallback::assocStreamId</a></div><div class="ttdeci">HTTPCodec::StreamID assocStreamId</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00370">TestUtils.h:370</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a9169c10fd22859a9fcee7246870b406d"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">proxygen::FakeHTTPCodecCallback::messageComplete</a></div><div class="ttdeci">uint32_t messageComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00376">TestUtils.h:376</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a5b3bc3f21d22d5bf2551b9164a41ae00"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a5b3bc3f21d22d5bf2551b9164a41ae00">proxygen::HTTPMessage::setPushStatusCode</a></div><div class="ttdeci">void setPushStatusCode(const uint16_t status)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8cpp_source.html#l00344">HTTPMessage.cpp:344</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPHeaders_html_a98de32ef8d9de8f8ab0198cc1a6dc747"><div class="ttname"><a href="classproxygen_1_1HTTPHeaders.html#a98de32ef8d9de8f8ab0198cc1a6dc747">proxygen::HTTPHeaders::set</a></div><div class="ttdeci">void set(folly::StringPiece name, const std::string &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPHeaders_8h_source.html#l00119">HTTPHeaders.h:119</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a0753ce8ab4cdd78cb5b8f4a97180e75b"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a0753ce8ab4cdd78cb5b8f4a97180e75b">proxygen::HTTPMessage::setURL</a></div><div class="ttdeci">ParseURL setURL(T &amp;&amp;url)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00183">HTTPMessage.h:183</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a2ba4953e1ab061fe5eb68af08e684772"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a2ba4953e1ab061fe5eb68af08e684772">proxygen::HTTPMessage::getHeaders</a></div><div class="ttdeci">HTTPHeaders &amp; getHeaders()</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00273">HTTPMessage.h:273</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_aee55830ca5487628304d8f910ba6c997"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a></div><div class="ttdeci">unique_ptr&lt; folly::IOBuf &gt; getSynStream(Codec &amp;egressCodec, uint32_t streamID, const HTTPMessage &amp;msg, uint32_t assocStreamId=SPDYCodec::NoStream, bool eom=false, HTTPHeaderSize *size=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00345">SPDYCodecTest.cpp:345</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html">proxygen::HTTPMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00039">HTTPMessage.h:39</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_af35384751d2f5a0d9c1c979936e81df6"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#af35384751d2f5a0d9c1c979936e81df6">proxygen::FakeHTTPCodecCallback::msg</a></div><div class="ttdeci">std::unique_ptr&lt; HTTPMessage &gt; msg</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00404">TestUtils.h:404</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a91a599bfae6e8a2bee90876cd1863513"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">proxygen::FakeHTTPCodecCallback::headersComplete</a></div><div class="ttdeci">uint32_t headersComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00375">TestUtils.h:375</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2ecfcefc7dce20d7a38dc1d0074225fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ServerPushHostMissing&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00744">744</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00370">proxygen::FakeHTTPCodecCallback::assocStreamId</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00375">proxygen::FakeHTTPCodecCallback::headersComplete</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00374">proxygen::FakeHTTPCodecCallback::messageBegin</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00376">proxygen::FakeHTTPCodecCallback::messageComplete</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00724">pushStreamWithHostMissing</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                                           {</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::UPSTREAM,</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                         SPDYVersion::SPDY3);</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="keyword">auto</span> syn = folly::IOBuf::copyBuffer(<a class="code" href="SPDYCodecTest_8cpp.html#a7114cf6fc04601d73f31ea2a8230813c">pushStreamWithHostMissing</a>,</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                                      <span class="keyword">sizeof</span>(<a class="code" href="SPDYCodecTest_8cpp.html#a7114cf6fc04601d73f31ea2a8230813c">pushStreamWithHostMissing</a>));</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  ingressCodec.onIngress(*syn);</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">messageBegin</a>, 0);</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 0);</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">messageComplete</a>, 0);</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 1);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 0);</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a3c3fa6f7e2495172b0159b2e6d413268">assocStreamId</a>, 0);</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;}</div><div class="ttc" id="SPDYCodecTest_8cpp_html_a7114cf6fc04601d73f31ea2a8230813c"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#a7114cf6fc04601d73f31ea2a8230813c">pushStreamWithHostMissing</a></div><div class="ttdeci">uint8_t pushStreamWithHostMissing[]</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00724">SPDYCodecTest.cpp:724</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a5d6360f70344c3bd06108594bd16985a"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">proxygen::FakeHTTPCodecCallback::messageBegin</a></div><div class="ttdeci">uint32_t messageBegin</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00374">TestUtils.h:374</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a3c3fa6f7e2495172b0159b2e6d413268"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a3c3fa6f7e2495172b0159b2e6d413268">proxygen::FakeHTTPCodecCallback::assocStreamId</a></div><div class="ttdeci">HTTPCodec::StreamID assocStreamId</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00370">TestUtils.h:370</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a9169c10fd22859a9fcee7246870b406d"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">proxygen::FakeHTTPCodecCallback::messageComplete</a></div><div class="ttdeci">uint32_t messageComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00376">TestUtils.h:376</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a91a599bfae6e8a2bee90876cd1863513"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">proxygen::FakeHTTPCodecCallback::headersComplete</a></div><div class="ttdeci">uint32_t headersComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00375">TestUtils.h:375</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2705159a53b9450043b87c6d876c1529"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ServerPushInvalidId&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00787">787</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00370">proxygen::FakeHTTPCodecCallback::assocStreamId</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00375">proxygen::FakeHTTPCodecCallback::headersComplete</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00374">proxygen::FakeHTTPCodecCallback::messageBegin</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00376">proxygen::FakeHTTPCodecCallback::messageComplete</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00764">pushStreamWithOddId</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                                         {</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::UPSTREAM,</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                         SPDYVersion::SPDY3);</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="keyword">auto</span> syn = folly::IOBuf::copyBuffer(<a class="code" href="SPDYCodecTest_8cpp.html#a24f70503a4a54bf2a393338b6ba5cbeb">pushStreamWithOddId</a>,</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                                      <span class="keyword">sizeof</span>(<a class="code" href="SPDYCodecTest_8cpp.html#a24f70503a4a54bf2a393338b6ba5cbeb">pushStreamWithOddId</a>));</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  ingressCodec.onIngress(*syn);</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">messageBegin</a>, 0);</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 0);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">messageComplete</a>, 0);</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 1);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a3c3fa6f7e2495172b0159b2e6d413268">assocStreamId</a>, 0);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a5d6360f70344c3bd06108594bd16985a"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">proxygen::FakeHTTPCodecCallback::messageBegin</a></div><div class="ttdeci">uint32_t messageBegin</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00374">TestUtils.h:374</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a3c3fa6f7e2495172b0159b2e6d413268"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a3c3fa6f7e2495172b0159b2e6d413268">proxygen::FakeHTTPCodecCallback::assocStreamId</a></div><div class="ttdeci">HTTPCodec::StreamID assocStreamId</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00370">TestUtils.h:370</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a9169c10fd22859a9fcee7246870b406d"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">proxygen::FakeHTTPCodecCallback::messageComplete</a></div><div class="ttdeci">uint32_t messageComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00376">TestUtils.h:376</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_a24f70503a4a54bf2a393338b6ba5cbeb"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#a24f70503a4a54bf2a393338b6ba5cbeb">pushStreamWithOddId</a></div><div class="ttdeci">uint8_t pushStreamWithOddId[]</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00764">SPDYCodecTest.cpp:764</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a91a599bfae6e8a2bee90876cd1863513"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">proxygen::FakeHTTPCodecCallback::headersComplete</a></div><div class="ttdeci">uint32_t headersComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00375">TestUtils.h:375</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a30ad4e7e486c932402b737df5ce550b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ServerPushInvalidFlags&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00830">830</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00370">proxygen::FakeHTTPCodecCallback::assocStreamId</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00375">proxygen::FakeHTTPCodecCallback::headersComplete</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00374">proxygen::FakeHTTPCodecCallback::messageBegin</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00376">proxygen::FakeHTTPCodecCallback::messageComplete</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00807">pushStreamWithoutUnidirectional</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                                            {</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::UPSTREAM,</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                         SPDYVersion::SPDY3);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <span class="keyword">auto</span> syn = folly::IOBuf::copyBuffer(<a class="code" href="SPDYCodecTest_8cpp.html#ab4cb6d938e2a873e310c486c0cee91b5">pushStreamWithoutUnidirectional</a>,</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                                      <span class="keyword">sizeof</span>(<a class="code" href="SPDYCodecTest_8cpp.html#ab4cb6d938e2a873e310c486c0cee91b5">pushStreamWithoutUnidirectional</a>));</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  ingressCodec.onIngress(*syn);</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">messageBegin</a>, 0);</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 0);</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">messageComplete</a>, 0);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 1);</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 0);</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a3c3fa6f7e2495172b0159b2e6d413268">assocStreamId</a>, 0);</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a5d6360f70344c3bd06108594bd16985a"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">proxygen::FakeHTTPCodecCallback::messageBegin</a></div><div class="ttdeci">uint32_t messageBegin</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00374">TestUtils.h:374</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a3c3fa6f7e2495172b0159b2e6d413268"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a3c3fa6f7e2495172b0159b2e6d413268">proxygen::FakeHTTPCodecCallback::assocStreamId</a></div><div class="ttdeci">HTTPCodec::StreamID assocStreamId</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00370">TestUtils.h:370</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a9169c10fd22859a9fcee7246870b406d"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">proxygen::FakeHTTPCodecCallback::messageComplete</a></div><div class="ttdeci">uint32_t messageComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00376">TestUtils.h:376</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_ab4cb6d938e2a873e310c486c0cee91b5"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#ab4cb6d938e2a873e310c486c0cee91b5">pushStreamWithoutUnidirectional</a></div><div class="ttdeci">uint8_t pushStreamWithoutUnidirectional[]</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00807">SPDYCodecTest.cpp:807</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a91a599bfae6e8a2bee90876cd1863513"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">proxygen::FakeHTTPCodecCallback::headersComplete</a></div><div class="ttdeci">uint32_t headersComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00375">TestUtils.h:375</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a28c54da65d122ce515645775f33950a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ServerPushWithoutAssoc&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00873">873</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00370">proxygen::FakeHTTPCodecCallback::assocStreamId</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00375">proxygen::FakeHTTPCodecCallback::headersComplete</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00374">proxygen::FakeHTTPCodecCallback::messageBegin</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00376">proxygen::FakeHTTPCodecCallback::messageComplete</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00850">pushStreamWithoutAssoc</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                                            {</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::UPSTREAM,</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                         SPDYVersion::SPDY3);</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <span class="keyword">auto</span> syn = folly::IOBuf::copyBuffer(<a class="code" href="SPDYCodecTest_8cpp.html#a165531b605495d0351b390a535ee45ff">pushStreamWithoutAssoc</a>,</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                                      <span class="keyword">sizeof</span>(<a class="code" href="SPDYCodecTest_8cpp.html#a165531b605495d0351b390a535ee45ff">pushStreamWithoutAssoc</a>));</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  ingressCodec.onIngress(*syn);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">messageBegin</a>, 0);</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 0);</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">messageComplete</a>, 0);</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 1);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a3c3fa6f7e2495172b0159b2e6d413268">assocStreamId</a>, 0);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a5d6360f70344c3bd06108594bd16985a"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">proxygen::FakeHTTPCodecCallback::messageBegin</a></div><div class="ttdeci">uint32_t messageBegin</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00374">TestUtils.h:374</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a3c3fa6f7e2495172b0159b2e6d413268"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a3c3fa6f7e2495172b0159b2e6d413268">proxygen::FakeHTTPCodecCallback::assocStreamId</a></div><div class="ttdeci">HTTPCodec::StreamID assocStreamId</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00370">TestUtils.h:370</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a9169c10fd22859a9fcee7246870b406d"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">proxygen::FakeHTTPCodecCallback::messageComplete</a></div><div class="ttdeci">uint32_t messageComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00376">TestUtils.h:376</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_a165531b605495d0351b390a535ee45ff"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#a165531b605495d0351b390a535ee45ff">pushStreamWithoutAssoc</a></div><div class="ttdeci">uint8_t pushStreamWithoutAssoc[]</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00850">SPDYCodecTest.cpp:850</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a91a599bfae6e8a2bee90876cd1863513"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">proxygen::FakeHTTPCodecCallback::headersComplete</a></div><div class="ttdeci">uint32_t headersComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00375">TestUtils.h:375</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac7736c83cd1e68a6d564bf09167810f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StatusReason&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00890">890</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodecTest_8cpp_source.html#l00345">getSynStream()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00375">proxygen::FakeHTTPCodecCallback::headersComplete</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00405">proxygen::FakeHTTPCodecCallback::lastParseError</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00374">proxygen::FakeHTTPCodecCallback::messageBegin</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00376">proxygen::FakeHTTPCodecCallback::messageComplete</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00404">proxygen::FakeHTTPCodecCallback::msg</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00299">proxygen::FakeHTTPCodecCallback::reset()</a>, <a class="el" href="SPDYConstants_8h_source.html#l00065">proxygen::spdy::RST_PROTOCOL_ERROR</a>, <a class="el" href="SPDYConstants_8cpp_source.html#l00066">proxygen::spdy::rstToErrorCode()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>, <a class="el" href="HTTPMessage_8cpp_source.html#l00335">proxygen::HTTPMessage::setStatusCode()</a>, <a class="el" href="HTTPMessage_8h_source.html#l00242">proxygen::HTTPMessage::setStatusMessage()</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                                  {</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> egressCodec(TransportDirection::DOWNSTREAM,</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                        SPDYVersion::SPDY3);</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::UPSTREAM,</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                         SPDYVersion::SPDY3);</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <a class="code" href="classproxygen_1_1HTTPMessage.html">HTTPMessage</a> resp;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  resp.<a class="code" href="classproxygen_1_1HTTPMessage.html#afebc2989867ffa543649e03f07b0d053">setStatusCode</a>(200);</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <span class="keyword">auto</span> syn = <a class="code" href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a>(egressCodec, 1, resp, 0);</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  ingressCodec.onIngress(*syn);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">messageBegin</a>, 1);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 1);</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">messageComplete</a>, 0);</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 0);</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#af35384751d2f5a0d9c1c979936e81df6">msg</a>-&gt;getStatusCode(), 200);</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#af35384751d2f5a0d9c1c979936e81df6">msg</a>-&gt;getStatusMessage(), <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab8ddd949021dc00ffd6f734b2ef4e300">reset</a>();</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  resp.<a class="code" href="classproxygen_1_1HTTPMessage.html#afebc2989867ffa543649e03f07b0d053">setStatusCode</a>(200);</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  resp.<a class="code" href="classproxygen_1_1HTTPMessage.html#a4dd2bd0f1be8509fb290f0e5918e3196">setStatusMessage</a>(<span class="stringliteral">&quot;Awesome&quot;</span>);</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  syn = <a class="code" href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a>(egressCodec, 1, resp, 0);</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  ingressCodec.onIngress(*syn);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">messageBegin</a>, 1);</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 1);</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">messageComplete</a>, 0);</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 0);</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#af35384751d2f5a0d9c1c979936e81df6">msg</a>-&gt;getStatusCode(), 200);</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#af35384751d2f5a0d9c1c979936e81df6">msg</a>-&gt;getStatusMessage(), <span class="stringliteral">&quot;Awesome&quot;</span>);</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab8ddd949021dc00ffd6f734b2ef4e300">reset</a>();</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <span class="comment">// Out of range</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  resp.<a class="code" href="classproxygen_1_1HTTPMessage.html#afebc2989867ffa543649e03f07b0d053">setStatusCode</a>(2000);</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  resp.<a class="code" href="classproxygen_1_1HTTPMessage.html#a4dd2bd0f1be8509fb290f0e5918e3196">setStatusMessage</a>(<span class="stringliteral">&quot;10x OK&quot;</span>);</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  syn = <a class="code" href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a>(egressCodec, 1, resp, 0);</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  ingressCodec.onIngress(*syn);</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">messageBegin</a>, 0);</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 0);</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">messageComplete</a>, 0);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 1);</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 0);</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  EXPECT_TRUE(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5343ee9c4d330ddcebdce5f04c6736b9">lastParseError</a>-&gt;hasCodecStatusCode());</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5343ee9c4d330ddcebdce5f04c6736b9">lastParseError</a>-&gt;getCodecStatusCode(),</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;            <a class="code" href="namespaceproxygen_1_1spdy.html#aba8643c9d8cc69eb4f7bd82154a61db0">spdy::rstToErrorCode</a>(<a class="code" href="namespaceproxygen_1_1spdy.html#acad181927e2127ae4b608bbd2bed5f2fa2881b88a0b363567a7b34bd44a640335">spdy::RST_PROTOCOL_ERROR</a>));</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab8ddd949021dc00ffd6f734b2ef4e300">reset</a>();</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  resp.<a class="code" href="classproxygen_1_1HTTPMessage.html#afebc2989867ffa543649e03f07b0d053">setStatusCode</a>(64);</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  resp.<a class="code" href="classproxygen_1_1HTTPMessage.html#a4dd2bd0f1be8509fb290f0e5918e3196">setStatusMessage</a>(<span class="stringliteral">&quot;Ought to be enough for anybody&quot;</span>);</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  syn = <a class="code" href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a>(egressCodec, 1, resp, 0);</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  ingressCodec.onIngress(*syn);</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">messageBegin</a>, 0);</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 0);</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">messageComplete</a>, 0);</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 1);</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 0);</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  EXPECT_TRUE(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5343ee9c4d330ddcebdce5f04c6736b9">lastParseError</a>-&gt;hasCodecStatusCode());</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5343ee9c4d330ddcebdce5f04c6736b9">lastParseError</a>-&gt;getCodecStatusCode(),</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            <a class="code" href="namespaceproxygen_1_1spdy.html#aba8643c9d8cc69eb4f7bd82154a61db0">spdy::rstToErrorCode</a>(<a class="code" href="namespaceproxygen_1_1spdy.html#acad181927e2127ae4b608bbd2bed5f2fa2881b88a0b363567a7b34bd44a640335">spdy::RST_PROTOCOL_ERROR</a>));</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab8ddd949021dc00ffd6f734b2ef4e300">reset</a>();</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a5d6360f70344c3bd06108594bd16985a"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">proxygen::FakeHTTPCodecCallback::messageBegin</a></div><div class="ttdeci">uint32_t messageBegin</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00374">TestUtils.h:374</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a5343ee9c4d330ddcebdce5f04c6736b9"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a5343ee9c4d330ddcebdce5f04c6736b9">proxygen::FakeHTTPCodecCallback::lastParseError</a></div><div class="ttdeci">std::unique_ptr&lt; HTTPException &gt; lastParseError</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00405">TestUtils.h:405</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a4dd2bd0f1be8509fb290f0e5918e3196"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a4dd2bd0f1be8509fb290f0e5918e3196">proxygen::HTTPMessage::setStatusMessage</a></div><div class="ttdeci">void setStatusMessage(T &amp;&amp;msg)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00242">HTTPMessage.h:242</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a9169c10fd22859a9fcee7246870b406d"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">proxygen::FakeHTTPCodecCallback::messageComplete</a></div><div class="ttdeci">uint32_t messageComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00376">TestUtils.h:376</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab8ddd949021dc00ffd6f734b2ef4e300"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab8ddd949021dc00ffd6f734b2ef4e300">proxygen::FakeHTTPCodecCallback::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00299">TestUtils.h:299</a></div></div>
<div class="ttc" id="namespaceproxygen_1_1spdy_html_acad181927e2127ae4b608bbd2bed5f2fa2881b88a0b363567a7b34bd44a640335"><div class="ttname"><a href="namespaceproxygen_1_1spdy.html#acad181927e2127ae4b608bbd2bed5f2fa2881b88a0b363567a7b34bd44a640335">proxygen::spdy::RST_PROTOCOL_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYConstants_8h_source.html#l00065">SPDYConstants.h:65</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_aee55830ca5487628304d8f910ba6c997"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a></div><div class="ttdeci">unique_ptr&lt; folly::IOBuf &gt; getSynStream(Codec &amp;egressCodec, uint32_t streamID, const HTTPMessage &amp;msg, uint32_t assocStreamId=SPDYCodec::NoStream, bool eom=false, HTTPHeaderSize *size=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00345">SPDYCodecTest.cpp:345</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html">proxygen::HTTPMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00039">HTTPMessage.h:39</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_af35384751d2f5a0d9c1c979936e81df6"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#af35384751d2f5a0d9c1c979936e81df6">proxygen::FakeHTTPCodecCallback::msg</a></div><div class="ttdeci">std::unique_ptr&lt; HTTPMessage &gt; msg</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00404">TestUtils.h:404</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a91a599bfae6e8a2bee90876cd1863513"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">proxygen::FakeHTTPCodecCallback::headersComplete</a></div><div class="ttdeci">uint32_t headersComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00375">TestUtils.h:375</a></div></div>
<div class="ttc" id="namespaceproxygen_1_1spdy_html_aba8643c9d8cc69eb4f7bd82154a61db0"><div class="ttname"><a href="namespaceproxygen_1_1spdy.html#aba8643c9d8cc69eb4f7bd82154a61db0">proxygen::spdy::rstToErrorCode</a></div><div class="ttdeci">ErrorCode rstToErrorCode(uint32_t code)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYConstants_8cpp_source.html#l00066">SPDYConstants.cpp:66</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_afebc2989867ffa543649e03f07b0d053"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#afebc2989867ffa543649e03f07b0d053">proxygen::HTTPMessage::setStatusCode</a></div><div class="ttdeci">void setStatusCode(uint16_t status)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8cpp_source.html#l00335">HTTPMessage.cpp:335</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a30a8757ae7b0812346a45ce8af2ec217"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UpstreamPing&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00954">954</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodec_8cpp_source.html#l00924">proxygen::SPDYCodec::generatePingReply()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00917">proxygen::SPDYCodec::generatePingRequest()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00388">proxygen::FakeHTTPCodecCallback::recvPingReply</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00387">proxygen::FakeHTTPCodecCallback::recvPingRequest</a>, and <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>.</p>
<div class="fragment"><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                                  {</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  folly::IOBufQueue buf(folly::IOBufQueue::cacheChainLength());</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> egressCodec(TransportDirection::UPSTREAM,</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                        SPDYVersion::SPDY3);</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::DOWNSTREAM,</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                         SPDYVersion::SPDY3);</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="comment">// Send a reply with no corresponding ping request</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  egressCodec.generatePingReply(buf, 2);</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="keyword">auto</span> pingReply = buf.move();</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  ingressCodec.onIngress(*pingReply);</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  ASSERT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5ecc72ee9ecb407e15364eb41be713a4">recvPingReply</a>, 0); <span class="comment">// should be ignored</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="keyword">auto</span> lastRequest = callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9410ca571010eb77f89992f5e8085f8a">recvPingRequest</a>;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; 10; ++i) {</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    egressCodec.generatePingRequest(buf);</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keyword">auto</span> pingReq = buf.move();</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    ingressCodec.onIngress(*pingReq);</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    ASSERT_GT(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9410ca571010eb77f89992f5e8085f8a">recvPingRequest</a>, lastRequest);</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    ASSERT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9410ca571010eb77f89992f5e8085f8a">recvPingRequest</a> % 2, 1);</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    lastRequest = callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9410ca571010eb77f89992f5e8085f8a">recvPingRequest</a>;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  }</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a9410ca571010eb77f89992f5e8085f8a"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a9410ca571010eb77f89992f5e8085f8a">proxygen::FakeHTTPCodecCallback::recvPingRequest</a></div><div class="ttdeci">uint64_t recvPingRequest</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00387">TestUtils.h:387</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a5ecc72ee9ecb407e15364eb41be713a4"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a5ecc72ee9ecb407e15364eb41be713a4">proxygen::FakeHTTPCodecCallback::recvPingReply</a></div><div class="ttdeci">uint64_t recvPingReply</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00388">TestUtils.h:388</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7834f876bc9e2cb06edf44f1a7f9527e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DownstreamPing&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00980">980</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodec_8cpp_source.html#l00924">proxygen::SPDYCodec::generatePingReply()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00917">proxygen::SPDYCodec::generatePingRequest()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00388">proxygen::FakeHTTPCodecCallback::recvPingReply</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00387">proxygen::FakeHTTPCodecCallback::recvPingRequest</a>, and <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>.</p>
<div class="fragment"><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                                    {</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  folly::IOBufQueue buf(folly::IOBufQueue::cacheChainLength());</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> egressCodec(TransportDirection::DOWNSTREAM,</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                        SPDYVersion::SPDY3);</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::UPSTREAM,</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                         SPDYVersion::SPDY3);</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <span class="comment">// Send a reply with no corresponding ping request</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  egressCodec.generatePingReply(buf, 1);</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <span class="keyword">auto</span> pingReply = buf.move();</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  ingressCodec.onIngress(*pingReply);</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  ASSERT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5ecc72ee9ecb407e15364eb41be713a4">recvPingReply</a>, 0); <span class="comment">// should be ignored</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <span class="keyword">auto</span> lastRequest = callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9410ca571010eb77f89992f5e8085f8a">recvPingRequest</a>;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; 10; ++i) {</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    egressCodec.generatePingRequest(buf);</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keyword">auto</span> pingReq = buf.move();</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    ingressCodec.onIngress(*pingReq);</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    ASSERT_GT(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9410ca571010eb77f89992f5e8085f8a">recvPingRequest</a>, lastRequest);</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    ASSERT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9410ca571010eb77f89992f5e8085f8a">recvPingRequest</a> % 2, 0);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    lastRequest = callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9410ca571010eb77f89992f5e8085f8a">recvPingRequest</a>;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  }</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a9410ca571010eb77f89992f5e8085f8a"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a9410ca571010eb77f89992f5e8085f8a">proxygen::FakeHTTPCodecCallback::recvPingRequest</a></div><div class="ttdeci">uint64_t recvPingRequest</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00387">TestUtils.h:387</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a5ecc72ee9ecb407e15364eb41be713a4"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a5ecc72ee9ecb407e15364eb41be713a4">proxygen::FakeHTTPCodecCallback::recvPingReply</a></div><div class="ttdeci">uint64_t recvPingReply</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00388">TestUtils.h:388</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a976409c0489e9ecdf2047a9844b21b72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateHeader&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l01006">1006</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodecTest_8cpp_source.html#l00345">getSynStream()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00375">proxygen::FakeHTTPCodecCallback::headersComplete</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00374">proxygen::FakeHTTPCodecCallback::messageBegin</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00376">proxygen::FakeHTTPCodecCallback::messageComplete</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00404">proxygen::FakeHTTPCodecCallback::msg</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>, <a class="el" href="HTTPMessage_8cpp_source.html#l00335">proxygen::HTTPMessage::setStatusCode()</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                                {</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> egressCodec(TransportDirection::DOWNSTREAM,</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                        SPDYVersion::SPDY3);</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::UPSTREAM,</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                         SPDYVersion::SPDY3);</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  <a class="code" href="classproxygen_1_1HTTPMessage.html">HTTPMessage</a> resp;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  resp.<a class="code" href="classproxygen_1_1HTTPMessage.html#afebc2989867ffa543649e03f07b0d053">setStatusCode</a>(200);</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <span class="keyword">auto</span> syn = <a class="code" href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a>(egressCodec, 1, resp, 0);</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  ingressCodec.onIngress(*syn);</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">messageBegin</a>, 1);</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 1);</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">messageComplete</a>, 0);</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 0);</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  EXPECT_TRUE(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#af35384751d2f5a0d9c1c979936e81df6">msg</a>-&gt;getHeaders().exists(HTTP_HEADER_DATE));</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a5d6360f70344c3bd06108594bd16985a"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">proxygen::FakeHTTPCodecCallback::messageBegin</a></div><div class="ttdeci">uint32_t messageBegin</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00374">TestUtils.h:374</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a9169c10fd22859a9fcee7246870b406d"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">proxygen::FakeHTTPCodecCallback::messageComplete</a></div><div class="ttdeci">uint32_t messageComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00376">TestUtils.h:376</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_aee55830ca5487628304d8f910ba6c997"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a></div><div class="ttdeci">unique_ptr&lt; folly::IOBuf &gt; getSynStream(Codec &amp;egressCodec, uint32_t streamID, const HTTPMessage &amp;msg, uint32_t assocStreamId=SPDYCodec::NoStream, bool eom=false, HTTPHeaderSize *size=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00345">SPDYCodecTest.cpp:345</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html">proxygen::HTTPMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00039">HTTPMessage.h:39</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_af35384751d2f5a0d9c1c979936e81df6"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#af35384751d2f5a0d9c1c979936e81df6">proxygen::FakeHTTPCodecCallback::msg</a></div><div class="ttdeci">std::unique_ptr&lt; HTTPMessage &gt; msg</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00404">TestUtils.h:404</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a91a599bfae6e8a2bee90876cd1863513"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">proxygen::FakeHTTPCodecCallback::headersComplete</a></div><div class="ttdeci">uint32_t headersComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00375">TestUtils.h:375</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_afebc2989867ffa543649e03f07b0d053"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#afebc2989867ffa543649e03f07b0d053">proxygen::HTTPMessage::setStatusCode</a></div><div class="ttdeci">void setStatusCode(uint16_t status)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8cpp_source.html#l00335">HTTPMessage.cpp:335</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a38a8e050696baadad7a71725c712fbc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HeaderDoS&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l01100">1100</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00375">proxygen::FakeHTTPCodecCallback::headersComplete</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00374">proxygen::FakeHTTPCodecCallback::messageBegin</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00376">proxygen::FakeHTTPCodecCallback::messageComplete</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l01027">multiValuedHeaderAttack</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                               {</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::UPSTREAM,</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                         SPDYVersion::SPDY3);</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <span class="keyword">auto</span> attack = folly::IOBuf::copyBuffer(<a class="code" href="SPDYCodecTest_8cpp.html#a2b0756a67089ddf098584d2d11b659cd">multiValuedHeaderAttack</a>,</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                                         <span class="keyword">sizeof</span>(<a class="code" href="SPDYCodecTest_8cpp.html#a2b0756a67089ddf098584d2d11b659cd">multiValuedHeaderAttack</a>));</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  ingressCodec.onIngress(*attack);</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">messageBegin</a>, 0);</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 0);</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">messageComplete</a>, 0);</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 1);</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 1);</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;}</div><div class="ttc" id="SPDYCodecTest_8cpp_html_a2b0756a67089ddf098584d2d11b659cd"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#a2b0756a67089ddf098584d2d11b659cd">multiValuedHeaderAttack</a></div><div class="ttdeci">uint8_t multiValuedHeaderAttack[]</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l01027">SPDYCodecTest.cpp:1027</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a5d6360f70344c3bd06108594bd16985a"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">proxygen::FakeHTTPCodecCallback::messageBegin</a></div><div class="ttdeci">uint32_t messageBegin</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00374">TestUtils.h:374</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a9169c10fd22859a9fcee7246870b406d"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a9169c10fd22859a9fcee7246870b406d">proxygen::FakeHTTPCodecCallback::messageComplete</a></div><div class="ttdeci">uint32_t messageComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00376">TestUtils.h:376</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a91a599bfae6e8a2bee90876cd1863513"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">proxygen::FakeHTTPCodecCallback::headersComplete</a></div><div class="ttdeci">uint32_t headersComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00375">TestUtils.h:375</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a77cc46548601004fe27d44ebbfab662e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DoubleGoawayServer&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l01119">1119</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="HTTPParallelCodec_8cpp_source.html#l00058">proxygen::HTTPParallelCodec::enableDoubleGoawayDrain()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00856">proxygen::SPDYCodec::generateGoaway()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00384">proxygen::FakeHTTPCodecCallback::goaways</a>, <a class="el" href="HTTPParallelCodec_8cpp_source.html#l00049">proxygen::HTTPParallelCodec::isReusable()</a>, <a class="el" href="HTTPParallelCodec_8cpp_source.html#l00044">proxygen::HTTPParallelCodec::isWaitingToDrain()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, and <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>.</p>
<div class="fragment"><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                                        {</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> egressCodec(TransportDirection::DOWNSTREAM,</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                        SPDYVersion::SPDY3);</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::UPSTREAM,</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                         SPDYVersion::SPDY3);</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  egressCodec.enableDoubleGoawayDrain();</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  egressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <span class="keywordtype">unsigned</span> ack = std::numeric_limits&lt;int32_t&gt;::max();</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <span class="keyword">auto</span> f = [&amp;] () {</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    folly::IOBufQueue output(folly::IOBufQueue::cacheChainLength());</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    egressCodec.generateGoaway(output, ack, ErrorCode::NO_ERROR);</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="keyword">auto</span> ingress = output.move();</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    ingressCodec.onIngress(*ingress);</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    ack -= 2;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  };</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  EXPECT_TRUE(egressCodec.isReusable());</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  EXPECT_FALSE(egressCodec.isWaitingToDrain());</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  EXPECT_TRUE(ingressCodec.isReusable());</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  f();</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <span class="comment">// server spdy codec remains reusable after the first goaway</span></div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  EXPECT_TRUE(egressCodec.isReusable());</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  EXPECT_TRUE(egressCodec.isWaitingToDrain());</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  f();</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  EXPECT_FALSE(egressCodec.isReusable());</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  EXPECT_FALSE(egressCodec.isWaitingToDrain());</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  EXPECT_EQ(2, callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a565f3e3271912a12c0702637ad59daa6">goaways</a>);</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;}</div><div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a565f3e3271912a12c0702637ad59daa6"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a565f3e3271912a12c0702637ad59daa6">proxygen::FakeHTTPCodecCallback::goaways</a></div><div class="ttdeci">uint32_t goaways</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00384">TestUtils.h:384</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab3b935f3014bc67c270c23aa4e097939"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DoubleGoawayClient&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l01153">1153</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="HTTPParallelCodec_8cpp_source.html#l00058">proxygen::HTTPParallelCodec::enableDoubleGoawayDrain()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00856">proxygen::SPDYCodec::generateGoaway()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00384">proxygen::FakeHTTPCodecCallback::goaways</a>, <a class="el" href="HTTPParallelCodec_8cpp_source.html#l00049">proxygen::HTTPParallelCodec::isReusable()</a>, <a class="el" href="HTTPParallelCodec_8cpp_source.html#l00044">proxygen::HTTPParallelCodec::isWaitingToDrain()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, and <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>.</p>
<div class="fragment"><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                                        {</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> egressCodec(TransportDirection::UPSTREAM,</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                        SPDYVersion::SPDY3);</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::DOWNSTREAM,</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                         SPDYVersion::SPDY3);</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  egressCodec.enableDoubleGoawayDrain();</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  egressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <span class="keywordtype">unsigned</span> ack = std::numeric_limits&lt;int32_t&gt;::max();</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  <span class="keyword">auto</span> f = [&amp;] () {</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    folly::IOBufQueue output(folly::IOBufQueue::cacheChainLength());</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    egressCodec.generateGoaway(output, ack, ErrorCode::NO_ERROR);</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="keyword">auto</span> ingress = output.move();</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    ingressCodec.onIngress(*ingress);</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    ack -= 2;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  };</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  EXPECT_TRUE(egressCodec.isReusable());</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  EXPECT_FALSE(egressCodec.isWaitingToDrain());</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  f();</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="comment">// client spdy codec not reusable after the first goaway</span></div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  EXPECT_FALSE(egressCodec.isReusable());</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  EXPECT_TRUE(egressCodec.isWaitingToDrain());</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  EXPECT_FALSE(ingressCodec.isReusable());</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  f();</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  EXPECT_FALSE(egressCodec.isReusable());</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  EXPECT_FALSE(egressCodec.isWaitingToDrain());</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  EXPECT_FALSE(ingressCodec.isReusable());</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  EXPECT_EQ(2, callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a565f3e3271912a12c0702637ad59daa6">goaways</a>);</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;}</div><div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a565f3e3271912a12c0702637ad59daa6"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a565f3e3271912a12c0702637ad59daa6">proxygen::FakeHTTPCodecCallback::goaways</a></div><div class="ttdeci">uint32_t goaways</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00384">TestUtils.h:384</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4e115bdfa1dc24c6df30b01c1e5f153e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SingleGoawayClient&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l01189">1189</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodec_8cpp_source.html#l00856">proxygen::SPDYCodec::generateGoaway()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00384">proxygen::FakeHTTPCodecCallback::goaways</a>, <a class="el" href="HTTPParallelCodec_8cpp_source.html#l00049">proxygen::HTTPParallelCodec::isReusable()</a>, <a class="el" href="HTTPParallelCodec_8cpp_source.html#l00044">proxygen::HTTPParallelCodec::isWaitingToDrain()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, and <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>.</p>
<div class="fragment"><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                                        {</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> egressCodec(TransportDirection::UPSTREAM,</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                        SPDYVersion::SPDY3);</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::DOWNSTREAM,</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                         SPDYVersion::SPDY3);</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  egressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <span class="keywordtype">unsigned</span> ack = 0;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <span class="keyword">auto</span> f = [&amp;] () {</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    folly::IOBufQueue output(folly::IOBufQueue::cacheChainLength());</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    egressCodec.generateGoaway(output, ack, ErrorCode::NO_ERROR);</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="keyword">auto</span> ingress = output.move();</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    ingressCodec.onIngress(*ingress);</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    ack -= 2;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  };</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  EXPECT_TRUE(egressCodec.isReusable());</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  EXPECT_TRUE(egressCodec.isWaitingToDrain());</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  f();</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  <span class="comment">// client spdy codec not reusable after the first goaway</span></div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  EXPECT_FALSE(egressCodec.isReusable());</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  EXPECT_FALSE(egressCodec.isWaitingToDrain());</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  EXPECT_FALSE(ingressCodec.isReusable());</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  EXPECT_EQ(1, callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a565f3e3271912a12c0702637ad59daa6">goaways</a>);</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;}</div><div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a565f3e3271912a12c0702637ad59daa6"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a565f3e3271912a12c0702637ad59daa6">proxygen::FakeHTTPCodecCallback::goaways</a></div><div class="ttdeci">uint32_t goaways</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00384">TestUtils.h:384</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a791b0b8e55cd3509f3689b4f55cc6bc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OddHeaderListTest&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l01235">1235</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00375">proxygen::FakeHTTPCodecCallback::headersComplete</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l01222">invalidHeaderPlusEmptyBlock</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00374">proxygen::FakeHTTPCodecCallback::messageBegin</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;                                       {</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::DOWNSTREAM,</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                         SPDYVersion::SPDY3);</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <span class="keyword">auto</span> attack = folly::IOBuf::copyBuffer(<a class="code" href="SPDYCodecTest_8cpp.html#af46264bcbbc201f978f9dc76368eb01d">invalidHeaderPlusEmptyBlock</a>,</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;                                         <span class="keyword">sizeof</span>(<a class="code" href="SPDYCodecTest_8cpp.html#af46264bcbbc201f978f9dc76368eb01d">invalidHeaderPlusEmptyBlock</a>));</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  ingressCodec.onIngress(*attack);</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">messageBegin</a>, 1);</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 1);</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 1);</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a5d6360f70344c3bd06108594bd16985a"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">proxygen::FakeHTTPCodecCallback::messageBegin</a></div><div class="ttdeci">uint32_t messageBegin</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00374">TestUtils.h:374</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a91a599bfae6e8a2bee90876cd1863513"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">proxygen::FakeHTTPCodecCallback::headersComplete</a></div><div class="ttdeci">uint32_t headersComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00375">TestUtils.h:375</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_af46264bcbbc201f978f9dc76368eb01d"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#af46264bcbbc201f978f9dc76368eb01d">invalidHeaderPlusEmptyBlock</a></div><div class="ttdeci">uint8_t invalidHeaderPlusEmptyBlock[]</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l01222">SPDYCodecTest.cpp:1222</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad05a7047ad7fcc2f94c013439a8ef62a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SendRstParsingFrame&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l01252">1252</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="SPDYCodec_8cpp_source.html#l00812">proxygen::SPDYCodec::generateEOM()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00824">proxygen::SPDYCodec::generateRstStream()</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00345">getSynStream()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, and <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>.</p>
<div class="fragment"><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                                         {</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  NiceMock&lt;MockHTTPCodecCallback&gt; callbacks;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> egressCodec(TransportDirection::UPSTREAM,</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;                        SPDYVersion::SPDY3_1);</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::DOWNSTREAM,</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                         SPDYVersion::SPDY3_1);</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  folly::IOBufQueue egressCodecQueue(folly::IOBufQueue::cacheChainLength());</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  folly::IOBufQueue ingressCodecQueue(folly::IOBufQueue::cacheChainLength());</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  InSequence enforceOrder;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  EXPECT_CALL(callbacks, onHeadersComplete(3, _))</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    .WillOnce(InvokeWithoutArgs([&amp;] {</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;          ingressCodec.generateRstStream(ingressCodecQueue,</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                                         1, ErrorCode::CANCEL);</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        }));</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  EXPECT_CALL(callbacks, onMessageComplete(3, <span class="keyword">false</span>));</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  <span class="keyword">auto</span> syn = <a class="code" href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a>(egressCodec, 3);</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  egressCodecQueue.append(std::move(syn));</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  egressCodec.generateEOM(egressCodecQueue, 3);</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  <span class="keyword">auto</span> ingress = egressCodecQueue.move();</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  ingress-&gt;coalesce();</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  ingressCodec.onIngress(*ingress);</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;}</div><div class="ttc" id="SPDYCodecTest_8cpp_html_aee55830ca5487628304d8f910ba6c997"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a></div><div class="ttdeci">unique_ptr&lt; folly::IOBuf &gt; getSynStream(Codec &amp;egressCodec, uint32_t streamID, const HTTPMessage &amp;msg, uint32_t assocStreamId=SPDYCodec::NoStream, bool eom=false, HTTPHeaderSize *size=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00345">SPDYCodecTest.cpp:345</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2ef57ed39a43e815fb792e834247c81e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BadNumNameValues&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l01303">1303</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00375">proxygen::FakeHTTPCodecCallback::headersComplete</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l01279">invalidNumNameValuesBlock</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00374">proxygen::FakeHTTPCodecCallback::messageBegin</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                                      {</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::DOWNSTREAM,</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                         SPDYVersion::SPDY3_1);</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  <span class="keyword">auto</span> attack = folly::IOBuf::copyBuffer(<a class="code" href="SPDYCodecTest_8cpp.html#a6f8e2f8af8ea89266a9fff3035e1d159">invalidNumNameValuesBlock</a>,</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                                         <span class="keyword">sizeof</span>(<a class="code" href="SPDYCodecTest_8cpp.html#a6f8e2f8af8ea89266a9fff3035e1d159">invalidNumNameValuesBlock</a>));</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  ingressCodec.onIngress(*attack);</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">messageBegin</a>, 0);</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 0);</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 1);</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a5d6360f70344c3bd06108594bd16985a"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">proxygen::FakeHTTPCodecCallback::messageBegin</a></div><div class="ttdeci">uint32_t messageBegin</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00374">TestUtils.h:374</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_a6f8e2f8af8ea89266a9fff3035e1d159"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#a6f8e2f8af8ea89266a9fff3035e1d159">invalidNumNameValuesBlock</a></div><div class="ttdeci">uint8_t invalidNumNameValuesBlock[]</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l01279">SPDYCodecTest.cpp:1279</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a91a599bfae6e8a2bee90876cd1863513"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">proxygen::FakeHTTPCodecCallback::headersComplete</a></div><div class="ttdeci">uint32_t headersComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00375">TestUtils.h:375</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aad5278434d7ee94e9980a24ef89a504c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ShortSettings&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l01323">1323</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00375">proxygen::FakeHTTPCodecCallback::headersComplete</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l01319">kShortSettings</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00374">proxygen::FakeHTTPCodecCallback::messageBegin</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;                                   {</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::DOWNSTREAM,</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                         SPDYVersion::SPDY3_1);</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <span class="keyword">auto</span> attack = folly::IOBuf::copyBuffer(<a class="code" href="SPDYCodecTest_8cpp.html#a4c83311f67dbbaef65864929f63717ba">kShortSettings</a>,</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                                         <span class="keyword">sizeof</span>(<a class="code" href="SPDYCodecTest_8cpp.html#a4c83311f67dbbaef65864929f63717ba">kShortSettings</a>));</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  ingressCodec.onIngress(*attack);</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">messageBegin</a>, 0);</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 0);</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 1);</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a5d6360f70344c3bd06108594bd16985a"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a5d6360f70344c3bd06108594bd16985a">proxygen::FakeHTTPCodecCallback::messageBegin</a></div><div class="ttdeci">uint32_t messageBegin</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00374">TestUtils.h:374</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_a4c83311f67dbbaef65864929f63717ba"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#a4c83311f67dbbaef65864929f63717ba">kShortSettings</a></div><div class="ttdeci">const uint8_t kShortSettings[]</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l01319">SPDYCodecTest.cpp:1319</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a91a599bfae6e8a2bee90876cd1863513"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">proxygen::FakeHTTPCodecCallback::headersComplete</a></div><div class="ttdeci">uint32_t headersComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00375">TestUtils.h:375</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7029611b241ab414c46f60e2eb384215"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SegmentedHeaderBlock&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l01339">1339</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="HTTPMessage_8h_source.html#l00273">proxygen::HTTPMessage::getHeaders()</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00345">getSynStream()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00375">proxygen::FakeHTTPCodecCallback::headersComplete</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00404">proxygen::FakeHTTPCodecCallback::msg</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00299">proxygen::FakeHTTPCodecCallback::reset()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="HTTPHeaders_8h_source.html#l00119">proxygen::HTTPHeaders::set()</a>, <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>, <a class="el" href="HTTPMessage_8cpp_source.html#l00216">proxygen::HTTPMessage::setMethod()</a>, <a class="el" href="HTTPMessage_8cpp_source.html#l00335">proxygen::HTTPMessage::setStatusCode()</a>, <a class="el" href="HTTPMessage_8h_source.html#l00183">proxygen::HTTPMessage::setURL()</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                                          {</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> egressCodec(TransportDirection::UPSTREAM,</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                        SPDYVersion::SPDY3_1);</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::DOWNSTREAM,</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                         SPDYVersion::SPDY3_1);</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <span class="comment">// generate huge string to use as a header value</span></div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <span class="keywordtype">string</span> huge;</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  uint32_t size = 20000;</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="keywordtype">char</span> ch = <span class="charliteral">&#39;a&#39;</span>;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; size; i++) {</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    huge.push_back(ch);</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;z&#39;</span>) {</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;      ch = <span class="charliteral">&#39;a&#39;</span>;</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      ch++;</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    }</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;  }</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <a class="code" href="classproxygen_1_1HTTPMessage.html">HTTPMessage</a> req;</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  req.<a class="code" href="classproxygen_1_1HTTPMessage.html#a40cc3df779b41f857084cebdba066c40">setMethod</a>(<span class="stringliteral">&quot;GET&quot;</span>);</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  req.<a class="code" href="classproxygen_1_1HTTPMessage.html#a0753ce8ab4cdd78cb5b8f4a97180e75b">setURL</a>(<span class="stringliteral">&quot;http://www.facebook.com&quot;</span>);</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  <span class="keyword">auto</span>&amp; reqHeaders = req.<a class="code" href="classproxygen_1_1HTTPMessage.html#a2ba4953e1ab061fe5eb68af08e684772">getHeaders</a>();</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  reqHeaders.<a class="code" href="classproxygen_1_1HTTPHeaders.html#a98de32ef8d9de8f8ab0198cc1a6dc747">set</a>(<span class="stringliteral">&quot;HOST&quot;</span>, <span class="stringliteral">&quot;www.facebook.com&quot;</span>);</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  <span class="comment">// setting this huge header value will cause allocation of a separate IOBuf</span></div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  reqHeaders.set(<span class="stringliteral">&quot;X-FB-Huge&quot;</span>, huge);</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  <span class="keyword">auto</span> buf = <a class="code" href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a>(egressCodec, 1, req);</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  ingressCodec.onIngress(*buf);</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 0);</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 1);</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#af35384751d2f5a0d9c1c979936e81df6">msg</a>-&gt;getHeaders().getSingleOrEmpty(<span class="stringliteral">&quot;x-fb-huge&quot;</span>).size(),</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;            size);</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  <span class="comment">// do it for responses</span></div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  <a class="code" href="classproxygen_1_1HTTPMessage.html">HTTPMessage</a> resp;</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  resp.<a class="code" href="classproxygen_1_1HTTPMessage.html#afebc2989867ffa543649e03f07b0d053">setStatusCode</a>(200);</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  resp.setStatusMessage(<span class="stringliteral">&quot;OK&quot;</span>);</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  <span class="keyword">auto</span>&amp; respHeaders = resp.getHeaders();</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  respHeaders.set(<span class="stringliteral">&quot;X-FB-Huge&quot;</span>, huge);</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  <span class="keyword">auto</span> buf2 = <a class="code" href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a>(ingressCodec, 1, resp);</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab8ddd949021dc00ffd6f734b2ef4e300">reset</a>();</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  egressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  egressCodec.onIngress(*buf2);</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 0);</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 1);</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#af35384751d2f5a0d9c1c979936e81df6">msg</a>-&gt;getHeaders().getSingleOrEmpty(<span class="stringliteral">&quot;x-fb-huge&quot;</span>).size(),</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;            size);</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab8ddd949021dc00ffd6f734b2ef4e300"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab8ddd949021dc00ffd6f734b2ef4e300">proxygen::FakeHTTPCodecCallback::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00299">TestUtils.h:299</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPHeaders_html_a98de32ef8d9de8f8ab0198cc1a6dc747"><div class="ttname"><a href="classproxygen_1_1HTTPHeaders.html#a98de32ef8d9de8f8ab0198cc1a6dc747">proxygen::HTTPHeaders::set</a></div><div class="ttdeci">void set(folly::StringPiece name, const std::string &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPHeaders_8h_source.html#l00119">HTTPHeaders.h:119</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a0753ce8ab4cdd78cb5b8f4a97180e75b"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a0753ce8ab4cdd78cb5b8f4a97180e75b">proxygen::HTTPMessage::setURL</a></div><div class="ttdeci">ParseURL setURL(T &amp;&amp;url)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00183">HTTPMessage.h:183</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a2ba4953e1ab061fe5eb68af08e684772"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a2ba4953e1ab061fe5eb68af08e684772">proxygen::HTTPMessage::getHeaders</a></div><div class="ttdeci">HTTPHeaders &amp; getHeaders()</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00273">HTTPMessage.h:273</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a40cc3df779b41f857084cebdba066c40"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a40cc3df779b41f857084cebdba066c40">proxygen::HTTPMessage::setMethod</a></div><div class="ttdeci">void setMethod(HTTPMethod method)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8cpp_source.html#l00216">HTTPMessage.cpp:216</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_aee55830ca5487628304d8f910ba6c997"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#aee55830ca5487628304d8f910ba6c997">getSynStream</a></div><div class="ttdeci">unique_ptr&lt; folly::IOBuf &gt; getSynStream(Codec &amp;egressCodec, uint32_t streamID, const HTTPMessage &amp;msg, uint32_t assocStreamId=SPDYCodec::NoStream, bool eom=false, HTTPHeaderSize *size=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l00345">SPDYCodecTest.cpp:345</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html">proxygen::HTTPMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00039">HTTPMessage.h:39</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_af35384751d2f5a0d9c1c979936e81df6"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#af35384751d2f5a0d9c1c979936e81df6">proxygen::FakeHTTPCodecCallback::msg</a></div><div class="ttdeci">std::unique_ptr&lt; HTTPMessage &gt; msg</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00404">TestUtils.h:404</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a91a599bfae6e8a2bee90876cd1863513"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">proxygen::FakeHTTPCodecCallback::headersComplete</a></div><div class="ttdeci">uint32_t headersComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00375">TestUtils.h:375</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_afebc2989867ffa543649e03f07b0d053"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#afebc2989867ffa543649e03f07b0d053">proxygen::HTTPMessage::setStatusCode</a></div><div class="ttdeci">void setStatusCode(uint16_t status)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8cpp_source.html#l00335">HTTPMessage.cpp:335</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4d83cd3ceab1bb9d3a2cad13a6402d55"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ColonHeaders&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l01397">1397</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00375">proxygen::FakeHTTPCodecCallback::headersComplete</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l01390">kColonHeaders</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                                  {</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::DOWNSTREAM,</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                         SPDYVersion::SPDY3_1);</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;  <span class="keyword">auto</span> testBuf = folly::IOBuf::copyBuffer(<a class="code" href="SPDYCodecTest_8cpp.html#a3d39f09aa938389ef1e29c5aeda469e0">kColonHeaders</a>,</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                                         <span class="keyword">sizeof</span>(<a class="code" href="SPDYCodecTest_8cpp.html#a3d39f09aa938389ef1e29c5aeda469e0">kColonHeaders</a>));</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  ingressCodec.onIngress(*testBuf);</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 0);</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 1);</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 0);</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a91a599bfae6e8a2bee90876cd1863513"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">proxygen::FakeHTTPCodecCallback::headersComplete</a></div><div class="ttdeci">uint32_t headersComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00375">TestUtils.h:375</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_a3d39f09aa938389ef1e29c5aeda469e0"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#a3d39f09aa938389ef1e29c5aeda469e0">kColonHeaders</a></div><div class="ttdeci">const uint8_t kColonHeaders[]</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l01390">SPDYCodecTest.cpp:1390</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a803b42b6c22414d76c3c9df024783cf4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StreamIdOverflow&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l01412">1412</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="HTTPParallelCodec_8cpp_source.html#l00038">proxygen::HTTPParallelCodec::createStream()</a>, <a class="el" href="HTTPParallelCodec_8cpp_source.html#l00049">proxygen::HTTPParallelCodec::isReusable()</a>, and <a class="el" href="HTTPParallelCodec_8h_source.html#l00055">proxygen::HTTPParallelCodec::setNextEgressStreamId()</a>.</p>
<div class="fragment"><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                                      {</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> codec(TransportDirection::UPSTREAM,</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                  SPDYVersion::SPDY3_1);</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  <a class="code" href="classproxygen_1_1HTTPCodec.html#addee32fd97cd4864b2a4b2f8a99c11c1">HTTPCodec::StreamID</a> streamId;</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  codec.setNextEgressStreamId(std::numeric_limits&lt;int32_t&gt;::max() - 10);</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <span class="keywordflow">while</span> (codec.isReusable()) {</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    streamId = codec.createStream();</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  }</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;  EXPECT_EQ(streamId, std::numeric_limits&lt;int32_t&gt;::max() - 2);</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;}</div><div class="ttc" id="classproxygen_1_1HTTPCodec_html_addee32fd97cd4864b2a4b2f8a99c11c1"><div class="ttname"><a href="classproxygen_1_1HTTPCodec.html#addee32fd97cd4864b2a4b2f8a99c11c1">proxygen::HTTPCodec::StreamID</a></div><div class="ttdeci">uint64_t StreamID</div><div class="ttdef"><b>Definition:</b> <a href="HTTPCodec_8h_source.html#l00049">HTTPCodec.h:49</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6f8ccd8186d6ed21e7dd699bd330192d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST </td>
          <td>(</td>
          <td class="paramtype">SPDYCodecTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BadNVBlock&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test case where nv item length is greater than total frame length </p>

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l01435">1435</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00375">proxygen::FakeHTTPCodecCallback::headersComplete</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l01424">kBufBadNVBlock</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00385">proxygen::FakeHTTPCodecCallback::sessionErrors</a>, <a class="el" href="HTTPParallelCodec_8h_source.html#l00045">proxygen::HTTPParallelCodec::setCallback()</a>, and <a class="el" href="http_2codec_2test_2TestUtils_8h_source.html#l00386">proxygen::FakeHTTPCodecCallback::streamErrors</a>.</p>
<div class="fragment"><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                                {</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  <a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html">FakeHTTPCodecCallback</a> callbacks;</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  <a class="code" href="classproxygen_1_1SPDYCodec.html">SPDYCodec</a> ingressCodec(TransportDirection::DOWNSTREAM,</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;                         SPDYVersion::SPDY3_1);</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  <span class="keyword">auto</span> testBuf = IOBuf::copyBuffer(<a class="code" href="SPDYCodecTest_8cpp.html#ac26dd1d9ebaf6a267addbc4f78578e17">kBufBadNVBlock</a>, <span class="keyword">sizeof</span>(<a class="code" href="SPDYCodecTest_8cpp.html#ac26dd1d9ebaf6a267addbc4f78578e17">kBufBadNVBlock</a>));</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  ingressCodec.setCallback(&amp;callbacks);</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  ingressCodec.onIngress(*testBuf);</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">headersComplete</a>, 0);</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">streamErrors</a>, 0);</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  EXPECT_EQ(callbacks.<a class="code" href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">sessionErrors</a>, 1);</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;}</div><div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_ab1cc8c017b70f7746e64476c90b7b44b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#ab1cc8c017b70f7746e64476c90b7b44b">proxygen::FakeHTTPCodecCallback::sessionErrors</a></div><div class="ttdeci">uint32_t sessionErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00385">TestUtils.h:385</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a03699b80223cdebc7ff97e861a32dc8b"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a03699b80223cdebc7ff97e861a32dc8b">proxygen::FakeHTTPCodecCallback::streamErrors</a></div><div class="ttdeci">uint32_t streamErrors</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00386">TestUtils.h:386</a></div></div>
<div class="ttc" id="classproxygen_1_1SPDYCodec_html"><div class="ttname"><a href="classproxygen_1_1SPDYCodec.html">proxygen::SPDYCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodec_8h_source.html#l00036">SPDYCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html">proxygen::FakeHTTPCodecCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00107">TestUtils.h:107</a></div></div>
<div class="ttc" id="SPDYCodecTest_8cpp_html_ac26dd1d9ebaf6a267addbc4f78578e17"><div class="ttname"><a href="SPDYCodecTest_8cpp.html#ac26dd1d9ebaf6a267addbc4f78578e17">kBufBadNVBlock</a></div><div class="ttdeci">const uint8_t kBufBadNVBlock[]</div><div class="ttdef"><b>Definition:</b> <a href="SPDYCodecTest_8cpp_source.html#l01424">SPDYCodecTest.cpp:1424</a></div></div>
<div class="ttc" id="classproxygen_1_1FakeHTTPCodecCallback_html_a91a599bfae6e8a2bee90876cd1863513"><div class="ttname"><a href="classproxygen_1_1FakeHTTPCodecCallback.html#a91a599bfae6e8a2bee90876cd1863513">proxygen::FakeHTTPCodecCallback::headersComplete</a></div><div class="ttdeci">uint32_t headersComplete</div><div class="ttdef"><b>Definition:</b> <a href="http_2codec_2test_2TestUtils_8h_source.html#l00375">TestUtils.h:375</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a541f27525ea87dc29704e03e8ef6e045"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSPDYCodecTestF.html">SPDYCodecTestF</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GoawayHandling&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l01460">1460</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>References <a class="el" href="HTTPHeaders_8cpp_source.html#l00052">proxygen::HTTPHeaders::add()</a>, <a class="el" href="codec_2test_2TestUtils_8cpp_source.html#l00076">proxygen::getGetRequest()</a>, <a class="el" href="HTTPMessage_8h_source.html#l00273">proxygen::HTTPMessage::getHeaders()</a>, <a class="el" href="ZlibTests_8cpp_source.html#l00026">makeBuf()</a>, <a class="el" href="test_8c_source.html#l01591">parse()</a>, <a class="el" href="HTTPMessage_8cpp_source.html#l00344">proxygen::HTTPMessage::setPushStatusCode()</a>, and <a class="el" href="HTTPMessage_8cpp_source.html#l00335">proxygen::HTTPMessage::setStatusCode()</a>.</p>
<div class="fragment"><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                                       {</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  <span class="comment">// send request</span></div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  <a class="code" href="classproxygen_1_1HTTPMessage.html">HTTPMessage</a> req = <a class="code" href="namespaceproxygen.html#ac94313b3a860ee1efa0939b0c8664798">getGetRequest</a>();</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  <a class="code" href="namespaceproxygen.html#a3229605c4d71bcf5379d0dd133870421">HTTPHeaderSize</a> size;</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  size.uncompressed = size.compressed = 0;</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  upstreamCodec_.generateHeader(output_, 1, req, <span class="keyword">true</span>, &amp;size);</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  EXPECT_GT(size.uncompressed, 0);</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  <a class="code" href="test_8c.html#a44b400d6e7f4f657e449f26c992c0ee8">parse</a>();</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  callbacks_.expectMessage(<span class="keyword">true</span>, 2, <span class="stringliteral">&quot;/&quot;</span>);</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  callbacks_.reset();</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  SetUpUpstreamTest();</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  <span class="comment">// drain after this message</span></div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;  downstreamCodec_.generateGoaway(output_, 1, ErrorCode::NO_ERROR);</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  parseUpstream();</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <span class="comment">// upstream cannot generate id &gt; 1</span></div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  upstreamCodec_.generateHeader(output_, 3, req, <span class="keyword">false</span>, &amp;size);</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  EXPECT_EQ(size.uncompressed, 0);</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  upstreamCodec_.generateWindowUpdate(output_, 3, 100);</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  upstreamCodec_.generateBody(output_, 3, <a class="code" href="ZlibTests_8cpp.html#a3af9f7741f10c29c2c99a81fcc70abf3">makeBuf</a>(10), HTTPCodec::NoPadding,</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                              <span class="keyword">false</span>);</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  upstreamCodec_.generatePriority(output_, 3,</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;                                  <a class="code" href="classproxygen_1_1HTTPMessage.html#a488cdeffada45d57bf30cf2b9059bd5a">HTTPMessage::HTTPPriority</a>(0, <span class="keyword">true</span>, 1));</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  upstreamCodec_.generateEOM(output_, 3);</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  upstreamCodec_.generateRstStream(output_, 3, ErrorCode::CANCEL);</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  EXPECT_EQ(output_.chainLength(), 0);</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <span class="comment">// send a push promise that will be rejected by downstream</span></div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  req.<a class="code" href="classproxygen_1_1HTTPMessage.html#a5b3bc3f21d22d5bf2551b9164a41ae00">setPushStatusCode</a>(200);</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  req.<a class="code" href="classproxygen_1_1HTTPMessage.html#a2ba4953e1ab061fe5eb68af08e684772">getHeaders</a>().<a class="code" href="classproxygen_1_1HTTPHeaders.html#a16adcba8d8703095108ee809f84b62a4">add</a>(<span class="stringliteral">&quot;foomonkey&quot;</span>, <span class="stringliteral">&quot;george&quot;</span>);</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  downstreamCodec_.generatePushPromise(output_, 2, req, 1, <span class="keyword">false</span>, &amp;size);</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  EXPECT_GT(size.uncompressed, 0);</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <span class="comment">// window update for push doesn&#39;t make any sense, but whatever</span></div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  downstreamCodec_.generateWindowUpdate(output_, 2, 100);</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  downstreamCodec_.generateBody(output_, 2, <a class="code" href="ZlibTests_8cpp.html#a3af9f7741f10c29c2c99a81fcc70abf3">makeBuf</a>(10), HTTPCodec::NoPadding,</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;                                <span class="keyword">false</span>);</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <span class="comment">// tell the upstream no pushing, and parse the first batch</span></div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  IOBufQueue dummy{IOBufQueue::cacheChainLength()};</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  upstreamCodec_.generateGoaway(dummy, 0, ErrorCode::NO_ERROR);</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  parseUpstream();</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  downstreamCodec_.generatePriority(output_, 2,</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;                                    <a class="code" href="classproxygen_1_1HTTPMessage.html#a488cdeffada45d57bf30cf2b9059bd5a">HTTPMessage::HTTPPriority</a>(0, <span class="keyword">true</span>, 1));</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  downstreamCodec_.generateEOM(output_, 2);</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  downstreamCodec_.generateRstStream(output_, 2, ErrorCode::CANCEL);</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="comment">// send a response that will be accepted, headers should be ok</span></div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <a class="code" href="classproxygen_1_1HTTPMessage.html">HTTPMessage</a> resp;</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  resp.<a class="code" href="classproxygen_1_1HTTPMessage.html#afebc2989867ffa543649e03f07b0d053">setStatusCode</a>(200);</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  downstreamCodec_.generateHeader(output_, 1, resp, <span class="keyword">true</span>, &amp;size);</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  EXPECT_GT(size.uncompressed, 0);</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <span class="comment">// parse the remainder</span></div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  parseUpstream();</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  callbacks_.expectMessage(<span class="keyword">true</span>, 1, 200);</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;}</div><div class="ttc" id="test_8c_html_a44b400d6e7f4f657e449f26c992c0ee8"><div class="ttname"><a href="test_8c.html#a44b400d6e7f4f657e449f26c992c0ee8">parse</a></div><div class="ttdeci">size_t parse(const char *buf, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="test_8c_source.html#l01591">test.c:1591</a></div></div>
<div class="ttc" id="namespaceproxygen_html_a3229605c4d71bcf5379d0dd133870421"><div class="ttname"><a href="namespaceproxygen.html#a3229605c4d71bcf5379d0dd133870421">proxygen::HTTPHeaderSize</a></div><div class="ttdeci">wangle::HTTPHeaderSize HTTPHeaderSize</div><div class="ttdef"><b>Definition:</b> <a href="HTTPHeaderSize_8h_source.html#l00018">HTTPHeaderSize.h:18</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a5b3bc3f21d22d5bf2551b9164a41ae00"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a5b3bc3f21d22d5bf2551b9164a41ae00">proxygen::HTTPMessage::setPushStatusCode</a></div><div class="ttdeci">void setPushStatusCode(const uint16_t status)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8cpp_source.html#l00344">HTTPMessage.cpp:344</a></div></div>
<div class="ttc" id="ZlibTests_8cpp_html_a3af9f7741f10c29c2c99a81fcc70abf3"><div class="ttname"><a href="ZlibTests_8cpp.html#a3af9f7741f10c29c2c99a81fcc70abf3">makeBuf</a></div><div class="ttdeci">std::unique_ptr&lt; folly::IOBuf &gt; makeBuf(uint32_t size)</div><div class="ttdef"><b>Definition:</b> <a href="ZlibTests_8cpp_source.html#l00026">ZlibTests.cpp:26</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a2ba4953e1ab061fe5eb68af08e684772"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a2ba4953e1ab061fe5eb68af08e684772">proxygen::HTTPMessage::getHeaders</a></div><div class="ttdeci">HTTPHeaders &amp; getHeaders()</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00273">HTTPMessage.h:273</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_a488cdeffada45d57bf30cf2b9059bd5a"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#a488cdeffada45d57bf30cf2b9059bd5a">proxygen::HTTPMessage::HTTPPriority</a></div><div class="ttdeci">std::tuple&lt; uint64_t, bool, uint8_t &gt; HTTPPriority</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00599">HTTPMessage.h:599</a></div></div>
<div class="ttc" id="namespaceproxygen_html_ac94313b3a860ee1efa0939b0c8664798"><div class="ttname"><a href="namespaceproxygen.html#ac94313b3a860ee1efa0939b0c8664798">proxygen::getGetRequest</a></div><div class="ttdeci">HTTPMessage getGetRequest(const std::string &amp;url)</div><div class="ttdef"><b>Definition:</b> <a href="codec_2test_2TestUtils_8cpp_source.html#l00076">TestUtils.cpp:76</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPHeaders_html_a16adcba8d8703095108ee809f84b62a4"><div class="ttname"><a href="classproxygen_1_1HTTPHeaders.html#a16adcba8d8703095108ee809f84b62a4">proxygen::HTTPHeaders::add</a></div><div class="ttdeci">void add(folly::StringPiece name, folly::StringPiece value)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPHeaders_8cpp_source.html#l00052">HTTPHeaders.cpp:52</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html">proxygen::HTTPMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00039">HTTPMessage.h:39</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html_afebc2989867ffa543649e03f07b0d053"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html#afebc2989867ffa543649e03f07b0d053">proxygen::HTTPMessage::setStatusCode</a></div><div class="ttdeci">void setStatusCode(uint16_t status)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8cpp_source.html#l00335">HTTPMessage.cpp:335</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="aa822462decb359951f20089cbe97e732"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t badType[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{ 0x80, 0x03, 0x00, 0x0A,</div><div class="line">  0x00, 0x00, 0x00, 0x05,</div><div class="line">  0x00, 0x00, 0x00, 0x00,</div><div class="line">  0x00</div><div class="line">}</div></div><!-- fragment -->
<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00086">86</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l00093">TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="af46264bcbbc201f978f9dc76368eb01d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t invalidHeaderPlusEmptyBlock[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{ 0x80, 0x03, 0x00, 0x02, 0xc4, 0x00, 0x00, 0x14,</div><div class="line">  0xf7, 0x76, 0x2d, 0x37, 0x78, 0x9c, 0x93, 0x60,</div><div class="line">  0x00, 0x03, 0x75, 0x06, 0xbd, 0x76, 0x21, 0xb2,</div><div class="line">  0xd0, 0xd9, 0x54, 0x91, 0x80, 0x03, 0x00, 0x01,</div><div class="line">  0x4e, 0x00, 0x00, 0x0a, 0xbe, 0x14, 0x31, 0x55,</div><div class="line">  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,</div><div class="line">  0x00</div><div class="line">}</div></div><!-- fragment -->
<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l01222">1222</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l01235">TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="a6f8e2f8af8ea89266a9fff3035e1d159"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t invalidNumNameValuesBlock[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">  0x80, 0x03, 0x00, 0x01, 0x00, 0x00, 0x00, 0x91,</div><div class="line">  0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x01,</div><div class="line">  0x00, 0x00, 0x38, 0x30, 0xe3, 0xc6, 0xa7, 0xc2,</div><div class="line">  0x00, 0x77, 0x00, 0x88, 0xff, 0x00, 0x00, 0x00,</div><div class="line">  0x05, 0x00, 0x00, 0x00, 0x05, 0x3a, 0x68, 0x6f,</div><div class="line">  0x73, 0x74, 0x00, 0x00, 0x00, 0x0b, 0x77, 0x77,</div><div class="line">  0x77, 0x2e, 0x66, 0x6f, 0x6f, 0x2e, 0x63, 0x6f,</div><div class="line">  0x6d, 0x00, 0x00, 0x00, 0x77, 0x3a, 0x6d, 0x65,</div><div class="line">  0x74, 0x68, 0x6f, 0x64, 0x00, 0x00, 0x00, 0x00,</div><div class="line">  0x00, 0x00, 0x00, 0x05, 0x3a, 0x70, 0x61, 0x74,</div><div class="line">  0x68, 0x00, 0x13, 0x00, 0x14, 0x68, 0x74, 0x74,</div><div class="line">  0x39, 0x73, 0x3a, 0x2f, 0x2f, 0x77, 0x77, 0x77,</div><div class="line">  0x2e, 0x66, 0x6f, 0x6f, 0x2e, 0x63, 0x6f, 0x6d,</div><div class="line">  0x2f, 0x00, 0x00, 0x00, 0x07, 0x3a, 0x73, 0x63,</div><div class="line">  0x68, 0x65, 0x6d, 0x65, 0x00, 0x00, 0x00, 0x04,</div><div class="line">  0x68, 0x74, 0x74, 0x70, 0x00, 0x00, 0x00, 0x08,</div><div class="line">  0x3a, 0x76, 0x65, 0x72, 0x73, 0x69, 0x6f, 0x6e,</div><div class="line">  0x00, 0x00, 0x00, 0x08, 0x48, 0x54, 0x54, 0x50,</div><div class="line">  0x2f, 0x31, 0x2e, 0x31, 0x00, 0x00, 0x00, 0xff,</div><div class="line">  0xff</div><div class="line">}</div></div><!-- fragment -->
<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l01279">1279</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l01303">TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="ac26dd1d9ebaf6a267addbc4f78578e17"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t kBufBadNVBlock[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line"> 0x80, 0x03, 0x00, 0x01, 0x00, 0x00, 0x00, 0x1c,</div><div class="line"> 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00,</div><div class="line"> 0x00, 0x00, 0x78, 0xbb, 0xe3, 0xc6, 0xa7, 0xc2,</div><div class="line"> 0x02, 0xa6, 0x23, 0xc6, 0xff, 0x40, 0x00, 0x00,</div><div class="line"> 0x00, 0x00, 0xff, 0xff</div><div class="line">}</div></div><!-- fragment -->
<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l01424">1424</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l01435">TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="a3d39f09aa938389ef1e29c5aeda469e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t kColonHeaders[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">  0x80, 0x03, 0x00, 0x01, 0x48, 0x00, 0x00, 0x1a, 0xf6, 0xf6, 0x1a, 0xb5,</div><div class="line">  0x00, 0x00, 0x00, 0x00, 0x17, 0x28, 0x28, 0x53, 0x62, 0x60, 0x60, 0x10,</div><div class="line">  0x60, 0x60, 0x60, 0x60, 0xb4, 0x1a, 0xbc, 0x84, 0xa4, 0xa4</div><div class="line">}</div></div><!-- fragment -->
<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l01390">1390</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l01397">TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="a4c83311f67dbbaef65864929f63717ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t kShortSettings[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">  0x80, 0x03, 0x00, 0x04, 0xee, 0x00, 0x00, 0x01, 0x00, 0x00</div><div class="line">}</div></div><!-- fragment -->
<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l01319">1319</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l01323">TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="a8a922eaeb35b406e465651d87e136975"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t longPing[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{ 0x80, 0x03, 0x00, 0x06,</div><div class="line">  0x00, 0x00, 0x00, 0x05,</div><div class="line">  0x00, 0x00, 0x00, 0x00,</div><div class="line">  0x00</div><div class="line">}</div></div><!-- fragment -->
<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00069">69</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l00076">TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="aae21bbfba78aecf82b987539ee7a0523"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t multiple_path_headers[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">    {0x80, 0x03, 0x00, 0x01, 0x01, 0x00, 0x01, 0x13, 0x00, 0x00, 0x00, 0x01,</div><div class="line">     0x00, 0x00, 0x00, 0x00, 0x60, 0x00, 0x38, 0x30, 0xe3, 0xc6, 0xa7, 0xc2,</div><div class="line">     0x00, 0xf9, 0x00, 0x06, 0xff, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00,</div><div class="line">     0x05, 0x3a, 0x68, 0x6f, 0x73, 0x74, 0x00, 0x00, 0x00, 0x10, 0x77, 0x77,</div><div class="line">     0x77, 0x2e, 0x66, 0x61, 0x63, 0x65, 0x62, 0x6f, 0x6f, 0x6b, 0x2e, 0x63,</div><div class="line">     0x6f, 0x6d, 0x00, 0x00, 0x00, 0x07, 0x3a, 0x6d, 0x65, 0x74, 0x68, 0x6f,</div><div class="line">     0x64, 0x00, 0x00, 0x00, 0x03, 0x47, 0x45, 0x54, 0x00, 0x00, 0x00, 0x05,</div><div class="line">     0x3a, 0x70, 0x61, 0x74, 0x68, 0x00, 0x00, 0x00, 0x35, 0x2f, 0x65, 0x6e,</div><div class="line">     0x63, 0x72, 0x79, 0x70, 0x74, 0x65, 0x64, 0x72, 0x65, 0x71, 0x75, 0x65,</div><div class="line">     0x73, 0x74, 0x00, 0x2a, 0x23, 0x2f, 0x69, 0x6e, 0x74, 0x65, 0x72, 0x6e,</div><div class="line">     0x2f, 0x61, 0x67, 0x65, 0x6e, 0x74, 0x2f, 0x73, 0x69, 0x74, 0x65, 0x5f,</div><div class="line">     0x76, 0x61, 0x72, 0x69, 0x61, 0x62, 0x6c, 0x65, 0x73, 0x2e, 0x70, 0x68,</div><div class="line">     0x70, 0x3f, 0x00, 0x00, 0x00, 0x07, 0x3a, 0x73, 0x63, 0x68, 0x65, 0x6d,</div><div class="line">     0x65, 0x00, 0x00, 0x00, 0x05, 0x68, 0x74, 0x74, 0x70, 0x73, 0x00, 0x00,</div><div class="line">     0x00, 0x08, 0x3a, 0x76, 0x65, 0x72, 0x73, 0x69, 0x6f, 0x6e, 0x00, 0x00,</div><div class="line">     0x00, 0x08, 0x48, 0x54, 0x54, 0x50, 0x2f, 0x31, 0x2e, 0x31, 0x00, 0x00,</div><div class="line">     0x00, 0x06, 0x61, 0x63, 0x63, 0x65, 0x70, 0x74, 0x00, 0x00, 0x00, 0x03,</div><div class="line">     0x2a, 0x2f, 0x2a, 0x00, 0x00, 0x00, 0x0f, 0x61, 0x63, 0x63, 0x65, 0x70,</div><div class="line">     0x74, 0x2d, 0x65, 0x6e, 0x63, 0x6f, 0x64, 0x69, 0x6e, 0x67, 0x00, 0x00,</div><div class="line">     0x00, 0x0d, 0x67, 0x7a, 0x69, 0x70, 0x2c, 0x20, 0x64, 0x65, 0x66, 0x6c,</div><div class="line">     0x61, 0x74, 0x65, 0x00, 0x00, 0x00, 0x0a, 0x75, 0x73, 0x65, 0x72, 0x2d,</div><div class="line">     0x61, 0x67, 0x65, 0x6e, 0x74, 0x00, 0x00, 0x00, 0x11, 0x73, 0x70, 0x64,</div><div class="line">     0x79, 0x6c, 0x61, 0x79, 0x2f, 0x31, 0x2e, 0x33, 0x2e, 0x33, 0x2d, 0x44,</div><div class="line">     0x45, 0x56, 0x00, 0x00, 0x00, 0xff, 0xff, 0x80, 0x03, 0x00, 0x07, 0x00,</div><div class="line">     0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}</div></div><!-- fragment -->
<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00576">576</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l00604">TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="a2b0756a67089ddf098584d2d11b659cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t multiValuedHeaderAttack[]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l01027">1027</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l01100">TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="a7114cf6fc04601d73f31ea2a8230813c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t pushStreamWithHostMissing[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{  0x80, 0x3, 0x0, 0x1, 0x2, 0x0, 0x0, 0x7c,</div><div class="line">   0x0, 0x0, 0x0, 0x2, 0x0, 0x0, 0x0, 0x1,</div><div class="line">   0x0, 0x0, 0x38, 0x30, 0xe3, 0xc6, 0xa7, 0xc2,</div><div class="line">   0x0, 0x62, 0x0, 0x9d, 0xff, 0x0, 0x0, 0x0,</div><div class="line">   0x4, 0x0, 0x0, 0x0, 0x5, 0x3a, 0x70, 0x61,</div><div class="line">   0x74, 0x68, 0x0, 0x0, 0x0, 0x14, 0x68, 0x74,</div><div class="line">   0x74, 0x70, 0x73, 0x3a, 0x2f, 0x2f, 0x77, 0x77,</div><div class="line">   0x77, 0x2e, 0x66, 0x6f, 0x6f, 0x2e, 0x63, 0x6f,</div><div class="line">   0x6d, 0x2f, 0x0, 0x0, 0x0, 0x7, 0x3a, 0x73,</div><div class="line">   0x63, 0x68, 0x65, 0x6d, 0x65, 0x0, 0x0, 0x0,</div><div class="line">   0x4, 0x68, 0x74, 0x74, 0x70, 0x0, 0x0, 0x0,</div><div class="line">   0x7, 0x3a, 0x73, 0x74, 0x61, 0x74, 0x75, 0x73,</div><div class="line">   0x0, 0x0, 0x0, 0x3, 0x32, 0x30, 0x30, 0x0,</div><div class="line">   0x0, 0x0, 0x8, 0x3a, 0x76, 0x65, 0x72, 0x73,</div><div class="line">   0x69, 0x6f, 0x6e, 0x0, 0x0, 0x0, 0x8, 0x48,</div><div class="line">   0x54, 0x54, 0x50, 0x2f, 0x31, 0x2e, 0x31, 0x0,</div><div class="line">   0x0, 0x0, 0xff, 0xff</div><div class="line">}</div></div><!-- fragment --><p>A push stream with Host header missing </p>

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00724">724</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l00744">TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="a24f70503a4a54bf2a393338b6ba5cbeb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t pushStreamWithOddId[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{ 0x80, 0x03, 0x00, 0x01, 0x02, 0x00, 0x00, 0x91,</div><div class="line">  0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x01,</div><div class="line">  0x00, 0x00, 0x38, 0x30, 0xe3, 0xc6, 0xa7, 0xc2,</div><div class="line">  0x00, 0x77, 0x00, 0x88, 0xff, 0x00, 0x00, 0x00,</div><div class="line">  0x05, 0x00, 0x00, 0x00, 0x05, 0x3a, 0x68, 0x6f,</div><div class="line">  0x73, 0x74, 0x00, 0x00, 0x00, 0x0b, 0x77, 0x77,</div><div class="line">  0x77, 0x2e, 0x66, 0x6f, 0x6f, 0x2e, 0x63, 0x6f,</div><div class="line">  0x6d, 0x00, 0x00, 0x00, 0x07, 0x3a, 0x6d, 0x65,</div><div class="line">  0x74, 0x68, 0x6f, 0x64, 0x00, 0x00, 0x00, 0x00,</div><div class="line">  0x00, 0x00, 0x00, 0x05, 0x3a, 0x70, 0x61, 0x74,</div><div class="line">  0x68, 0x00, 0x00, 0x00, 0x14, 0x68, 0x74, 0x74,</div><div class="line">  0x70, 0x73, 0x3a, 0x2f, 0x2f, 0x77, 0x77, 0x77,</div><div class="line">  0x2e, 0x66, 0x6f, 0x6f, 0x2e, 0x63, 0x6f, 0x6d,</div><div class="line">  0x2f, 0x00, 0x00, 0x00, 0x07, 0x3a, 0x73, 0x63,</div><div class="line">  0x68, 0x65, 0x6d, 0x65, 0x00, 0x00, 0x00, 0x04,</div><div class="line">  0x68, 0x74, 0x74, 0x70, 0x00, 0x00, 0x00, 0x08,</div><div class="line">  0x3a, 0x76, 0x65, 0x72, 0x73, 0x69, 0x6f, 0x6e,</div><div class="line">  0x00, 0x00, 0x00, 0x08, 0x48, 0x54, 0x54, 0x50,</div><div class="line">  0x2f, 0x31, 0x2e, 0x31, 0x00, 0x00, 0x00, 0xff,</div><div class="line">  0xff</div><div class="line">}</div></div><!-- fragment --><p>A push stream with an odd StreamID </p>

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00764">764</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l00787">TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="a165531b605495d0351b390a535ee45ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t pushStreamWithoutAssoc[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{ 0x80, 0x03, 0x00, 0x01, 0x02, 0x00, 0x00, 0x91,</div><div class="line">  0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00,</div><div class="line">  0x00, 0x00, 0x38, 0x30, 0xe3, 0xc6, 0xa7, 0xc2,</div><div class="line">  0x00, 0x77, 0x00, 0x88, 0xff, 0x00, 0x00, 0x00,</div><div class="line">  0x05, 0x00, 0x00, 0x00, 0x05, 0x3a, 0x68, 0x6f,</div><div class="line">  0x73, 0x74, 0x00, 0x00, 0x00, 0x0b, 0x77, 0x77,</div><div class="line">  0x77, 0x2e, 0x66, 0x6f, 0x6f, 0x2e, 0x63, 0x6f,</div><div class="line">  0x6d, 0x00, 0x00, 0x00, 0x07, 0x3a, 0x6d, 0x65,</div><div class="line">  0x74, 0x68, 0x6f, 0x64, 0x00, 0x00, 0x00, 0x00,</div><div class="line">  0x00, 0x00, 0x00, 0x05, 0x3a, 0x70, 0x61, 0x74,</div><div class="line">  0x68, 0x00, 0x00, 0x00, 0x14, 0x68, 0x74, 0x74,</div><div class="line">  0x70, 0x73, 0x3a, 0x2f, 0x2f, 0x77, 0x77, 0x77,</div><div class="line">  0x2e, 0x66, 0x6f, 0x6f, 0x2e, 0x63, 0x6f, 0x6d,</div><div class="line">  0x2f, 0x00, 0x00, 0x00, 0x07, 0x3a, 0x73, 0x63,</div><div class="line">  0x68, 0x65, 0x6d, 0x65, 0x00, 0x00, 0x00, 0x04,</div><div class="line">  0x68, 0x74, 0x74, 0x70, 0x00, 0x00, 0x00, 0x08,</div><div class="line">  0x3a, 0x76, 0x65, 0x72, 0x73, 0x69, 0x6f, 0x6e,</div><div class="line">  0x00, 0x00, 0x00, 0x08, 0x48, 0x54, 0x54, 0x50,</div><div class="line">  0x2f, 0x31, 0x2e, 0x31, 0x00, 0x00, 0x00, 0xff,</div><div class="line">  0xff</div><div class="line">}</div></div><!-- fragment --><p>A push stream with assocStreamID = SPDYCodec::NoStream </p>

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00850">850</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l00873">TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="ab4cb6d938e2a873e310c486c0cee91b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t pushStreamWithoutUnidirectional[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{ 0x80, 0x03, 0x00, 0x01, 0x00, 0x00, 0x00, 0x91,</div><div class="line">  0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x01,</div><div class="line">  0x00, 0x00, 0x38, 0x30, 0xe3, 0xc6, 0xa7, 0xc2,</div><div class="line">  0x00, 0x77, 0x00, 0x88, 0xff, 0x00, 0x00, 0x00,</div><div class="line">  0x05, 0x00, 0x00, 0x00, 0x05, 0x3a, 0x68, 0x6f,</div><div class="line">  0x73, 0x74, 0x00, 0x00, 0x00, 0x0b, 0x77, 0x77,</div><div class="line">  0x77, 0x2e, 0x66, 0x6f, 0x6f, 0x2e, 0x63, 0x6f,</div><div class="line">  0x6d, 0x00, 0x00, 0x00, 0x07, 0x3a, 0x6d, 0x65,</div><div class="line">  0x74, 0x68, 0x6f, 0x64, 0x00, 0x00, 0x00, 0x00,</div><div class="line">  0x00, 0x00, 0x00, 0x05, 0x3a, 0x70, 0x61, 0x74,</div><div class="line">  0x68, 0x00, 0x00, 0x00, 0x14, 0x68, 0x74, 0x74,</div><div class="line">  0x70, 0x73, 0x3a, 0x2f, 0x2f, 0x77, 0x77, 0x77,</div><div class="line">  0x2e, 0x66, 0x6f, 0x6f, 0x2e, 0x63, 0x6f, 0x6d,</div><div class="line">  0x2f, 0x00, 0x00, 0x00, 0x07, 0x3a, 0x73, 0x63,</div><div class="line">  0x68, 0x65, 0x6d, 0x65, 0x00, 0x00, 0x00, 0x04,</div><div class="line">  0x68, 0x74, 0x74, 0x70, 0x00, 0x00, 0x00, 0x08,</div><div class="line">  0x3a, 0x76, 0x65, 0x72, 0x73, 0x69, 0x6f, 0x6e,</div><div class="line">  0x00, 0x00, 0x00, 0x08, 0x48, 0x54, 0x54, 0x50,</div><div class="line">  0x2f, 0x31, 0x2e, 0x31, 0x00, 0x00, 0x00, 0xff,</div><div class="line">  0xff</div><div class="line">}</div></div><!-- fragment --><p>A push stream without unidirectional flag </p>

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00807">807</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l00830">TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="aaf11c23b1f3ffc803f34c33681037eda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t shortSynReply[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{ 0x80, 0x02, 0x00, 0x02, 0x01, 0x00, 0x00, 0x04, </div><div class="line">  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00</div><div class="line">}</div></div><!-- fragment --><p>A syn reply frame with invalid length </p>

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00515">515</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l00521">doShortSynReplyTest()</a>.</p>

</div>
</div>
<a class="anchor" id="a35aaa70cdcea29aa370cd7452c56e994"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t shortSynStream[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{ 0x80, 0x03, 0x00, 0x01,</div><div class="line">  0x01, 0x00, 0x00, 0x04,  </div><div class="line">  0x61, 0x62, 0x63, 0x64</div><div class="line">}</div></div><!-- fragment -->
<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00032">32</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l00059">TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="ac8d0fd94110856975f810f2ca4d3b026"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t spdy3UnknownCtlFrame[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{ 0x80, 0x03, 0x00, 0x0B, </div><div class="line">  0x00, 0x00, 0x00, 0x02, </div><div class="line">  0xD4, 0x74 </div><div class="line">}</div></div><!-- fragment -->
<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00313">313</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l00333">TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="af23220e16cbf20c486ace9d0fd258e2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t synStream[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A request from firefox for facebook.com </p>

<p>Definition at line <a class="el" href="SPDYCodecTest_8cpp_source.html#l00108">108</a> of file <a class="el" href="SPDYCodecTest_8cpp_source.html">SPDYCodecTest.cpp</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodecTest_8cpp_source.html#l00245">TEST()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d333e33cf903653326082c1f32e03be5.html">proxygen</a></li><li class="navelem"><a class="el" href="dir_baa8b6fadb61b56c035914fe171fd962.html">lib</a></li><li class="navelem"><a class="el" href="dir_bf1b8217360450c8f2328843af490dd2.html">http</a></li><li class="navelem"><a class="el" href="dir_f30caabe577ba4a66bd56f7edcb2a3d8.html">codec</a></li><li class="navelem"><a class="el" href="dir_654fdf097ab1437adff980cb82412985.html">test</a></li><li class="navelem"><a class="el" href="SPDYCodecTest_8cpp.html">SPDYCodecTest.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>

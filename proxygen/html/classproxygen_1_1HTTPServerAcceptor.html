<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: proxygen::HTTPServerAcceptor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classproxygen_1_1HTTPServerAcceptor.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classproxygen_1_1HTTPServerAcceptor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">proxygen::HTTPServerAcceptor Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="HTTPServerAcceptor_8h_source.html">HTTPServerAcceptor.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for proxygen::HTTPServerAcceptor:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classproxygen_1_1HTTPServerAcceptor.png" usemap="#proxygen::HTTPServerAcceptor_map" alt=""/>
  <map id="proxygen::HTTPServerAcceptor_map" name="proxygen::HTTPServerAcceptor_map">
<area href="classproxygen_1_1HTTPSessionAcceptor.html" alt="proxygen::HTTPSessionAcceptor" shape="rect" coords="130,112,380,136"/>
<area href="classproxygen_1_1HTTPAcceptor.html" alt="proxygen::HTTPAcceptor" shape="rect" coords="0,56,250,80"/>
<area href="classproxygen_1_1HTTPSessionBase_1_1InfoCallback.html" alt="proxygen::HTTPSessionBase::InfoCallback" shape="rect" coords="260,56,510,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad6c52d1c360afd07f04369016d656af6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPServerAcceptor.html#ad6c52d1c360afd07f04369016d656af6">setCompletionCallback</a> (std::function&lt; void()&gt; f)</td></tr>
<tr class="separator:ad6c52d1c360afd07f04369016d656af6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2a710a609747e63ac59a3ff349d9e8b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPServerAcceptor.html#ad2a710a609747e63ac59a3ff349d9e8b">~HTTPServerAcceptor</a> () override</td></tr>
<tr class="separator:ad2a710a609747e63ac59a3ff349d9e8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classproxygen_1_1HTTPSessionAcceptor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html">proxygen::HTTPSessionAcceptor</a></td></tr>
<tr class="memitem:a063ea9b9b724e1157bc01f863c77b479 inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html#a063ea9b9b724e1157bc01f863c77b479">HTTPSessionAcceptor</a> (const <a class="el" href="structproxygen_1_1AcceptorConfiguration.html">AcceptorConfiguration</a> &amp;accConfig)</td></tr>
<tr class="separator:a063ea9b9b724e1157bc01f863c77b479 inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6af44b9804b1dbbbc7a1853e5d210c4 inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html#ae6af44b9804b1dbbbc7a1853e5d210c4">HTTPSessionAcceptor</a> (const <a class="el" href="structproxygen_1_1AcceptorConfiguration.html">AcceptorConfiguration</a> &amp;accConfig, std::shared_ptr&lt; <a class="el" href="classproxygen_1_1HTTPCodecFactory.html">HTTPCodecFactory</a> &gt; codecFactory)</td></tr>
<tr class="separator:ae6af44b9804b1dbbbc7a1853e5d210c4 inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ffb7a321b038a9e0fece6f80f8a5c03 inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html#a1ffb7a321b038a9e0fece6f80f8a5c03">~HTTPSessionAcceptor</a> () override</td></tr>
<tr class="separator:a1ffb7a321b038a9e0fece6f80f8a5c03 inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a202f451c05591797e2e54eb412065671 inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html#a202f451c05591797e2e54eb412065671">setDefaultErrorPage</a> (std::unique_ptr&lt; <a class="el" href="classproxygen_1_1HTTPErrorPage.html">HTTPErrorPage</a> &gt; generator)</td></tr>
<tr class="separator:a202f451c05591797e2e54eb412065671 inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09272cdcdd07798b64bb09cb1b4f4c2f inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classproxygen_1_1HTTPErrorPage.html">HTTPErrorPage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html#a09272cdcdd07798b64bb09cb1b4f4c2f">getDefaultErrorPage</a> () const </td></tr>
<tr class="separator:a09272cdcdd07798b64bb09cb1b4f4c2f inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0679fd754236052e214c952dbab4e9f5 inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html#a0679fd754236052e214c952dbab4e9f5">setDiagnosticErrorPage</a> (std::unique_ptr&lt; <a class="el" href="classproxygen_1_1HTTPErrorPage.html">HTTPErrorPage</a> &gt; generator)</td></tr>
<tr class="separator:a0679fd754236052e214c952dbab4e9f5 inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adebf935491d748ced63c11432db74838 inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classproxygen_1_1HTTPErrorPage.html">HTTPErrorPage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html#adebf935491d748ced63c11432db74838">getDiagnosticErrorPage</a> () const </td></tr>
<tr class="separator:adebf935491d748ced63c11432db74838 inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ce0a4757b7b068d05c394801a8fe9fd inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classproxygen_1_1HTTPErrorPage.html">HTTPErrorPage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html#a0ce0a4757b7b068d05c394801a8fe9fd">getErrorPage</a> (const folly::SocketAddress &amp;addr) const </td></tr>
<tr class="separator:a0ce0a4757b7b068d05c394801a8fe9fd inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2586154b3ddb05a9b28fa2b0f1a21f59 inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html#a2586154b3ddb05a9b28fa2b0f1a21f59">setCodecFactory</a> (std::shared_ptr&lt; <a class="el" href="classproxygen_1_1HTTPCodecFactory.html">HTTPCodecFactory</a> &gt; codecFactory)</td></tr>
<tr class="separator:a2586154b3ddb05a9b28fa2b0f1a21f59 inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a587beef1d674542cdc250e5b8a0918e4 inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classproxygen_1_1HTTPCodecFactory.html">HTTPCodecFactory</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html#a587beef1d674542cdc250e5b8a0918e4">getCodecFactory</a> ()</td></tr>
<tr class="separator:a587beef1d674542cdc250e5b8a0918e4 inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a9129075cee1b1fe4c0c389ea3b14b6 inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html#a5a9129075cee1b1fe4c0c389ea3b14b6">setSessionInfoCallback</a> (<a class="el" href="classproxygen_1_1HTTPSessionBase_1_1InfoCallback.html">HTTPSession::InfoCallback</a> *cb)</td></tr>
<tr class="separator:a5a9129075cee1b1fe4c0c389ea3b14b6 inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87b0e6b6d6805c7807136d52d2286cbf inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html#a87b0e6b6d6805c7807136d52d2286cbf">getHttp2PrioritiesEnabled</a> ()</td></tr>
<tr class="separator:a87b0e6b6d6805c7807136d52d2286cbf inherit pub_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classproxygen_1_1HTTPAcceptor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classproxygen_1_1HTTPAcceptor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classproxygen_1_1HTTPAcceptor.html">proxygen::HTTPAcceptor</a></td></tr>
<tr class="memitem:ad92ee5333dfcd62b06712d4f365b6a24 inherit pub_methods_classproxygen_1_1HTTPAcceptor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPAcceptor.html#ad92ee5333dfcd62b06712d4f365b6a24">HTTPAcceptor</a> (const <a class="el" href="structproxygen_1_1AcceptorConfiguration.html">AcceptorConfiguration</a> &amp;accConfig)</td></tr>
<tr class="separator:ad92ee5333dfcd62b06712d4f365b6a24 inherit pub_methods_classproxygen_1_1HTTPAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aead124220ec1f1510dbf1ef5e8fbb9ee inherit pub_methods_classproxygen_1_1HTTPAcceptor"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPAcceptor.html#aead124220ec1f1510dbf1ef5e8fbb9ee">isInternal</a> () const </td></tr>
<tr class="separator:aead124220ec1f1510dbf1ef5e8fbb9ee inherit pub_methods_classproxygen_1_1HTTPAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e97b2731bacc645d2549d5657f75331 inherit pub_methods_classproxygen_1_1HTTPAcceptor"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classproxygen_1_1WheelTimerInstance.html">WheelTimerInstance</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPAcceptor.html#a2e97b2731bacc645d2549d5657f75331">getTransactionTimeoutSet</a> ()</td></tr>
<tr class="separator:a2e97b2731bacc645d2549d5657f75331 inherit pub_methods_classproxygen_1_1HTTPAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8419473788e11d528388653f834f8b83 inherit pub_methods_classproxygen_1_1HTTPAcceptor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPAcceptor.html#a8419473788e11d528388653f834f8b83">init</a> (folly::AsyncServerSocket *serverSocket, folly::EventBase *eventBase, wangle::SSLStats *=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>) override</td></tr>
<tr class="separator:a8419473788e11d528388653f834f8b83 inherit pub_methods_classproxygen_1_1HTTPAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad37753ee3bc6a61feac32f4db75c3f86 inherit pub_methods_classproxygen_1_1HTTPAcceptor"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structproxygen_1_1AcceptorConfiguration.html">AcceptorConfiguration</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPAcceptor.html#ad37753ee3bc6a61feac32f4db75c3f86">getConfig</a> () const </td></tr>
<tr class="separator:ad37753ee3bc6a61feac32f4db75c3f86 inherit pub_methods_classproxygen_1_1HTTPAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2d9fadb2a6488a57e7fe37080374b0c inherit pub_methods_classproxygen_1_1HTTPAcceptor"><td class="memItemLeft" align="right" valign="top">const wangle::ServerSocketConfig &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPAcceptor.html#af2d9fadb2a6488a57e7fe37080374b0c">getServerSocketConfig</a> ()</td></tr>
<tr class="separator:af2d9fadb2a6488a57e7fe37080374b0c inherit pub_methods_classproxygen_1_1HTTPAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a440a58e1591f2ea4ce46cf145c673a5b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structproxygen_1_1AcceptorConfiguration.html">AcceptorConfiguration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPServerAcceptor.html#a440a58e1591f2ea4ce46cf145c673a5b">makeConfig</a> (const <a class="el" href="structproxygen_1_1HTTPServer_1_1IPConfig.html">HTTPServer::IPConfig</a> &amp;ipConfig, const <a class="el" href="classproxygen_1_1HTTPServerOptions.html">HTTPServerOptions</a> &amp;opts)</td></tr>
<tr class="separator:a440a58e1591f2ea4ce46cf145c673a5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f899c4e2d2089153949073ac550af83"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="classproxygen_1_1HTTPServerAcceptor.html">HTTPServerAcceptor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPServerAcceptor.html#a8f899c4e2d2089153949073ac550af83">make</a> (const <a class="el" href="structproxygen_1_1AcceptorConfiguration.html">AcceptorConfiguration</a> &amp;conf, const <a class="el" href="classproxygen_1_1HTTPServerOptions.html">HTTPServerOptions</a> &amp;opts, const std::shared_ptr&lt; <a class="el" href="classproxygen_1_1HTTPCodecFactory.html">HTTPCodecFactory</a> &gt; &amp;codecFactory=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>)</td></tr>
<tr class="separator:a8f899c4e2d2089153949073ac550af83"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a1e19de1824234338a5e1c4f0847db288"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPServerAcceptor.html#a1e19de1824234338a5e1c4f0847db288">HTTPServerAcceptor</a> (const <a class="el" href="structproxygen_1_1AcceptorConfiguration.html">AcceptorConfiguration</a> &amp;conf, const std::shared_ptr&lt; <a class="el" href="classproxygen_1_1HTTPCodecFactory.html">HTTPCodecFactory</a> &gt; &amp;codecFactory, std::vector&lt; <a class="el" href="classproxygen_1_1RequestHandlerFactory.html">RequestHandlerFactory</a> * &gt; handlerFactories, const <a class="el" href="classproxygen_1_1HTTPServerOptions.html">HTTPServerOptions</a> &amp;options)</td></tr>
<tr class="separator:a1e19de1824234338a5e1c4f0847db288"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c2e4393964245f2868deeff34d5fa55"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classproxygen_1_1HTTPTransaction.html#a7d7b33611c7b5f490fb5be4747c82561">HTTPTransaction::Handler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPServerAcceptor.html#a3c2e4393964245f2868deeff34d5fa55">newHandler</a> (<a class="el" href="classproxygen_1_1HTTPTransaction.html">HTTPTransaction</a> &amp;txn, <a class="el" href="classproxygen_1_1HTTPMessage.html">HTTPMessage</a> *msg) noexceptoverride</td></tr>
<tr class="separator:a3c2e4393964245f2868deeff34d5fa55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f127172c7321b8adabe1819f2762474"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPServerAcceptor.html#a0f127172c7321b8adabe1819f2762474">onNewConnection</a> (folly::AsyncTransportWrapper::UniquePtr sock, const folly::SocketAddress *address, const std::string &amp;nextProtocolName, wangle::SecureTransportType secureTransportType, const wangle::TransportInfo &amp;tinfo) override</td></tr>
<tr class="separator:a0f127172c7321b8adabe1819f2762474"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad17caab0b384feab6968d57313485565"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPServerAcceptor.html#ad17caab0b384feab6968d57313485565">onConnectionsDrained</a> () override</td></tr>
<tr class="separator:ad17caab0b384feab6968d57313485565"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a778456339def5144ad264495b9964f4e"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classproxygen_1_1HTTPServerOptions.html">HTTPServerOptions</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPServerAcceptor.html#a778456339def5144ad264495b9964f4e">serverOptions_</a></td></tr>
<tr class="separator:a778456339def5144ad264495b9964f4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18fdbdba32786f4e7ef5c634c45a77d1"><td class="memItemLeft" align="right" valign="top">std::function&lt; void()&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPServerAcceptor.html#a18fdbdba32786f4e7ef5c634c45a77d1">completionCallback_</a></td></tr>
<tr class="separator:a18fdbdba32786f4e7ef5c634c45a77d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef8eb81740a89f904fb0fbd937533b1e"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="classproxygen_1_1RequestHandlerFactory.html">RequestHandlerFactory</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPServerAcceptor.html#aef8eb81740a89f904fb0fbd937533b1e">handlerFactories_</a> {<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>}</td></tr>
<tr class="separator:aef8eb81740a89f904fb0fbd937533b1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classproxygen_1_1HTTPSessionAcceptor"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classproxygen_1_1HTTPSessionAcceptor')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html">proxygen::HTTPSessionAcceptor</a></td></tr>
<tr class="memitem:a1fca63b392c09e421adf9c368e818f64 inherit pro_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classproxygen_1_1HTTPSessionController.html">HTTPSessionController</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html#a1fca63b392c09e421adf9c368e818f64">getController</a> ()</td></tr>
<tr class="separator:a1fca63b392c09e421adf9c368e818f64 inherit pro_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8207bbe478fc7f635a6969f2c00f231 inherit pro_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classproxygen_1_1HTTPSessionBase_1_1InfoCallback.html">HTTPSession::InfoCallback</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html#ac8207bbe478fc7f635a6969f2c00f231">getSessionInfoCallback</a> ()</td></tr>
<tr class="separator:ac8207bbe478fc7f635a6969f2c00f231 inherit pro_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27e105a6ad38c082b735a2df8384fdca inherit pro_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html#a27e105a6ad38c082b735a2df8384fdca">onNewConnection</a> (folly::AsyncTransportWrapper::UniquePtr sock, const folly::SocketAddress *address, const std::string &amp;nextProtocol, wangle::SecureTransportType secureTransportType, const wangle::TransportInfo &amp;tinfo) override</td></tr>
<tr class="separator:a27e105a6ad38c082b735a2df8384fdca inherit pro_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa56e436fec5ae6037da42c441a996e44 inherit pro_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memItemLeft" align="right" valign="top">folly::AsyncSocket::UniquePtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html#aa56e436fec5ae6037da42c441a996e44">makeNewAsyncSocket</a> (folly::EventBase *base, int fd) override</td></tr>
<tr class="separator:aa56e436fec5ae6037da42c441a996e44 inherit pro_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1ddb9b6c4564885e68e51868a8771f2 inherit pro_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memItemLeft" align="right" valign="top">virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html#ab1ddb9b6c4564885e68e51868a8771f2">dropIdleConnections</a> (size_t num)</td></tr>
<tr class="separator:ab1ddb9b6c4564885e68e51868a8771f2 inherit pro_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3064ee452b305c863eec7e854e0c1536 inherit pro_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html#a3064ee452b305c863eec7e854e0c1536">onSessionCreationError</a> (<a class="el" href="namespaceproxygen.html#ac167448283d2eb2403c01822410d956d">ProxygenError</a>)</td></tr>
<tr class="separator:a3064ee452b305c863eec7e854e0c1536 inherit pro_methods_classproxygen_1_1HTTPSessionAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classproxygen_1_1HTTPSessionAcceptor"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classproxygen_1_1HTTPSessionAcceptor')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html">proxygen::HTTPSessionAcceptor</a></td></tr>
<tr class="memitem:ab4c90c10266060c2fba74afee1cb63d2 inherit pro_attribs_classproxygen_1_1HTTPSessionAcceptor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classproxygen_1_1HTTPSessionStats.html">HTTPSessionStats</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html#ab4c90c10266060c2fba74afee1cb63d2">downstreamSessionStats_</a> {<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>}</td></tr>
<tr class="separator:ab4c90c10266060c2fba74afee1cb63d2 inherit pro_attribs_classproxygen_1_1HTTPSessionAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classproxygen_1_1HTTPAcceptor"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classproxygen_1_1HTTPAcceptor')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classproxygen_1_1HTTPAcceptor.html">proxygen::HTTPAcceptor</a></td></tr>
<tr class="memitem:a5092ba61a329885849049e2e6e360a98 inherit pro_attribs_classproxygen_1_1HTTPAcceptor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structproxygen_1_1AcceptorConfiguration.html">AcceptorConfiguration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HTTPAcceptor.html#a5092ba61a329885849049e2e6e360a98">accConfig_</a></td></tr>
<tr class="separator:a5092ba61a329885849049e2e6e360a98 inherit pro_attribs_classproxygen_1_1HTTPAcceptor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="HTTPServerAcceptor_8h_source.html#l00018">18</a> of file <a class="el" href="HTTPServerAcceptor_8h_source.html">HTTPServerAcceptor.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad2a710a609747e63ac59a3ff349d9e8b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">proxygen::HTTPServerAcceptor::~HTTPServerAcceptor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HTTPServerAcceptor_8cpp_source.html#l00095">95</a> of file <a class="el" href="HTTPServerAcceptor_8cpp_source.html">HTTPServerAcceptor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                                        {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1e19de1824234338a5e1c4f0847db288"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">proxygen::HTTPServerAcceptor::HTTPServerAcceptor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structproxygen_1_1AcceptorConfiguration.html">AcceptorConfiguration</a> &amp;&#160;</td>
          <td class="paramname"><em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classproxygen_1_1HTTPCodecFactory.html">HTTPCodecFactory</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>codecFactory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classproxygen_1_1RequestHandlerFactory.html">RequestHandlerFactory</a> * &gt;&#160;</td>
          <td class="paramname"><em>handlerFactories</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classproxygen_1_1HTTPServerOptions.html">HTTPServerOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HTTPServerAcceptor_8cpp_source.html#l00081">81</a> of file <a class="el" href="HTTPServerAcceptor_8cpp_source.html">HTTPServerAcceptor.cpp</a>.</p>

<p>Referenced by <a class="el" href="HTTPServerAcceptor_8cpp_source.html#l00065">make()</a>.</p>
<div class="fragment"><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    : <a class="code" href="classproxygen_1_1HTTPSessionAcceptor.html#a063ea9b9b724e1157bc01f863c77b479">HTTPSessionAcceptor</a>(conf, codecFactory),</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      <a class="code" href="classproxygen_1_1HTTPServerAcceptor.html#a778456339def5144ad264495b9964f4e">serverOptions_</a>(options),</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      <a class="code" href="classproxygen_1_1HTTPServerAcceptor.html#aef8eb81740a89f904fb0fbd937533b1e">handlerFactories_</a>(handlerFactories) {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div><div class="ttc" id="classproxygen_1_1HTTPServerAcceptor_html_a778456339def5144ad264495b9964f4e"><div class="ttname"><a href="classproxygen_1_1HTTPServerAcceptor.html#a778456339def5144ad264495b9964f4e">proxygen::HTTPServerAcceptor::serverOptions_</a></div><div class="ttdeci">const HTTPServerOptions &amp; serverOptions_</div><div class="ttdef"><b>Definition:</b> <a href="HTTPServerAcceptor_8h_source.html#l00054">HTTPServerAcceptor.h:54</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPSessionAcceptor_html_a063ea9b9b724e1157bc01f863c77b479"><div class="ttname"><a href="classproxygen_1_1HTTPSessionAcceptor.html#a063ea9b9b724e1157bc01f863c77b479">proxygen::HTTPSessionAcceptor::HTTPSessionAcceptor</a></div><div class="ttdeci">HTTPSessionAcceptor(const AcceptorConfiguration &amp;accConfig)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPSessionAcceptor_8cpp_source.html#l00026">HTTPSessionAcceptor.cpp:26</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPServerAcceptor_html_aef8eb81740a89f904fb0fbd937533b1e"><div class="ttname"><a href="classproxygen_1_1HTTPServerAcceptor.html#aef8eb81740a89f904fb0fbd937533b1e">proxygen::HTTPServerAcceptor::handlerFactories_</a></div><div class="ttdeci">const std::vector&lt; RequestHandlerFactory * &gt; handlerFactories_</div><div class="ttdef"><b>Definition:</b> <a href="HTTPServerAcceptor_8h_source.html#l00056">HTTPServerAcceptor.h:56</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a8f899c4e2d2089153949073ac550af83"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="classproxygen_1_1HTTPServerAcceptor.html">HTTPServerAcceptor</a> &gt; proxygen::HTTPServerAcceptor::make </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structproxygen_1_1AcceptorConfiguration.html">AcceptorConfiguration</a> &amp;&#160;</td>
          <td class="paramname"><em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classproxygen_1_1HTTPServerOptions.html">HTTPServerOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>opts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classproxygen_1_1HTTPCodecFactory.html">HTTPCodecFactory</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>codecFactory</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HTTPServerAcceptor_8cpp_source.html#l00065">65</a> of file <a class="el" href="HTTPServerAcceptor_8cpp_source.html">HTTPServerAcceptor.cpp</a>.</p>

<p>References <a class="el" href="HTTPServerOptions_8h_source.html#l00065">proxygen::HTTPServerOptions::handlerFactories</a>, and <a class="el" href="HTTPServerAcceptor_8cpp_source.html#l00081">HTTPServerAcceptor()</a>.</p>

<p>Referenced by <a class="el" href="HTTPServer_8cpp_source.html#l00041">proxygen::AcceptorFactory::newAcceptor()</a>.</p>
<div class="fragment"><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                                                       {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="comment">// Create a copy of the filter chain in reverse order since we need to create</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="comment">// Handlers in that order.</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  std::vector&lt;RequestHandlerFactory*&gt; handlerFactories;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; f: opts.handlerFactories) {</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    handlerFactories.push_back(f.get());</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  }</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  std::reverse(handlerFactories.begin(), handlerFactories.end());</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordflow">return</span> std::unique_ptr&lt;HTTPServerAcceptor&gt;(</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      <span class="keyword">new</span> <a class="code" href="classproxygen_1_1HTTPServerAcceptor.html#a1e19de1824234338a5e1c4f0847db288">HTTPServerAcceptor</a>(conf, codecFactory, handlerFactories, opts));</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div><div class="ttc" id="classproxygen_1_1HTTPServerAcceptor_html_a1e19de1824234338a5e1c4f0847db288"><div class="ttname"><a href="classproxygen_1_1HTTPServerAcceptor.html#a1e19de1824234338a5e1c4f0847db288">proxygen::HTTPServerAcceptor::HTTPServerAcceptor</a></div><div class="ttdeci">HTTPServerAcceptor(const AcceptorConfiguration &amp;conf, const std::shared_ptr&lt; HTTPCodecFactory &gt; &amp;codecFactory, std::vector&lt; RequestHandlerFactory * &gt; handlerFactories, const HTTPServerOptions &amp;options)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPServerAcceptor_8cpp_source.html#l00081">HTTPServerAcceptor.cpp:81</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a440a58e1591f2ea4ce46cf145c673a5b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structproxygen_1_1AcceptorConfiguration.html">AcceptorConfiguration</a> proxygen::HTTPServerAcceptor::makeConfig </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structproxygen_1_1HTTPServer_1_1IPConfig.html">HTTPServer::IPConfig</a> &amp;&#160;</td>
          <td class="paramname"><em>ipConfig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classproxygen_1_1HTTPServerOptions.html">HTTPServerOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>opts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HTTPServerAcceptor_8cpp_source.html#l00023">23</a> of file <a class="el" href="HTTPServerAcceptor_8cpp_source.html">HTTPServerAcceptor.cpp</a>.</p>

<p>References <a class="el" href="HTTPServer_8h_source.html#l00079">proxygen::HTTPServer::IPConfig::acceptorSocketOptions</a>, <a class="el" href="HTTPServer_8h_source.html#l00048">proxygen::HTTPServer::IPConfig::address</a>, <a class="el" href="AcceptorConfiguration_8h_source.html#l00065">proxygen::AcceptorConfiguration::allowedPlaintextUpgradeProtocols</a>, <a class="el" href="HTTPServer_8h_source.html#l00067">proxygen::HTTPServer::IPConfig::allowInsecureConnectionsOnSecureServer</a>, <a class="el" href="AcceptorConfiguration_8h_source.html#l00070">proxygen::AcceptorConfiguration::egressSettings</a>, <a class="el" href="namespaceproxygen.html#a89466eaf4f6bbc394ccf41acbef3e045a173e180931118bfa5eb34394106e923b">proxygen::ENABLE_EX_HEADERS</a>, <a class="el" href="HTTPServerOptions_8h_source.html#l00136">proxygen::HTTPServerOptions::enableExHeaders</a>, <a class="el" href="HTTPServer_8h_source.html#l00068">proxygen::HTTPServer::IPConfig::enableTCPFastOpen</a>, <a class="el" href="HTTPServer_8h_source.html#l00072">proxygen::HTTPServer::IPConfig::fastOpenQueueSize</a>, <a class="el" href="HTTPServerOptions_8h_source.html#l00087">proxygen::HTTPServerOptions::h2cEnabled</a>, <a class="el" href="classproxygen_1_1HTTPServer.html#aa27f45acacd7a57c59ddba1729b520e2ae911468ee8681ba1862cf34bc5e85a8a">proxygen::HTTPServer::HTTP2</a>, <a class="el" href="HTTPServerOptions_8h_source.html#l00077">proxygen::HTTPServerOptions::idleTimeout</a>, <a class="el" href="AcceptorConfiguration_8h_source.html#l00089">proxygen::AcceptorConfiguration::initialReceiveWindow</a>, <a class="el" href="HTTPServerOptions_8h_source.html#l00106">proxygen::HTTPServerOptions::initialReceiveWindow</a>, <a class="el" href="namespaceproxygen_1_1http2.html#a4a4530236990b959d14d8a16d91d99cb">proxygen::http2::kProtocolCleartextString</a>, <a class="el" href="HTTPServerOptions_8h_source.html#l00082">proxygen::HTTPServerOptions::listenBacklog</a>, <a class="el" href="AcceptorConfiguration_8h_source.html#l00076">proxygen::AcceptorConfiguration::maxConcurrentIncomingStreams</a>, <a class="el" href="HTTPServerOptions_8h_source.html#l00114">proxygen::HTTPServerOptions::maxConcurrentIncomingStreams</a>, <a class="el" href="AcceptorConfiguration_8h_source.html#l00060">proxygen::AcceptorConfiguration::plaintextProtocol</a>, <a class="el" href="HTTPServer_8h_source.html#l00049">proxygen::HTTPServer::IPConfig::protocol</a>, <a class="el" href="AcceptorConfiguration_8h_source.html#l00091">proxygen::AcceptorConfiguration::receiveSessionWindowSize</a>, <a class="el" href="HTTPServerOptions_8h_source.html#l00108">proxygen::HTTPServerOptions::receiveSessionWindowSize</a>, <a class="el" href="AcceptorConfiguration_8h_source.html#l00090">proxygen::AcceptorConfiguration::receiveStreamWindowSize</a>, <a class="el" href="HTTPServerOptions_8h_source.html#l00107">proxygen::HTTPServerOptions::receiveStreamWindowSize</a>, <a class="el" href="classproxygen_1_1HTTPServer.html#aa27f45acacd7a57c59ddba1729b520e2adbc2b23f8602ccdf438c0f5dce917655">proxygen::HTTPServer::SPDY</a>, <a class="el" href="HTTPServer_8h_source.html#l00051">proxygen::HTTPServer::IPConfig::sslConfigs</a>, <a class="el" href="HTTPServer_8h_source.html#l00077">proxygen::HTTPServer::IPConfig::strictSSL</a>, <a class="el" href="HTTPServer_8h_source.html#l00060">proxygen::HTTPServer::IPConfig::ticketSeeds</a>, and <a class="el" href="AcceptorConfiguration_8h_source.html#l00049">proxygen::AcceptorConfiguration::transactionIdleTimeout</a>.</p>

<p>Referenced by <a class="el" href="HTTPServer_8cpp_source.html#l00119">proxygen::HTTPServer::start()</a>.</p>
<div class="fragment"><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;                                   {</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  AcceptorConfiguration conf;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  conf.bindAddress = ipConfig.address;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  conf.connectionIdleTimeout = opts.idleTimeout;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  conf.transactionIdleTimeout = opts.idleTimeout;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  conf.initialReceiveWindow = opts.initialReceiveWindow;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  conf.receiveStreamWindowSize = opts.receiveStreamWindowSize;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  conf.receiveSessionWindowSize = opts.receiveSessionWindowSize;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  conf.acceptBacklog = opts.listenBacklog;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  conf.maxConcurrentIncomingStreams = opts.maxConcurrentIncomingStreams;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="keywordflow">if</span> (opts.enableExHeaders) {</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    conf.egressSettings.push_back(</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;      HTTPSetting(<a class="code" href="namespaceproxygen.html#a89466eaf4f6bbc394ccf41acbef3e045a173e180931118bfa5eb34394106e923b">SettingsId::ENABLE_EX_HEADERS</a>, 1));</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  }</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keywordflow">if</span> (ipConfig.protocol == <a class="code" href="classproxygen_1_1HTTPServer.html#aa27f45acacd7a57c59ddba1729b520e2adbc2b23f8602ccdf438c0f5dce917655">HTTPServer::Protocol::SPDY</a>) {</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    conf.plaintextProtocol = <span class="stringliteral">&quot;spdy/3.1&quot;</span>;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ipConfig.protocol == <a class="code" href="classproxygen_1_1HTTPServer.html#aa27f45acacd7a57c59ddba1729b520e2ae911468ee8681ba1862cf34bc5e85a8a">HTTPServer::Protocol::HTTP2</a>) {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    conf.plaintextProtocol = <a class="code" href="namespaceproxygen_1_1http2.html#a4a4530236990b959d14d8a16d91d99cb">http2::kProtocolCleartextString</a>;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opts.h2cEnabled) {</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    conf.allowedPlaintextUpgradeProtocols = { <a class="code" href="namespaceproxygen_1_1http2.html#a4a4530236990b959d14d8a16d91d99cb">http2::kProtocolCleartextString</a> };</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  }</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  conf.sslContextConfigs = ipConfig.sslConfigs;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  conf.strictSSL = ipConfig.strictSSL;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  conf.allowInsecureConnectionsOnSecureServer =</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;      ipConfig.allowInsecureConnectionsOnSecureServer;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  conf.enableTCPFastOpen = ipConfig.enableTCPFastOpen;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  conf.fastOpenQueueSize = ipConfig.fastOpenQueueSize;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keywordflow">if</span> (ipConfig.ticketSeeds) {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    conf.initialTicketSeeds = *ipConfig.ticketSeeds;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  }</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordflow">if</span> (ipConfig.acceptorSocketOptions.hasValue()) {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    conf.setSocketOptions(ipConfig.acceptorSocketOptions.value());</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  }</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordflow">return</span> conf;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div><div class="ttc" id="namespaceproxygen_html_a89466eaf4f6bbc394ccf41acbef3e045a173e180931118bfa5eb34394106e923b"><div class="ttname"><a href="namespaceproxygen.html#a89466eaf4f6bbc394ccf41acbef3e045a173e180931118bfa5eb34394106e923b">proxygen::SettingsId::ENABLE_EX_HEADERS</a></div></div>
<div class="ttc" id="namespaceproxygen_1_1http2_html_a4a4530236990b959d14d8a16d91d99cb"><div class="ttname"><a href="namespaceproxygen_1_1http2.html#a4a4530236990b959d14d8a16d91d99cb">proxygen::http2::kProtocolCleartextString</a></div><div class="ttdeci">const std::string kProtocolCleartextString</div></div>
<div class="ttc" id="classproxygen_1_1HTTPServer_html_aa27f45acacd7a57c59ddba1729b520e2ae911468ee8681ba1862cf34bc5e85a8a"><div class="ttname"><a href="classproxygen_1_1HTTPServer.html#aa27f45acacd7a57c59ddba1729b520e2ae911468ee8681ba1862cf34bc5e85a8a">proxygen::HTTPServer::Protocol::HTTP2</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPServer_html_aa27f45acacd7a57c59ddba1729b520e2adbc2b23f8602ccdf438c0f5dce917655"><div class="ttname"><a href="classproxygen_1_1HTTPServer.html#aa27f45acacd7a57c59ddba1729b520e2adbc2b23f8602ccdf438c0f5dce917655">proxygen::HTTPServer::Protocol::SPDY</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3c2e4393964245f2868deeff34d5fa55"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classproxygen_1_1HTTPTransactionHandler.html">HTTPTransactionHandler</a> * proxygen::HTTPServerAcceptor::newHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classproxygen_1_1HTTPTransaction.html">HTTPTransaction</a> &amp;&#160;</td>
          <td class="paramname"><em>txn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classproxygen_1_1HTTPMessage.html">HTTPMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a Handler for a new transaction. The transaction and HTTP message (request) are passed so the implementation can construct different handlers based on these. The transaction will be explicitly set on the handler later via setTransaction. The request message will be passed in onHeadersComplete. </p>

<p>Implements <a class="el" href="classproxygen_1_1HTTPSessionAcceptor.html#aaf24d4ddcf78a27d32330633a22e4a9b">proxygen::HTTPSessionAcceptor</a>.</p>

<p>Definition at line <a class="el" href="HTTPServerAcceptor_8cpp_source.html#l00098">98</a> of file <a class="el" href="HTTPServerAcceptor_8cpp_source.html">HTTPServerAcceptor.cpp</a>.</p>

<p>References <a class="el" href="HTTPServerAcceptor_8h_source.html#l00056">handlerFactories_</a>, and <a class="el" href="classproxygen_1_1RequestHandler.html#a61f59e1155f906c7b73062147164320f">proxygen::RequestHandler::onRequest()</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                               {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  SocketAddress clientAddr, vipAddr;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  txn.getPeerAddress(clientAddr);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  txn.getLocalAddress(vipAddr);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  msg-&gt;setClientAddress(clientAddr);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  msg-&gt;setDstAddress(vipAddr);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="comment">// Create filters chain</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  RequestHandler* h = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; factory: <a class="code" href="classproxygen_1_1HTTPServerAcceptor.html#aef8eb81740a89f904fb0fbd937533b1e">handlerFactories_</a>) {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    h = factory-&gt;onRequest(h, msg);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> RequestHandlerAdaptor(h);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div><div class="ttc" id="classproxygen_1_1HTTPServerAcceptor_html_aef8eb81740a89f904fb0fbd937533b1e"><div class="ttname"><a href="classproxygen_1_1HTTPServerAcceptor.html#aef8eb81740a89f904fb0fbd937533b1e">proxygen::HTTPServerAcceptor::handlerFactories_</a></div><div class="ttdeci">const std::vector&lt; RequestHandlerFactory * &gt; handlerFactories_</div><div class="ttdef"><b>Definition:</b> <a href="HTTPServerAcceptor_8h_source.html#l00056">HTTPServerAcceptor.h:56</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad17caab0b384feab6968d57313485565"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void proxygen::HTTPServerAcceptor::onConnectionsDrained </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HTTPServerAcceptor_8cpp_source.html#l00137">137</a> of file <a class="el" href="HTTPServerAcceptor_8cpp_source.html">HTTPServerAcceptor.cpp</a>.</p>

<p>References <a class="el" href="HTTPServerAcceptor_8h_source.html#l00055">completionCallback_</a>.</p>
<div class="fragment"><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                                              {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classproxygen_1_1HTTPServerAcceptor.html#a18fdbdba32786f4e7ef5c634c45a77d1">completionCallback_</a>) {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="classproxygen_1_1HTTPServerAcceptor.html#a18fdbdba32786f4e7ef5c634c45a77d1">completionCallback_</a>();</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  }</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div><div class="ttc" id="classproxygen_1_1HTTPServerAcceptor_html_a18fdbdba32786f4e7ef5c634c45a77d1"><div class="ttname"><a href="classproxygen_1_1HTTPServerAcceptor.html#a18fdbdba32786f4e7ef5c634c45a77d1">proxygen::HTTPServerAcceptor::completionCallback_</a></div><div class="ttdeci">std::function&lt; void()&gt; completionCallback_</div><div class="ttdef"><b>Definition:</b> <a href="HTTPServerAcceptor_8h_source.html#l00055">HTTPServerAcceptor.h:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0f127172c7321b8adabe1819f2762474"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void proxygen::HTTPServerAcceptor::onNewConnection </td>
          <td>(</td>
          <td class="paramtype">folly::AsyncTransportWrapper::UniquePtr&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const folly::SocketAddress *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>nextProtocolName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">wangle::SecureTransportType&#160;</td>
          <td class="paramname"><em>secureTransportType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const wangle::TransportInfo &amp;&#160;</td>
          <td class="paramname"><em>tinfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HTTPServerAcceptor_8cpp_source.html#l00117">117</a> of file <a class="el" href="HTTPServerAcceptor_8cpp_source.html">HTTPServerAcceptor.cpp</a>.</p>

<p>References <a class="el" href="HTTPServerOptions_8h_source.html#l00185">proxygen::HTTPServerOptions::newConnectionFilter</a>, <a class="el" href="HTTPSessionAcceptor_8cpp_source.html#l00058">proxygen::HTTPSessionAcceptor::onNewConnection()</a>, and <a class="el" href="HTTPServerAcceptor_8h_source.html#l00054">serverOptions_</a>.</p>
<div class="fragment"><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                                      {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keyword">auto</span>&amp; filter = <a class="code" href="classproxygen_1_1HTTPServerAcceptor.html#a778456339def5144ad264495b9964f4e">serverOptions_</a>.<a class="code" href="classproxygen_1_1HTTPServerOptions.html#aacae5712b24b3292093ae182f171947f">newConnectionFilter</a>;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">if</span> (filter) {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">try</span> {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      filter(sock.get(), address, nextProtocolName, secureTransportType, tinfo);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      sock-&gt;closeWithReset();</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      LOG(INFO) &lt;&lt; <span class="stringliteral">&quot;Exception filtering new socket: &quot;</span> &lt;&lt; folly::exceptionStr(e);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  }</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <a class="code" href="classproxygen_1_1HTTPSessionAcceptor.html#a27e105a6ad38c082b735a2df8384fdca">HTTPSessionAcceptor::onNewConnection</a>(</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      std::move(sock), address, nextProtocolName, secureTransportType, tinfo);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div><div class="ttc" id="classproxygen_1_1HTTPServerAcceptor_html_a778456339def5144ad264495b9964f4e"><div class="ttname"><a href="classproxygen_1_1HTTPServerAcceptor.html#a778456339def5144ad264495b9964f4e">proxygen::HTTPServerAcceptor::serverOptions_</a></div><div class="ttdeci">const HTTPServerOptions &amp; serverOptions_</div><div class="ttdef"><b>Definition:</b> <a href="HTTPServerAcceptor_8h_source.html#l00054">HTTPServerAcceptor.h:54</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPServerOptions_html_aacae5712b24b3292093ae182f171947f"><div class="ttname"><a href="classproxygen_1_1HTTPServerOptions.html#aacae5712b24b3292093ae182f171947f">proxygen::HTTPServerOptions::newConnectionFilter</a></div><div class="ttdeci">NewConnectionFilter newConnectionFilter</div><div class="ttdef"><b>Definition:</b> <a href="HTTPServerOptions_8h_source.html#l00185">HTTPServerOptions.h:185</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPSessionAcceptor_html_a27e105a6ad38c082b735a2df8384fdca"><div class="ttname"><a href="classproxygen_1_1HTTPSessionAcceptor.html#a27e105a6ad38c082b735a2df8384fdca">proxygen::HTTPSessionAcceptor::onNewConnection</a></div><div class="ttdeci">void onNewConnection(folly::AsyncTransportWrapper::UniquePtr sock, const folly::SocketAddress *address, const std::string &amp;nextProtocol, wangle::SecureTransportType secureTransportType, const wangle::TransportInfo &amp;tinfo) override</div><div class="ttdef"><b>Definition:</b> <a href="HTTPSessionAcceptor_8cpp_source.html#l00058">HTTPSessionAcceptor.cpp:58</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad6c52d1c360afd07f04369016d656af6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void proxygen::HTTPServerAcceptor::setCompletionCallback </td>
          <td>(</td>
          <td class="paramtype">std::function&lt; void()&gt;&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invokes the given method when all the connections are drained </p>

<p>Definition at line <a class="el" href="HTTPServerAcceptor_8cpp_source.html#l00091">91</a> of file <a class="el" href="HTTPServerAcceptor_8cpp_source.html">HTTPServerAcceptor.cpp</a>.</p>

<p>References <a class="el" href="HTTPServerAcceptor_8h_source.html#l00055">completionCallback_</a>.</p>
<div class="fragment"><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                                                                    {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <a class="code" href="classproxygen_1_1HTTPServerAcceptor.html#a18fdbdba32786f4e7ef5c634c45a77d1">completionCallback_</a> = f;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div><div class="ttc" id="classproxygen_1_1HTTPServerAcceptor_html_a18fdbdba32786f4e7ef5c634c45a77d1"><div class="ttname"><a href="classproxygen_1_1HTTPServerAcceptor.html#a18fdbdba32786f4e7ef5c634c45a77d1">proxygen::HTTPServerAcceptor::completionCallback_</a></div><div class="ttdeci">std::function&lt; void()&gt; completionCallback_</div><div class="ttdef"><b>Definition:</b> <a href="HTTPServerAcceptor_8h_source.html#l00055">HTTPServerAcceptor.h:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a18fdbdba32786f4e7ef5c634c45a77d1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::function&lt;void()&gt; proxygen::HTTPServerAcceptor::completionCallback_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HTTPServerAcceptor_8h_source.html#l00055">55</a> of file <a class="el" href="HTTPServerAcceptor_8h_source.html">HTTPServerAcceptor.h</a>.</p>

<p>Referenced by <a class="el" href="HTTPServerAcceptor_8cpp_source.html#l00137">onConnectionsDrained()</a>, and <a class="el" href="HTTPServerAcceptor_8cpp_source.html#l00091">setCompletionCallback()</a>.</p>

</div>
</div>
<a class="anchor" id="aef8eb81740a89f904fb0fbd937533b1e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;<a class="el" href="classproxygen_1_1RequestHandlerFactory.html">RequestHandlerFactory</a>*&gt; proxygen::HTTPServerAcceptor::handlerFactories_ {<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HTTPServerAcceptor_8h_source.html#l00056">56</a> of file <a class="el" href="HTTPServerAcceptor_8h_source.html">HTTPServerAcceptor.h</a>.</p>

<p>Referenced by <a class="el" href="HTTPServerAcceptor_8cpp_source.html#l00098">newHandler()</a>.</p>

</div>
</div>
<a class="anchor" id="a778456339def5144ad264495b9964f4e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classproxygen_1_1HTTPServerOptions.html">HTTPServerOptions</a>&amp; proxygen::HTTPServerAcceptor::serverOptions_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HTTPServerAcceptor_8h_source.html#l00054">54</a> of file <a class="el" href="HTTPServerAcceptor_8h_source.html">HTTPServerAcceptor.h</a>.</p>

<p>Referenced by <a class="el" href="HTTPServerAcceptor_8cpp_source.html#l00117">onNewConnection()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>proxygen/httpserver/<a class="el" href="HTTPServerAcceptor_8h_source.html">HTTPServerAcceptor.h</a></li>
<li>proxygen/httpserver/<a class="el" href="HTTPServerAcceptor_8cpp_source.html">HTTPServerAcceptor.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceproxygen.html">proxygen</a></li><li class="navelem"><a class="el" href="classproxygen_1_1HTTPServerAcceptor.html">HTTPServerAcceptor</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: proxygen/lib/http/session/test/HTTPTransactionMocks.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('HTTPTransactionMocks_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">HTTPTransactionMocks.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="HTTPTransactionMocks_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *  Copyright (c) 2015-present, Facebook, Inc.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *  All rights reserved.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *  This source code is licensed under the BSD-style license found in the</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *  LICENSE file in the root directory of this source tree. An additional grant</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *  of patent rights can be found in the PATENTS file in the same directory.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;folly/portability/GMock.h&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="MockHTTPCodec_8h.html">proxygen/lib/http/codec/test/MockHTTPCodec.h</a>&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="HTTPTransaction_8h.html">proxygen/lib/http/session/HTTPTransaction.h</a>&gt;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceproxygen.html">proxygen</a> {</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#if defined(__clang__) &amp;&amp; __clang_major__ &gt;= 3 &amp;&amp; __clang_minor__ &gt;= 6</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#pragma clang diagnostic push</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#pragma clang diagnostic ignored &quot;-Winconsistent-missing-override&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="classproxygen_1_1MockHTTPTransactionTransport.html">   23</a></span>&#160;<span class="keyword">class </span><a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html">MockHTTPTransactionTransport</a>: <span class="keyword">public</span> <a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html">HTTPTransaction::Transport</a> {</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="classproxygen_1_1MockHTTPTransactionTransport.html#a6bf463af450b28abe8cb537b7b015a49">   25</a></span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a6bf463af450b28abe8cb537b7b015a49">MockHTTPTransactionTransport</a>() {</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    EXPECT_CALL(*<span class="keyword">this</span>, getCodecNonConst())</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;      .WillRepeatedly(testing::ReturnRef(<a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#ac67ad374e023460c44aa22d6a3b950bc">mockCodec_</a>));</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  }</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a84e2217c3828f7de46d7321d3755b2aa">GMOCK_METHOD1_</a>(, noexcept,, <a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a854efe446d5edff65c09243eed1bfbb5">pauseIngress</a>, <span class="keywordtype">void</span>(<a class="code" href="classproxygen_1_1HTTPTransaction.html">HTTPTransaction</a>*));</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a84e2217c3828f7de46d7321d3755b2aa">GMOCK_METHOD1_</a>(, noexcept,, <a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a2d5fbaa7d2eb616f56541d3189553cc6">resumeIngress</a>, <span class="keywordtype">void</span>(<a class="code" href="classproxygen_1_1HTTPTransaction.html">HTTPTransaction</a>*));</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a84e2217c3828f7de46d7321d3755b2aa">GMOCK_METHOD1_</a>(, noexcept,, <a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a4805d62c2895d90c91bd43b396a6fa68">transactionTimeout</a>, <span class="keywordtype">void</span>(<a class="code" href="classproxygen_1_1HTTPTransaction.html">HTTPTransaction</a>*));</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a46fb913bb83c405f72d5c71d7ff99ec3">GMOCK_METHOD4_</a>(, noexcept,, <a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a4471d40c95555b058e2721955e432fea">sendHeaders</a>, <span class="keywordtype">void</span>(<a class="code" href="classproxygen_1_1HTTPTransaction.html">HTTPTransaction</a>*,</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                                                 <span class="keyword">const</span> <a class="code" href="classproxygen_1_1HTTPMessage.html">HTTPMessage</a>&amp;,</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                                                 <a class="code" href="namespaceproxygen.html#a3229605c4d71bcf5379d0dd133870421">HTTPHeaderSize</a>*,</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                                                 <span class="keywordtype">bool</span>));</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a46fb913bb83c405f72d5c71d7ff99ec3">GMOCK_METHOD4_</a>(, noexcept,, <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a47adbafaf4246c76ab35dea2bd8f6158">sendBody</a>,</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                 <span class="keywordtype">size_t</span>(<a class="code" href="classproxygen_1_1HTTPTransaction.html">HTTPTransaction</a>*, std::shared_ptr&lt;folly::IOBuf&gt;,</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                   <span class="keywordtype">bool</span>, <span class="keywordtype">bool</span>));</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="classproxygen_1_1MockHTTPTransactionTransport.html#a47adbafaf4246c76ab35dea2bd8f6158">   40</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a47adbafaf4246c76ab35dea2bd8f6158">sendBody</a>(<a class="code" href="classproxygen_1_1HTTPTransaction.html">HTTPTransaction</a>* txn, std::unique_ptr&lt;folly::IOBuf&gt; iob,</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                  <span class="keywordtype">bool</span> eom, <span class="keywordtype">bool</span> trackLastByteFlushed) noexcept <span class="keyword">override</span> {</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a47adbafaf4246c76ab35dea2bd8f6158">sendBody</a>(txn,</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;      std::shared_ptr&lt;folly::IOBuf&gt;(iob.release()), eom, trackLastByteFlushed);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  }</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#ac3c96aeb1997c81127af121223da591b">GMOCK_METHOD2_</a>(, noexcept,, <a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#af21bcdf1b2e19d5817252a8af9bcc1d6">sendChunkHeader</a>, <span class="keywordtype">size_t</span>(<a class="code" href="classproxygen_1_1HTTPTransaction.html">HTTPTransaction</a>*,</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                                                       <span class="keywordtype">size_t</span>));</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a84e2217c3828f7de46d7321d3755b2aa">GMOCK_METHOD1_</a>(, noexcept,, <a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#af62ff7bd7b8f57ee839d95fcbdecd498">sendChunkTerminator</a>, <span class="keywordtype">size_t</span>(<a class="code" href="classproxygen_1_1HTTPTransaction.html">HTTPTransaction</a>*));</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#ac3c96aeb1997c81127af121223da591b">GMOCK_METHOD2_</a>(</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      , noexcept, , <a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#ad3e8c25f82c1ab3d38602ce696fcfe70">sendEOM</a>, <span class="keywordtype">size_t</span>(<a class="code" href="classproxygen_1_1HTTPTransaction.html">HTTPTransaction</a>*, <span class="keyword">const</span> <a class="code" href="classproxygen_1_1HTTPHeaders.html">HTTPHeaders</a>*));</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#ac3c96aeb1997c81127af121223da591b">GMOCK_METHOD2_</a>(, noexcept,, <a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a196ee69eed048b43bdc900bb97c080fa">sendAbort</a>, <span class="keywordtype">size_t</span>(<a class="code" href="classproxygen_1_1HTTPTransaction.html">HTTPTransaction</a>*,</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                                                 <a class="code" href="namespaceproxygen.html#a3d6f6c837ecc1ee254de4e790826ae9b">ErrorCode</a>));</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#ac3c96aeb1997c81127af121223da591b">GMOCK_METHOD2_</a>(, noexcept,, <a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#aaf57400170e2afde845b45288c4f5609">sendPriority</a>,</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                 <span class="keywordtype">size_t</span>(<a class="code" href="classproxygen_1_1HTTPTransaction.html">HTTPTransaction</a>*, <span class="keyword">const</span> <a class="code" href="structproxygen_1_1http2_1_1PriorityUpdate.html">http2::PriorityUpdate</a>&amp;));</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a3174e25db486b51a12c8894430e8e6d2">GMOCK_METHOD0_</a>(, noexcept,, <a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a6f89b92fa724cb3a2591ab01332c18b8">notifyPendingEgress</a>, <span class="keywordtype">void</span>());</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a84e2217c3828f7de46d7321d3755b2aa">GMOCK_METHOD1_</a>(, noexcept,, <a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#ad3a4d2e4b5ea45e424ce6eae07ba4c3f">detach</a>, <span class="keywordtype">void</span>(<a class="code" href="classproxygen_1_1HTTPTransaction.html">HTTPTransaction</a>*));</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#ac3c96aeb1997c81127af121223da591b">GMOCK_METHOD2_</a>(, noexcept,, <a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#aa7b9f0ba2b4f6743a746cb796be14760">sendWindowUpdate</a>, <span class="keywordtype">size_t</span>(<a class="code" href="classproxygen_1_1HTTPTransaction.html">HTTPTransaction</a>*,</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                                                        uint32_t));</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a84e2217c3828f7de46d7321d3755b2aa">GMOCK_METHOD1_</a>(, noexcept,, <a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a81b96f75e461f7e176e3178040486b56">notifyIngressBodyProcessed</a>, <span class="keywordtype">void</span>(uint32_t));</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a84e2217c3828f7de46d7321d3755b2aa">GMOCK_METHOD1_</a>(, noexcept,, <a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a9ac88e461ed34742fde46678d52392fc">notifyEgressBodyBuffered</a>, <span class="keywordtype">void</span>(int64_t));</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a3174e25db486b51a12c8894430e8e6d2">GMOCK_METHOD0_</a>(, noexcept,, getLocalAddressNonConst,</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                 <span class="keyword">const</span> folly::SocketAddress&amp;());</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#ac3c96aeb1997c81127af121223da591b">GMOCK_METHOD2_</a>(, noexcept,, <a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#aab6408cb6f66484b35618207fc5cc47d">newPushedTransaction</a>,</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                 <a class="code" href="classproxygen_1_1HTTPTransaction.html">HTTPTransaction</a>*(<a class="code" href="classproxygen_1_1HTTPCodec.html#addee32fd97cd4864b2a4b2f8a99c11c1">HTTPCodec::StreamID</a> assocStreamId,</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                                  <a class="code" href="classproxygen_1_1HTTPPushTransactionHandler.html">HTTPTransaction::PushHandler</a>* handler));</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a84b133c1d1c867f12363d76e3af8ba31">GMOCK_METHOD3_</a>(, noexcept,, <a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a20b32d68bfd4c591fde51b997bf8a250">newExTransaction</a>,</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                 <a class="code" href="classproxygen_1_1HTTPTransaction.html">HTTPTransaction</a>*(<a class="code" href="classproxygen_1_1HTTPTransactionHandler.html">HTTPTransaction::Handler</a>* handler,</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                                  <a class="code" href="classproxygen_1_1HTTPCodec.html#addee32fd97cd4864b2a4b2f8a99c11c1">HTTPCodec::StreamID</a> controlStream,</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                                  <span class="keywordtype">bool</span> unidirectional));</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="classproxygen_1_1MockHTTPTransactionTransport.html#a27bba88736b54f1760e32a392e0859a8">   71</a></span>&#160;  <span class="keyword">const</span> folly::SocketAddress&amp; <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a27bba88736b54f1760e32a392e0859a8">getLocalAddress</a>()</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    const noexcept<span class="keyword"> override </span>{</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">const_cast&lt;</span><a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html">MockHTTPTransactionTransport</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      -&gt;getLocalAddressNonConst();</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  }</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a3174e25db486b51a12c8894430e8e6d2">GMOCK_METHOD0_</a>(, noexcept,, getPeerAddressNonConst,</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                 <span class="keyword">const</span> folly::SocketAddress&amp;());</div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="classproxygen_1_1MockHTTPTransactionTransport.html#a80fc9760b888c13c019856748e45db8b">   78</a></span>&#160;  <span class="keyword">const</span> folly::SocketAddress&amp; <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a80fc9760b888c13c019856748e45db8b">getPeerAddress</a>()</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    const noexcept<span class="keyword"> override </span>{</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">const_cast&lt;</span><a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html">MockHTTPTransactionTransport</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      -&gt;getPeerAddressNonConst();</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  }</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#ae82c5ba9e573aa03ba4a69847f1b1b18">MOCK_CONST_METHOD1</a>(<a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#ab1907c602f4948511e3c2f4268446364">describe</a>, <span class="keywordtype">void</span>(std::ostream&amp;));</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a3174e25db486b51a12c8894430e8e6d2">GMOCK_METHOD0_</a>(, noexcept,, getSetupTransportInfoNonConst,</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                 <span class="keyword">const</span> wangle::TransportInfo&amp;());</div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="classproxygen_1_1MockHTTPTransactionTransport.html#aece2a8a26859a8b8e4918f8b46aa9e68">   86</a></span>&#160;  <span class="keyword">const</span> wangle::TransportInfo&amp; <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#aece2a8a26859a8b8e4918f8b46aa9e68">getSetupTransportInfo</a>() const noexcept<span class="keyword"> override </span>{</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">const_cast&lt;</span><a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html">MockHTTPTransactionTransport</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      -&gt;getSetupTransportInfoNonConst();</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a0b3c4581343345918deec1139ed2bc02">MOCK_METHOD1</a>(<a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a8926428ebb86b5fcce34bd08651d5966">getCurrentTransportInfo</a>, <span class="keywordtype">bool</span>(wangle::TransportInfo*));</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a3174e25db486b51a12c8894430e8e6d2">GMOCK_METHOD0_</a>(, noexcept,, getCodecNonConst, <span class="keyword">const</span> <a class="code" href="classproxygen_1_1HTTPCodec.html">HTTPCodec</a>&amp;());</div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="classproxygen_1_1MockHTTPTransactionTransport.html#a86a0b222bc591234bc64cc5f86d2464b">   93</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classproxygen_1_1HTTPCodec.html">HTTPCodec</a>&amp; <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a86a0b222bc591234bc64cc5f86d2464b">getCodec</a>() const noexcept<span class="keyword"> override </span>{</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">const_cast&lt;</span><a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html">MockHTTPTransactionTransport</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      -&gt;getCodecNonConst();</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  }</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a09481451ef7dc928bb499585408a3c4c">MOCK_METHOD0</a>(<a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#ad14fec2f82c1b6d50c0ad2e4eae60b3b">drain</a>, <span class="keywordtype">void</span>());</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#ad7b05c1ccaff929a105ce7a3a9dcaf42">MOCK_CONST_METHOD0</a>(<a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a8c6aa03b14a2f69b5672f8b8b9e61b04">isDraining</a>, <span class="keywordtype">bool</span>());</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#ad7b05c1ccaff929a105ce7a3a9dcaf42">MOCK_CONST_METHOD0</a>(<a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a1cf1fd957cfdaba77f24fad464ad9ff1">getSecurityProtocol</a>, std::string());</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#ad7b05c1ccaff929a105ce7a3a9dcaf42">MOCK_CONST_METHOD0</a>(getTransport, <span class="keyword">const</span> folly::AsyncTransportWrapper*());</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a09481451ef7dc928bb499585408a3c4c">MOCK_METHOD0</a>(getTransport, folly::AsyncTransportWrapper*());</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a84e2217c3828f7de46d7321d3755b2aa">GMOCK_METHOD1_</a>(, noexcept,, <a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#ad59fc55072f8c6dfc312abf9f39328ce">addWaitingForReplaySafety</a>,</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <span class="keywordtype">void</span>(folly::AsyncTransport::ReplaySafetyCallback*));</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a84e2217c3828f7de46d7321d3755b2aa">GMOCK_METHOD1_</a>(, noexcept,, <a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a7e0526ba72d521fb439af0437a3800cd">removeWaitingForReplaySafety</a>,</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <span class="keywordtype">void</span>(folly::AsyncTransport::ReplaySafetyCallback*));</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#ad7b05c1ccaff929a105ce7a3a9dcaf42">MOCK_CONST_METHOD0</a>(<a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#ab1aee32c238a162b654a72d7418184e4">needToBlockForReplaySafety</a>, <span class="keywordtype">bool</span>());</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a3174e25db486b51a12c8894430e8e6d2">GMOCK_METHOD0_</a>(, noexcept,, getUnderlyingTransportNonConst,</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <span class="keyword">const</span> folly::AsyncTransportWrapper*());</div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="classproxygen_1_1MockHTTPTransactionTransport.html#a57095482ee9ea5330593512bfe156ad7">  112</a></span>&#160;  <span class="keyword">const</span> folly::AsyncTransportWrapper* <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a57095482ee9ea5330593512bfe156ad7">getUnderlyingTransport</a>()</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      const noexcept<span class="keyword"> override </span>{</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">const_cast&lt;</span><a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html">MockHTTPTransactionTransport</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      -&gt;<a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a57095482ee9ea5330593512bfe156ad7">getUnderlyingTransport</a>();</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#ad7b05c1ccaff929a105ce7a3a9dcaf42">MOCK_CONST_METHOD0</a>(<a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a9ecfac5921c51ac23a16a0e5b3d33ad5">isReplaySafe</a>, <span class="keywordtype">bool</span>());</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a0b3c4581343345918deec1139ed2bc02">MOCK_METHOD1</a>(<a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#ad10b65e55937ef9a905786e48133edf0">setHTTP2PrioritiesEnabled</a>, <span class="keywordtype">void</span>(<span class="keywordtype">bool</span>));</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#ad7b05c1ccaff929a105ce7a3a9dcaf42">MOCK_CONST_METHOD0</a>(<a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#abf4b0f6db07f80a1c53672c07f0280dc">getHTTP2PrioritiesEnabled</a>, <span class="keywordtype">bool</span>());</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a0b3c4581343345918deec1139ed2bc02">MOCK_METHOD1</a>(<a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a69bc5d147822b5f7eb3b43fc78fa2c8a">getHTTPPriority</a>,</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      folly::Optional&lt;const HTTPMessage::HTTPPriority&gt;(uint8_t level));</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="classproxygen_1_1MockHTTPTransactionTransport.html#ac67ad374e023460c44aa22d6a3b950bc">  124</a></span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPCodec.html">MockHTTPCodec</a> <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#ac67ad374e023460c44aa22d6a3b950bc">mockCodec_</a>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;};</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="classproxygen_1_1MockHTTPTransaction.html">  127</a></span>&#160;<span class="keyword">class </span><a class="code" href="classproxygen_1_1MockHTTPTransaction.html">MockHTTPTransaction</a> : <span class="keyword">public</span> <a class="code" href="classproxygen_1_1HTTPTransaction.html">HTTPTransaction</a> {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="classproxygen_1_1MockHTTPTransaction.html#a4a0f0d2015eb0976e7e090b5d2545309">  129</a></span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransaction.html#a4a0f0d2015eb0976e7e090b5d2545309">MockHTTPTransaction</a>(<a class="code" href="namespaceproxygen.html#a00b4cbb0c54e966bfd87e0e7cb1cb33d">TransportDirection</a> direction,</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                      <a class="code" href="classproxygen_1_1HTTPCodec.html#addee32fd97cd4864b2a4b2f8a99c11c1">HTTPCodec::StreamID</a> <span class="keywordtype">id</span>,</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                      uint32_t seqNo,</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                      <span class="comment">// Must be const for gmock</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                      <span class="keyword">const</span> <a class="code" href="classproxygen_1_1HTTP2PriorityQueue.html">HTTP2PriorityQueue</a>&amp; egressQueue,</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                      folly::HHWheelTimer* timer = <span class="keyword">nullptr</span>,</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                      <span class="keyword">const</span> folly::Optional&lt;std::chrono::milliseconds&gt;&amp;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                      <a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a4805d62c2895d90c91bd43b396a6fa68">transactionTimeout</a> =</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                      folly::Optional&lt;std::chrono::milliseconds&gt;(),</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                      <a class="code" href="classproxygen_1_1HTTPSessionStats.html">HTTPSessionStats</a>* stats = <span class="keyword">nullptr</span>,</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                      <span class="keywordtype">bool</span> useFlowControl = <span class="keyword">false</span>,</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                      uint32_t receiveInitialWindowSize = 0,</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                      uint32_t sendInitialWindowSize = 0,</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                      <a class="code" href="structproxygen_1_1http2_1_1PriorityUpdate.html">http2::PriorityUpdate</a> priority = <a class="code" href="namespaceproxygen_1_1http2.html#a9d6bc6481640269a7770347be1f72fd5">http2::DefaultPriority</a>,</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                      folly::Optional&lt;HTTPCodec::StreamID&gt; assocStreamId =</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                      <a class="code" href="classproxygen_1_1HTTPCodec.html#ab551ec1bec2f37c3e83b8da35634b48c">HTTPCodec::NoStream</a>,</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                      folly::Optional&lt;HTTPCodec::ExAttributes&gt; exAttributes =</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                      <a class="code" href="classproxygen_1_1HTTPCodec.html#aeef645636d1d9736d1006c58313500ad">HTTPCodec::NoExAttributes</a>) :</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      <a class="code" href="classproxygen_1_1HTTPTransaction.html">HTTPTransaction</a>(direction, id, seqNo, mockTransport_,</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                      const_cast&lt;<a class="code" href="classproxygen_1_1HTTP2PriorityQueue.html">HTTP2PriorityQueue</a>&amp;&gt;(egressQueue),</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                      timer, <a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a4805d62c2895d90c91bd43b396a6fa68">transactionTimeout</a>, stats, useFlowControl,</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                      receiveInitialWindowSize,</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                      sendInitialWindowSize,</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                      priority, assocStreamId, exAttributes),</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      defaultAddress_(<span class="stringliteral">&quot;127.0.0.1&quot;</span>, 80) {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    EXPECT_CALL(mockTransport_, getLocalAddressNonConst())</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      .WillRepeatedly(testing::ReturnRef(defaultAddress_));</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    EXPECT_CALL(mockTransport_, getPeerAddressNonConst())</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      .WillRepeatedly(testing::ReturnRef(defaultAddress_));</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    EXPECT_CALL(mockTransport_, getCodecNonConst())</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      .WillRepeatedly(testing::ReturnRef(<a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#ac67ad374e023460c44aa22d6a3b950bc">mockCodec_</a>));</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    EXPECT_CALL(mockTransport_, getSetupTransportInfoNonConst())</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      .WillRepeatedly(testing::ReturnRef(setupTransportInfo_));</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="comment">// Some tests unfortunately require a half-mocked HTTPTransaction.</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    ON_CALL(*<span class="keyword">this</span>, setHandler(testing::_))</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      .WillByDefault(testing::Invoke([<span class="keyword">this</span>] (<a class="code" href="classproxygen_1_1HTTPTransactionHandler.html">HTTPTransactionHandler</a>* handler) {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            this-&gt;setHandlerUnmocked(handler);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        }));</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="comment">// By default we expect canSendHeaders in test to return true</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="comment">// Tests that specifically require canSendHeaders to return false need</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="comment">// to set the behavior locally.  This is due to the fact that the mocked</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">// methods below imply internal state is not correctly tracked/managed</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="comment">// in the context of tests</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    ON_CALL(*<span class="keyword">this</span>, canSendHeaders()).WillByDefault(testing::Return(<span class="keyword">true</span>));</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="classproxygen_1_1MockHTTPTransaction.html#a1dbd8a45432edf43f322be851cc6d3aa">  177</a></span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransaction.html#a1dbd8a45432edf43f322be851cc6d3aa">MockHTTPTransaction</a>(<a class="code" href="namespaceproxygen.html#a00b4cbb0c54e966bfd87e0e7cb1cb33d">TransportDirection</a> direction,</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                      <a class="code" href="classproxygen_1_1HTTPCodec.html#addee32fd97cd4864b2a4b2f8a99c11c1">HTTPCodec::StreamID</a> <span class="keywordtype">id</span>,</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                      uint32_t seqNo,</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                      <span class="comment">// Must be const for gmock</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                      <span class="keyword">const</span> <a class="code" href="classproxygen_1_1HTTP2PriorityQueue.html">HTTP2PriorityQueue</a>&amp; egressQueue,</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                      <span class="keyword">const</span> <a class="code" href="classproxygen_1_1WheelTimerInstance.html">WheelTimerInstance</a>&amp; timeout,</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                      <a class="code" href="classproxygen_1_1HTTPSessionStats.html">HTTPSessionStats</a>* stats = <span class="keyword">nullptr</span>,</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                      <span class="keywordtype">bool</span> useFlowControl = <span class="keyword">false</span>,</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                      uint32_t receiveInitialWindowSize = 0,</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                      uint32_t sendInitialWindowSize = 0,</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                      <a class="code" href="structproxygen_1_1http2_1_1PriorityUpdate.html">http2::PriorityUpdate</a> priority = <a class="code" href="namespaceproxygen_1_1http2.html#a9d6bc6481640269a7770347be1f72fd5">http2::DefaultPriority</a>,</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                      folly::Optional&lt;HTTPCodec::StreamID&gt; assocStreamId =</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                      <a class="code" href="classproxygen_1_1HTTPCodec.html#ab551ec1bec2f37c3e83b8da35634b48c">HTTPCodec::NoStream</a>,</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                      folly::Optional&lt;HTTPCodec::ExAttributes&gt; exAttributes =</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                      <a class="code" href="classproxygen_1_1HTTPCodec.html#aeef645636d1d9736d1006c58313500ad">HTTPCodec::NoExAttributes</a>) :</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransaction.html">MockHTTPTransaction</a>(direction,</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                      id,</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                      seqNo,</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                      egressQueue,</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                      timeout.getWheelTimer(),</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                      timeout.getDefaultTimeout(),</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                      stats,</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                      useFlowControl,</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                      receiveInitialWindowSize,</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                      sendInitialWindowSize,</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                      priority,</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                      assocStreamId,</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                      exAttributes) {}</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="classproxygen_1_1MockHTTPTransaction.html#aae4f2b838f01381e6a40510e44a08fad">  206</a></span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransaction.html#aae4f2b838f01381e6a40510e44a08fad">MockHTTPTransaction</a>(<a class="code" href="namespaceproxygen.html#a00b4cbb0c54e966bfd87e0e7cb1cb33d">TransportDirection</a> direction,</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                      <a class="code" href="classproxygen_1_1HTTPCodec.html#addee32fd97cd4864b2a4b2f8a99c11c1">HTTPCodec::StreamID</a> <span class="keywordtype">id</span>,</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                      uint32_t seqNo,</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                      <span class="comment">// Must be const for gmock</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                      <span class="keyword">const</span> <a class="code" href="classproxygen_1_1HTTP2PriorityQueue.html">HTTP2PriorityQueue</a>&amp; egressQueue,</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                      <span class="keyword">const</span> <a class="code" href="classproxygen_1_1WheelTimerInstance.html">WheelTimerInstance</a>&amp; timeout,</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                      folly::Optional&lt;HTTPCodec::ExAttributes&gt; exAttributes) :</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransaction.html">MockHTTPTransaction</a>(direction,</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                      id,</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                      seqNo,</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                      egressQueue,</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                      timeout.getWheelTimer(),</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                      timeout.getDefaultTimeout(),</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                      <a class="code" href="http__parser_8c.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>,</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                      false,</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                      0,</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                      0,</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                      http2::<a class="code" href="namespaceproxygen_1_1http2.html#a9d6bc6481640269a7770347be1f72fd5">DefaultPriority</a>,</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                      <a class="code" href="classproxygen_1_1HTTPCodec.html">HTTPCodec</a>::NoStream,</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                      exAttributes) {}</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#ad7b05c1ccaff929a105ce7a3a9dcaf42">MOCK_CONST_METHOD0</a>(extraResponseExpected, <span class="keywordtype">bool</span>());</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a0b3c4581343345918deec1139ed2bc02">MOCK_METHOD1</a>(setHandler, <span class="keywordtype">void</span>(<a class="code" href="classproxygen_1_1HTTPTransactionHandler.html">HTTPTransactionHandler</a>*));</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="classproxygen_1_1MockHTTPTransaction.html#adf6a3d3a2194d4881f9313edc5bc59ea">  231</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classproxygen_1_1MockHTTPTransaction.html#adf6a3d3a2194d4881f9313edc5bc59ea">setHandlerUnmocked</a>(<a class="code" href="classproxygen_1_1HTTPTransactionHandler.html">HTTPTransactionHandler</a>* handler) {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="classproxygen_1_1HTTPTransaction.html#aed1062c04055fbc76ae236df643b9dc6">HTTPTransaction::setHandler</a>(handler);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#ad7b05c1ccaff929a105ce7a3a9dcaf42">MOCK_CONST_METHOD0</a>(canSendHeaders, <span class="keywordtype">bool</span>());</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a0b3c4581343345918deec1139ed2bc02">MOCK_METHOD1</a>(<a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a4471d40c95555b058e2721955e432fea">sendHeaders</a>, <span class="keywordtype">void</span>(<span class="keyword">const</span> <a class="code" href="classproxygen_1_1HTTPMessage.html">HTTPMessage</a>&amp; headers));</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a0b3c4581343345918deec1139ed2bc02">MOCK_METHOD1</a>(sendHeadersWithEOM, <span class="keywordtype">void</span>(<span class="keyword">const</span> <a class="code" href="classproxygen_1_1HTTPMessage.html">HTTPMessage</a>&amp; headers));</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a0b3c4581343345918deec1139ed2bc02">MOCK_METHOD1</a>(<a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a47adbafaf4246c76ab35dea2bd8f6158">sendBody</a>, <span class="keywordtype">void</span>(std::shared_ptr&lt;folly::IOBuf&gt;));</div><div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="classproxygen_1_1MockHTTPTransaction.html#ab366b5d7bbee5e4970697314724688e5">  239</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classproxygen_1_1MockHTTPTransaction.html#ab366b5d7bbee5e4970697314724688e5">sendBody</a>(std::unique_ptr&lt;folly::IOBuf&gt; iob) noexcept <span class="keyword">override</span> {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a47adbafaf4246c76ab35dea2bd8f6158">sendBody</a>(std::shared_ptr&lt;folly::IOBuf&gt;(iob.release()));</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a0b3c4581343345918deec1139ed2bc02">MOCK_METHOD1</a>(<a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#af21bcdf1b2e19d5817252a8af9bcc1d6">sendChunkHeader</a>, <span class="keywordtype">void</span>(<span class="keywordtype">size_t</span>));</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a09481451ef7dc928bb499585408a3c4c">MOCK_METHOD0</a>(<a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#af62ff7bd7b8f57ee839d95fcbdecd498">sendChunkTerminator</a>, <span class="keywordtype">void</span>());</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a0b3c4581343345918deec1139ed2bc02">MOCK_METHOD1</a>(sendTrailers, <span class="keywordtype">void</span>(<span class="keyword">const</span> <a class="code" href="classproxygen_1_1HTTPHeaders.html">HTTPHeaders</a>&amp; trailers));</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a09481451ef7dc928bb499585408a3c4c">MOCK_METHOD0</a>(<a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#ad3e8c25f82c1ab3d38602ce696fcfe70">sendEOM</a>, <span class="keywordtype">void</span>());</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a09481451ef7dc928bb499585408a3c4c">MOCK_METHOD0</a>(<a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a196ee69eed048b43bdc900bb97c080fa">sendAbort</a>, <span class="keywordtype">void</span>());</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a09481451ef7dc928bb499585408a3c4c">MOCK_METHOD0</a>(drop, <span class="keywordtype">void</span>());</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a09481451ef7dc928bb499585408a3c4c">MOCK_METHOD0</a>(<a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a854efe446d5edff65c09243eed1bfbb5">pauseIngress</a>, <span class="keywordtype">void</span>());</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a09481451ef7dc928bb499585408a3c4c">MOCK_METHOD0</a>(<a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a2d5fbaa7d2eb616f56541d3189553cc6">resumeIngress</a>, <span class="keywordtype">void</span>());</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#ad7b05c1ccaff929a105ce7a3a9dcaf42">MOCK_CONST_METHOD0</a>(handlerEgressPaused, <span class="keywordtype">bool</span>());</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a0b3c4581343345918deec1139ed2bc02">MOCK_METHOD1</a>(<a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#aab6408cb6f66484b35618207fc5cc47d">newPushedTransaction</a>,</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;               <a class="code" href="classproxygen_1_1HTTPTransaction.html">HTTPTransaction</a>*(<a class="code" href="classproxygen_1_1HTTPPushTransactionHandler.html">HTTPPushTransactionHandler</a>*));</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a0b3c4581343345918deec1139ed2bc02">MOCK_METHOD1</a>(setReceiveWindow, <span class="keywordtype">void</span>(uint32_t));</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#ad7b05c1ccaff929a105ce7a3a9dcaf42">MOCK_CONST_METHOD0</a>(getReceiveWindow, <span class="keyword">const</span> <a class="code" href="classproxygen_1_1Window.html">Window</a>&amp;());</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a0b3c4581343345918deec1139ed2bc02">MOCK_METHOD1</a>(<a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#ad59fc55072f8c6dfc312abf9f39328ce">addWaitingForReplaySafety</a>,</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <span class="keywordtype">void</span>(folly::AsyncTransport::ReplaySafetyCallback*));</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a0b3c4581343345918deec1139ed2bc02">MOCK_METHOD1</a>(<a class="code" href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a7e0526ba72d521fb439af0437a3800cd">removeWaitingForReplaySafety</a>,</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <span class="keywordtype">void</span>(folly::AsyncTransport::ReplaySafetyCallback*));</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="classproxygen_1_1MockHTTPTransaction.html#a298bd14b809a6d12e135ae42e7583bee">  261</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classproxygen_1_1MockHTTPTransaction.html#a298bd14b809a6d12e135ae42e7583bee">enablePush</a>() {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    EXPECT_CALL(<a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#ac67ad374e023460c44aa22d6a3b950bc">mockCodec_</a>, supportsPushTransactions())</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      .WillRepeatedly(testing::Return(<span class="keyword">true</span>));</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="classproxygen_1_1MockHTTPTransaction.html#a88c03f3c707fcbad4f0274019abdf237">  266</a></span>&#160;  testing::NiceMock&lt;MockHTTPTransactionTransport&gt; <a class="code" href="classproxygen_1_1MockHTTPTransaction.html#a88c03f3c707fcbad4f0274019abdf237">mockTransport_</a>;</div><div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="classproxygen_1_1MockHTTPTransaction.html#ab8081a78d112f3fed669bbee62bfae37">  267</a></span>&#160;  <span class="keyword">const</span> folly::SocketAddress <a class="code" href="classproxygen_1_1MockHTTPTransaction.html#ab8081a78d112f3fed669bbee62bfae37">defaultAddress_</a>;</div><div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="classproxygen_1_1MockHTTPTransaction.html#aadd70d1fbb0876da21f2949d5df74bda">  268</a></span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPCodec.html">MockHTTPCodec</a> <a class="code" href="classproxygen_1_1MockHTTPTransaction.html#aadd70d1fbb0876da21f2949d5df74bda">mockCodec_</a>;</div><div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="classproxygen_1_1MockHTTPTransaction.html#a21608737c7c19c69b7c43df6af9a9722">  269</a></span>&#160;  wangle::TransportInfo <a class="code" href="classproxygen_1_1MockHTTPTransaction.html#a21608737c7c19c69b7c43df6af9a9722">setupTransportInfo_</a>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;};</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="classproxygen_1_1MockHTTPTransactionTransportCallback.html">  272</a></span>&#160;<span class="keyword">class </span><a class="code" href="classproxygen_1_1MockHTTPTransactionTransportCallback.html">MockHTTPTransactionTransportCallback</a>:</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <span class="keyword">public</span> <a class="code" href="classproxygen_1_1HTTPTransactionTransportCallback.html">HTTPTransaction::TransportCallback</a> {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="classproxygen_1_1MockHTTPTransactionTransportCallback.html#a3a36d0d0c97b93a54011e98119a46841">  275</a></span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransportCallback.html#a3a36d0d0c97b93a54011e98119a46841">MockHTTPTransactionTransportCallback</a>() {}</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a3174e25db486b51a12c8894430e8e6d2">GMOCK_METHOD0_</a>(, noexcept,, firstHeaderByteFlushed, <span class="keywordtype">void</span>());</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a3174e25db486b51a12c8894430e8e6d2">GMOCK_METHOD0_</a>(, noexcept,, firstByteFlushed, <span class="keywordtype">void</span>());</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a3174e25db486b51a12c8894430e8e6d2">GMOCK_METHOD0_</a>(, noexcept,, trackedByteFlushed, <span class="keywordtype">void</span>());</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a3174e25db486b51a12c8894430e8e6d2">GMOCK_METHOD0_</a>(, noexcept,, lastByteFlushed, <span class="keywordtype">void</span>());</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a84e2217c3828f7de46d7321d3755b2aa">GMOCK_METHOD1_</a>(, noexcept,, lastByteAcked, <span class="keywordtype">void</span>(std::chrono::milliseconds));</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a84e2217c3828f7de46d7321d3755b2aa">GMOCK_METHOD1_</a>(, noexcept,, headerBytesGenerated, <span class="keywordtype">void</span>(<a class="code" href="namespaceproxygen.html#a3229605c4d71bcf5379d0dd133870421">HTTPHeaderSize</a>&amp;));</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a84e2217c3828f7de46d7321d3755b2aa">GMOCK_METHOD1_</a>(, noexcept,, headerBytesReceived, <span class="keywordtype">void</span>(<span class="keyword">const</span> <a class="code" href="namespaceproxygen.html#a3229605c4d71bcf5379d0dd133870421">HTTPHeaderSize</a>&amp;));</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a84e2217c3828f7de46d7321d3755b2aa">GMOCK_METHOD1_</a>(, noexcept,, bodyBytesGenerated, <span class="keywordtype">void</span>(<span class="keywordtype">size_t</span>));</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <a class="code" href="classproxygen_1_1MockHTTPTransactionTransport.html#a84e2217c3828f7de46d7321d3755b2aa">GMOCK_METHOD1_</a>(, noexcept,, bodyBytesReceived, <span class="keywordtype">void</span>(<span class="keywordtype">size_t</span>));</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;};</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="preprocessor">#if defined(__clang__) &amp;&amp; __clang_major__ &gt;= 3 &amp;&amp; __clang_minor__ &gt;= 6</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="preprocessor">#pragma clang diagnostic pop</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;}</div><div class="ttc" id="classproxygen_1_1MockHTTPTransactionTransportCallback_html"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransactionTransportCallback.html">proxygen::MockHTTPTransactionTransportCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransactionMocks_8h_source.html#l00272">HTTPTransactionMocks.h:272</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_html_aed1062c04055fbc76ae236df643b9dc6"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction.html#aed1062c04055fbc76ae236df643b9dc6">proxygen::HTTPTransaction::setHandler</a></div><div class="ttdeci">virtual void setHandler(Handler *handler)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransaction_8h_source.html#l00477">HTTPTransaction.h:477</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_a2d5fbaa7d2eb616f56541d3189553cc6"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a2d5fbaa7d2eb616f56541d3189553cc6">proxygen::HTTPTransaction::Transport::resumeIngress</a></div><div class="ttdeci">virtual void resumeIngress(HTTPTransaction *txn) noexcept=0</div></div>
<div class="ttc" id="classproxygen_1_1HTTPPushTransactionHandler_html"><div class="ttname"><a href="classproxygen_1_1HTTPPushTransactionHandler.html">proxygen::HTTPPushTransactionHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransaction_8h_source.html#l00261">HTTPTransaction.h:261</a></div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransactionTransport_html"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransactionTransport.html">proxygen::MockHTTPTransactionTransport</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransactionMocks_8h_source.html#l00023">HTTPTransactionMocks.h:23</a></div></div>
<div class="ttc" id="HTTPTransaction_8h_html"><div class="ttname"><a href="HTTPTransaction_8h.html">HTTPTransaction.h</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTP2PriorityQueue_html"><div class="ttname"><a href="classproxygen_1_1HTTP2PriorityQueue.html">proxygen::HTTP2PriorityQueue</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTP2PriorityQueue_8h_source.html#l00069">HTTP2PriorityQueue.h:69</a></div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransactionTransport_html_ac3c96aeb1997c81127af121223da591b"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransactionTransport.html#ac3c96aeb1997c81127af121223da591b">proxygen::MockHTTPTransactionTransport::GMOCK_METHOD2_</a></div><div class="ttdeci">GMOCK_METHOD2_(, noexcept,, sendChunkHeader, size_t(HTTPTransaction *, size_t))</div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_abf4b0f6db07f80a1c53672c07f0280dc"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#abf4b0f6db07f80a1c53672c07f0280dc">proxygen::HTTPTransaction::Transport::getHTTP2PrioritiesEnabled</a></div><div class="ttdeci">virtual bool getHTTP2PrioritiesEnabled() const =0</div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransactionTransport_html_a6bf463af450b28abe8cb537b7b015a49"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransactionTransport.html#a6bf463af450b28abe8cb537b7b015a49">proxygen::MockHTTPTransactionTransport::MockHTTPTransactionTransport</a></div><div class="ttdeci">MockHTTPTransactionTransport()</div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransactionMocks_8h_source.html#l00025">HTTPTransactionMocks.h:25</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPSessionStats_html"><div class="ttname"><a href="classproxygen_1_1HTTPSessionStats.html">proxygen::HTTPSessionStats</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPSessionStats_8h_source.html#l00019">HTTPSessionStats.h:19</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_a4471d40c95555b058e2721955e432fea"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a4471d40c95555b058e2721955e432fea">proxygen::HTTPTransaction::Transport::sendHeaders</a></div><div class="ttdeci">virtual void sendHeaders(HTTPTransaction *txn, const HTTPMessage &amp;headers, HTTPHeaderSize *size, bool eom) noexcept=0</div></div>
<div class="ttc" id="namespaceproxygen_html_a3229605c4d71bcf5379d0dd133870421"><div class="ttname"><a href="namespaceproxygen.html#a3229605c4d71bcf5379d0dd133870421">proxygen::HTTPHeaderSize</a></div><div class="ttdeci">wangle::HTTPHeaderSize HTTPHeaderSize</div><div class="ttdef"><b>Definition:</b> <a href="HTTPHeaderSize_8h_source.html#l00018">HTTPHeaderSize.h:18</a></div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransactionTransport_html_a27bba88736b54f1760e32a392e0859a8"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransactionTransport.html#a27bba88736b54f1760e32a392e0859a8">proxygen::MockHTTPTransactionTransport::getLocalAddress</a></div><div class="ttdeci">const folly::SocketAddress &amp; getLocalAddress() const noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransactionMocks_8h_source.html#l00071">HTTPTransactionMocks.h:71</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_af62ff7bd7b8f57ee839d95fcbdecd498"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#af62ff7bd7b8f57ee839d95fcbdecd498">proxygen::HTTPTransaction::Transport::sendChunkTerminator</a></div><div class="ttdeci">virtual size_t sendChunkTerminator(HTTPTransaction *txn) noexcept=0</div></div>
<div class="ttc" id="MockHTTPCodec_8h_html"><div class="ttname"><a href="MockHTTPCodec_8h.html">MockHTTPCodec.h</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_a8c6aa03b14a2f69b5672f8b8b9e61b04"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a8c6aa03b14a2f69b5672f8b8b9e61b04">proxygen::HTTPTransaction::Transport::isDraining</a></div><div class="ttdeci">virtual bool isDraining() const =0</div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransactionTransport_html_aece2a8a26859a8b8e4918f8b46aa9e68"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransactionTransport.html#aece2a8a26859a8b8e4918f8b46aa9e68">proxygen::MockHTTPTransactionTransport::getSetupTransportInfo</a></div><div class="ttdeci">const wangle::TransportInfo &amp; getSetupTransportInfo() const noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransactionMocks_8h_source.html#l00086">HTTPTransactionMocks.h:86</a></div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransactionTransport_html_a86a0b222bc591234bc64cc5f86d2464b"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransactionTransport.html#a86a0b222bc591234bc64cc5f86d2464b">proxygen::MockHTTPTransactionTransport::getCodec</a></div><div class="ttdeci">const HTTPCodec &amp; getCodec() const noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransactionMocks_8h_source.html#l00093">HTTPTransactionMocks.h:93</a></div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransaction_html_a1dbd8a45432edf43f322be851cc6d3aa"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransaction.html#a1dbd8a45432edf43f322be851cc6d3aa">proxygen::MockHTTPTransaction::MockHTTPTransaction</a></div><div class="ttdeci">MockHTTPTransaction(TransportDirection direction, HTTPCodec::StreamID id, uint32_t seqNo, const HTTP2PriorityQueue &amp;egressQueue, const WheelTimerInstance &amp;timeout, HTTPSessionStats *stats=nullptr, bool useFlowControl=false, uint32_t receiveInitialWindowSize=0, uint32_t sendInitialWindowSize=0, http2::PriorityUpdate priority=http2::DefaultPriority, folly::Optional&lt; HTTPCodec::StreamID &gt; assocStreamId=HTTPCodec::NoStream, folly::Optional&lt; HTTPCodec::ExAttributes &gt; exAttributes=HTTPCodec::NoExAttributes)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransactionMocks_8h_source.html#l00177">HTTPTransactionMocks.h:177</a></div></div>
<div class="ttc" id="structproxygen_1_1http2_1_1PriorityUpdate_html"><div class="ttname"><a href="structproxygen_1_1http2_1_1PriorityUpdate.html">proxygen::http2::PriorityUpdate</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTP2Framer_8h_source.html#l00083">HTTP2Framer.h:83</a></div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransactionTransport_html_a80fc9760b888c13c019856748e45db8b"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransactionTransport.html#a80fc9760b888c13c019856748e45db8b">proxygen::MockHTTPTransactionTransport::getPeerAddress</a></div><div class="ttdeci">const folly::SocketAddress &amp; getPeerAddress() const noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransactionMocks_8h_source.html#l00078">HTTPTransactionMocks.h:78</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPHeaders_html"><div class="ttname"><a href="classproxygen_1_1HTTPHeaders.html">proxygen::HTTPHeaders</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPHeaders_8h_source.html#l00068">HTTPHeaders.h:68</a></div></div>
<div class="ttc" id="http__parser_8c_html_ab979d9d4b4923f7c54d6caa6e1a61936"><div class="ttname"><a href="http__parser_8c.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></div><div class="ttdeci">#define nullptr</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8c_source.html#l00041">http_parser.c:41</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_html"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction.html">proxygen::HTTPTransaction</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransaction_8h_source.html#l00324">HTTPTransaction.h:324</a></div></div>
<div class="ttc" id="classproxygen_1_1WheelTimerInstance_html"><div class="ttname"><a href="classproxygen_1_1WheelTimerInstance.html">proxygen::WheelTimerInstance</a></div><div class="ttdef"><b>Definition:</b> <a href="WheelTimerInstance_8h_source.html#l00029">WheelTimerInstance.h:29</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_a20b32d68bfd4c591fde51b997bf8a250"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a20b32d68bfd4c591fde51b997bf8a250">proxygen::HTTPTransaction::Transport::newExTransaction</a></div><div class="ttdeci">virtual HTTPTransaction * newExTransaction(HTTPTransaction::Handler *handler, HTTPCodec::StreamID controlStream, bool unidirectional) noexcept=0</div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_ad3a4d2e4b5ea45e424ce6eae07ba4c3f"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#ad3a4d2e4b5ea45e424ce6eae07ba4c3f">proxygen::HTTPTransaction::Transport::detach</a></div><div class="ttdeci">virtual void detach(HTTPTransaction *txn) noexcept=0</div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransactionTransport_html_a0b3c4581343345918deec1139ed2bc02"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransactionTransport.html#a0b3c4581343345918deec1139ed2bc02">proxygen::MockHTTPTransactionTransport::MOCK_METHOD1</a></div><div class="ttdeci">MOCK_METHOD1(getCurrentTransportInfo, bool(wangle::TransportInfo *))</div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_ad59fc55072f8c6dfc312abf9f39328ce"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#ad59fc55072f8c6dfc312abf9f39328ce">proxygen::HTTPTransaction::Transport::addWaitingForReplaySafety</a></div><div class="ttdeci">virtual void addWaitingForReplaySafety(folly::AsyncTransport::ReplaySafetyCallback *callback) noexcept=0</div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransactionTransport_html_ad7b05c1ccaff929a105ce7a3a9dcaf42"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransactionTransport.html#ad7b05c1ccaff929a105ce7a3a9dcaf42">proxygen::MockHTTPTransactionTransport::MOCK_CONST_METHOD0</a></div><div class="ttdeci">MOCK_CONST_METHOD0(isDraining, bool())</div></div>
<div class="ttc" id="classproxygen_1_1Window_html"><div class="ttname"><a href="classproxygen_1_1Window.html">proxygen::Window</a></div><div class="ttdef"><b>Definition:</b> <a href="Window_8h_source.html#l00020">Window.h:20</a></div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransaction_html_aae4f2b838f01381e6a40510e44a08fad"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransaction.html#aae4f2b838f01381e6a40510e44a08fad">proxygen::MockHTTPTransaction::MockHTTPTransaction</a></div><div class="ttdeci">MockHTTPTransaction(TransportDirection direction, HTTPCodec::StreamID id, uint32_t seqNo, const HTTP2PriorityQueue &amp;egressQueue, const WheelTimerInstance &amp;timeout, folly::Optional&lt; HTTPCodec::ExAttributes &gt; exAttributes)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransactionMocks_8h_source.html#l00206">HTTPTransactionMocks.h:206</a></div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransactionTransport_html_a46fb913bb83c405f72d5c71d7ff99ec3"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransactionTransport.html#a46fb913bb83c405f72d5c71d7ff99ec3">proxygen::MockHTTPTransactionTransport::GMOCK_METHOD4_</a></div><div class="ttdeci">GMOCK_METHOD4_(, noexcept,, sendHeaders, void(HTTPTransaction *, const HTTPMessage &amp;, HTTPHeaderSize *, bool))</div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransaction_html_adf6a3d3a2194d4881f9313edc5bc59ea"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransaction.html#adf6a3d3a2194d4881f9313edc5bc59ea">proxygen::MockHTTPTransaction::setHandlerUnmocked</a></div><div class="ttdeci">void setHandlerUnmocked(HTTPTransactionHandler *handler)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransactionMocks_8h_source.html#l00231">HTTPTransactionMocks.h:231</a></div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransaction_html_a298bd14b809a6d12e135ae42e7583bee"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransaction.html#a298bd14b809a6d12e135ae42e7583bee">proxygen::MockHTTPTransaction::enablePush</a></div><div class="ttdeci">void enablePush()</div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransactionMocks_8h_source.html#l00261">HTTPTransactionMocks.h:261</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_a9ac88e461ed34742fde46678d52392fc"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a9ac88e461ed34742fde46678d52392fc">proxygen::HTTPTransaction::Transport::notifyEgressBodyBuffered</a></div><div class="ttdeci">virtual void notifyEgressBodyBuffered(int64_t bytes) noexcept=0</div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransaction_html_ab8081a78d112f3fed669bbee62bfae37"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransaction.html#ab8081a78d112f3fed669bbee62bfae37">proxygen::MockHTTPTransaction::defaultAddress_</a></div><div class="ttdeci">const folly::SocketAddress defaultAddress_</div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransactionMocks_8h_source.html#l00267">HTTPTransactionMocks.h:267</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_ab1aee32c238a162b654a72d7418184e4"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#ab1aee32c238a162b654a72d7418184e4">proxygen::HTTPTransaction::Transport::needToBlockForReplaySafety</a></div><div class="ttdeci">virtual bool needToBlockForReplaySafety() const =0</div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_a196ee69eed048b43bdc900bb97c080fa"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a196ee69eed048b43bdc900bb97c080fa">proxygen::HTTPTransaction::Transport::sendAbort</a></div><div class="ttdeci">virtual size_t sendAbort(HTTPTransaction *txn, ErrorCode statusCode) noexcept=0</div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_a1cf1fd957cfdaba77f24fad464ad9ff1"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a1cf1fd957cfdaba77f24fad464ad9ff1">proxygen::HTTPTransaction::Transport::getSecurityProtocol</a></div><div class="ttdeci">virtual std::string getSecurityProtocol() const =0</div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransactionTransportCallback_html"><div class="ttname"><a href="classproxygen_1_1HTTPTransactionTransportCallback.html">proxygen::HTTPTransactionTransportCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransaction_8h_source.html#l00301">HTTPTransaction.h:301</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_ad3e8c25f82c1ab3d38602ce696fcfe70"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#ad3e8c25f82c1ab3d38602ce696fcfe70">proxygen::HTTPTransaction::Transport::sendEOM</a></div><div class="ttdeci">virtual size_t sendEOM(HTTPTransaction *txn, const HTTPHeaders *trailers) noexcept=0</div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_aa7b9f0ba2b4f6743a746cb796be14760"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#aa7b9f0ba2b4f6743a746cb796be14760">proxygen::HTTPTransaction::Transport::sendWindowUpdate</a></div><div class="ttdeci">virtual size_t sendWindowUpdate(HTTPTransaction *txn, uint32_t bytes) noexcept=0</div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_ab1907c602f4948511e3c2f4268446364"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#ab1907c602f4948511e3c2f4268446364">proxygen::HTTPTransaction::Transport::describe</a></div><div class="ttdeci">virtual void describe(std::ostream &amp;) const =0</div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_a854efe446d5edff65c09243eed1bfbb5"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a854efe446d5edff65c09243eed1bfbb5">proxygen::HTTPTransaction::Transport::pauseIngress</a></div><div class="ttdeci">virtual void pauseIngress(HTTPTransaction *txn) noexcept=0</div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransaction_html_ab366b5d7bbee5e4970697314724688e5"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransaction.html#ab366b5d7bbee5e4970697314724688e5">proxygen::MockHTTPTransaction::sendBody</a></div><div class="ttdeci">void sendBody(std::unique_ptr&lt; folly::IOBuf &gt; iob) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransactionMocks_8h_source.html#l00239">HTTPTransactionMocks.h:239</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_a9ecfac5921c51ac23a16a0e5b3d33ad5"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a9ecfac5921c51ac23a16a0e5b3d33ad5">proxygen::HTTPTransaction::Transport::isReplaySafe</a></div><div class="ttdeci">virtual bool isReplaySafe() const =0</div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransactionTransport_html_a3174e25db486b51a12c8894430e8e6d2"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransactionTransport.html#a3174e25db486b51a12c8894430e8e6d2">proxygen::MockHTTPTransactionTransport::GMOCK_METHOD0_</a></div><div class="ttdeci">GMOCK_METHOD0_(, noexcept,, notifyPendingEgress, void())</div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_a81b96f75e461f7e176e3178040486b56"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a81b96f75e461f7e176e3178040486b56">proxygen::HTTPTransaction::Transport::notifyIngressBodyProcessed</a></div><div class="ttdeci">virtual void notifyIngressBodyProcessed(uint32_t bytes) noexcept=0</div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransactionTransportCallback_html_a3a36d0d0c97b93a54011e98119a46841"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransactionTransportCallback.html#a3a36d0d0c97b93a54011e98119a46841">proxygen::MockHTTPTransactionTransportCallback::MockHTTPTransactionTransportCallback</a></div><div class="ttdeci">MockHTTPTransactionTransportCallback()</div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransactionMocks_8h_source.html#l00275">HTTPTransactionMocks.h:275</a></div></div>
<div class="ttc" id="namespaceproxygen_html_a3d6f6c837ecc1ee254de4e790826ae9b"><div class="ttname"><a href="namespaceproxygen.html#a3d6f6c837ecc1ee254de4e790826ae9b">proxygen::ErrorCode</a></div><div class="ttdeci">ErrorCode</div><div class="ttdef"><b>Definition:</b> <a href="ErrorCode_8h_source.html#l00026">ErrorCode.h:26</a></div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransactionTransport_html_a47adbafaf4246c76ab35dea2bd8f6158"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransactionTransport.html#a47adbafaf4246c76ab35dea2bd8f6158">proxygen::MockHTTPTransactionTransport::sendBody</a></div><div class="ttdeci">size_t sendBody(HTTPTransaction *txn, std::unique_ptr&lt; folly::IOBuf &gt; iob, bool eom, bool trackLastByteFlushed) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransactionMocks_8h_source.html#l00040">HTTPTransactionMocks.h:40</a></div></div>
<div class="ttc" id="namespaceproxygen_html_a00b4cbb0c54e966bfd87e0e7cb1cb33d"><div class="ttname"><a href="namespaceproxygen.html#a00b4cbb0c54e966bfd87e0e7cb1cb33d">proxygen::TransportDirection</a></div><div class="ttdeci">TransportDirection</div><div class="ttdef"><b>Definition:</b> <a href="TransportDirection_8h_source.html#l00017">TransportDirection.h:17</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_af21bcdf1b2e19d5817252a8af9bcc1d6"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#af21bcdf1b2e19d5817252a8af9bcc1d6">proxygen::HTTPTransaction::Transport::sendChunkHeader</a></div><div class="ttdeci">virtual size_t sendChunkHeader(HTTPTransaction *txn, size_t length) noexcept=0</div></div>
<div class="ttc" id="namespaceproxygen_1_1http2_html_a9d6bc6481640269a7770347be1f72fd5"><div class="ttname"><a href="namespaceproxygen_1_1http2.html#a9d6bc6481640269a7770347be1f72fd5">proxygen::http2::DefaultPriority</a></div><div class="ttdeci">const PriorityUpdate DefaultPriority</div><div class="ttdef"><b>Definition:</b> <a href="HTTP2Framer_8cpp_source.html#l00021">HTTP2Framer.cpp:21</a></div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransactionTransport_html_a09481451ef7dc928bb499585408a3c4c"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransactionTransport.html#a09481451ef7dc928bb499585408a3c4c">proxygen::MockHTTPTransactionTransport::MOCK_METHOD0</a></div><div class="ttdeci">MOCK_METHOD0(drain, void())</div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_a4805d62c2895d90c91bd43b396a6fa68"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a4805d62c2895d90c91bd43b396a6fa68">proxygen::HTTPTransaction::Transport::transactionTimeout</a></div><div class="ttdeci">virtual void transactionTimeout(HTTPTransaction *txn) noexcept=0</div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPCodec_html"><div class="ttname"><a href="classproxygen_1_1MockHTTPCodec.html">proxygen::MockHTTPCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="MockHTTPCodec_8h_source.html#l00022">MockHTTPCodec.h:22</a></div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransactionTransport_html_a84b133c1d1c867f12363d76e3af8ba31"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransactionTransport.html#a84b133c1d1c867f12363d76e3af8ba31">proxygen::MockHTTPTransactionTransport::GMOCK_METHOD3_</a></div><div class="ttdeci">GMOCK_METHOD3_(, noexcept,, newExTransaction, HTTPTransaction *(HTTPTransaction::Handler *handler, HTTPCodec::StreamID controlStream, bool unidirectional))</div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransaction_html_a88c03f3c707fcbad4f0274019abdf237"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransaction.html#a88c03f3c707fcbad4f0274019abdf237">proxygen::MockHTTPTransaction::mockTransport_</a></div><div class="ttdeci">testing::NiceMock&lt; MockHTTPTransactionTransport &gt; mockTransport_</div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransactionMocks_8h_source.html#l00266">HTTPTransactionMocks.h:266</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_aaf57400170e2afde845b45288c4f5609"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#aaf57400170e2afde845b45288c4f5609">proxygen::HTTPTransaction::Transport::sendPriority</a></div><div class="ttdeci">virtual size_t sendPriority(HTTPTransaction *txn, const http2::PriorityUpdate &amp;pri) noexcept=0</div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransactionTransport_html_a57095482ee9ea5330593512bfe156ad7"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransactionTransport.html#a57095482ee9ea5330593512bfe156ad7">proxygen::MockHTTPTransactionTransport::getUnderlyingTransport</a></div><div class="ttdeci">const folly::AsyncTransportWrapper * getUnderlyingTransport() const noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransactionMocks_8h_source.html#l00112">HTTPTransactionMocks.h:112</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_ad10b65e55937ef9a905786e48133edf0"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#ad10b65e55937ef9a905786e48133edf0">proxygen::HTTPTransaction::Transport::setHTTP2PrioritiesEnabled</a></div><div class="ttdeci">virtual void setHTTP2PrioritiesEnabled(bool enabled)=0</div></div>
<div class="ttc" id="namespaceproxygen_html"><div class="ttname"><a href="namespaceproxygen.html">proxygen</a></div><div class="ttdef"><b>Definition:</b> <a href="ExMessageHandler_8h_source.html#l00014">ExMessageHandler.h:14</a></div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransaction_html_a4a0f0d2015eb0976e7e090b5d2545309"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransaction.html#a4a0f0d2015eb0976e7e090b5d2545309">proxygen::MockHTTPTransaction::MockHTTPTransaction</a></div><div class="ttdeci">MockHTTPTransaction(TransportDirection direction, HTTPCodec::StreamID id, uint32_t seqNo, const HTTP2PriorityQueue &amp;egressQueue, folly::HHWheelTimer *timer=nullptr, const folly::Optional&lt; std::chrono::milliseconds &gt; &amp;transactionTimeout=folly::Optional&lt; std::chrono::milliseconds &gt;(), HTTPSessionStats *stats=nullptr, bool useFlowControl=false, uint32_t receiveInitialWindowSize=0, uint32_t sendInitialWindowSize=0, http2::PriorityUpdate priority=http2::DefaultPriority, folly::Optional&lt; HTTPCodec::StreamID &gt; assocStreamId=HTTPCodec::NoStream, folly::Optional&lt; HTTPCodec::ExAttributes &gt; exAttributes=HTTPCodec::NoExAttributes)</div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransactionMocks_8h_source.html#l00129">HTTPTransactionMocks.h:129</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_a69bc5d147822b5f7eb3b43fc78fa2c8a"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a69bc5d147822b5f7eb3b43fc78fa2c8a">proxygen::HTTPTransaction::Transport::getHTTPPriority</a></div><div class="ttdeci">virtual folly::Optional&lt; const HTTPMessage::HTTPPriority &gt; getHTTPPriority(uint8_t level)=0</div></div>
<div class="ttc" id="classproxygen_1_1HTTPCodec_html_ab551ec1bec2f37c3e83b8da35634b48c"><div class="ttname"><a href="classproxygen_1_1HTTPCodec.html#ab551ec1bec2f37c3e83b8da35634b48c">proxygen::HTTPCodec::NoStream</a></div><div class="ttdeci">static const folly::Optional&lt; StreamID &gt; NoStream</div><div class="ttdef"><b>Definition:</b> <a href="HTTPCodec_8h_source.html#l00051">HTTPCodec.h:51</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPCodec_html_addee32fd97cd4864b2a4b2f8a99c11c1"><div class="ttname"><a href="classproxygen_1_1HTTPCodec.html#addee32fd97cd4864b2a4b2f8a99c11c1">proxygen::HTTPCodec::StreamID</a></div><div class="ttdeci">uint64_t StreamID</div><div class="ttdef"><b>Definition:</b> <a href="HTTPCodec_8h_source.html#l00049">HTTPCodec.h:49</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_ad14fec2f82c1b6d50c0ad2e4eae60b3b"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#ad14fec2f82c1b6d50c0ad2e4eae60b3b">proxygen::HTTPTransaction::Transport::drain</a></div><div class="ttdeci">virtual void drain()=0</div></div>
<div class="ttc" id="classproxygen_1_1HTTPMessage_html"><div class="ttname"><a href="classproxygen_1_1HTTPMessage.html">proxygen::HTTPMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPMessage_8h_source.html#l00039">HTTPMessage.h:39</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_aab6408cb6f66484b35618207fc5cc47d"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#aab6408cb6f66484b35618207fc5cc47d">proxygen::HTTPTransaction::Transport::newPushedTransaction</a></div><div class="ttdeci">virtual HTTPTransaction * newPushedTransaction(HTTPCodec::StreamID assocStreamId, HTTPTransaction::PushHandler *handler) noexcept=0</div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransaction_html_aadd70d1fbb0876da21f2949d5df74bda"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransaction.html#aadd70d1fbb0876da21f2949d5df74bda">proxygen::MockHTTPTransaction::mockCodec_</a></div><div class="ttdeci">MockHTTPCodec mockCodec_</div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransactionMocks_8h_source.html#l00268">HTTPTransactionMocks.h:268</a></div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransaction_html"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransaction.html">proxygen::MockHTTPTransaction</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransactionMocks_8h_source.html#l00127">HTTPTransactionMocks.h:127</a></div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransactionTransport_html_ac67ad374e023460c44aa22d6a3b950bc"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransactionTransport.html#ac67ad374e023460c44aa22d6a3b950bc">proxygen::MockHTTPTransactionTransport::mockCodec_</a></div><div class="ttdeci">MockHTTPCodec mockCodec_</div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransactionMocks_8h_source.html#l00124">HTTPTransactionMocks.h:124</a></div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransaction_html_a21608737c7c19c69b7c43df6af9a9722"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransaction.html#a21608737c7c19c69b7c43df6af9a9722">proxygen::MockHTTPTransaction::setupTransportInfo_</a></div><div class="ttdeci">wangle::TransportInfo setupTransportInfo_</div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransactionMocks_8h_source.html#l00269">HTTPTransactionMocks.h:269</a></div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransactionTransport_html_ae82c5ba9e573aa03ba4a69847f1b1b18"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransactionTransport.html#ae82c5ba9e573aa03ba4a69847f1b1b18">proxygen::MockHTTPTransactionTransport::MOCK_CONST_METHOD1</a></div><div class="ttdeci">MOCK_CONST_METHOD1(describe, void(std::ostream &amp;))</div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_a8926428ebb86b5fcce34bd08651d5966"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a8926428ebb86b5fcce34bd08651d5966">proxygen::HTTPTransaction::Transport::getCurrentTransportInfo</a></div><div class="ttdeci">virtual bool getCurrentTransportInfo(wangle::TransportInfo *tinfo)=0</div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_a6f89b92fa724cb3a2591ab01332c18b8"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a6f89b92fa724cb3a2591ab01332c18b8">proxygen::HTTPTransaction::Transport::notifyPendingEgress</a></div><div class="ttdeci">virtual void notifyPendingEgress() noexcept=0</div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html_a7e0526ba72d521fb439af0437a3800cd"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html#a7e0526ba72d521fb439af0437a3800cd">proxygen::HTTPTransaction::Transport::removeWaitingForReplaySafety</a></div><div class="ttdeci">virtual void removeWaitingForReplaySafety(folly::AsyncTransport::ReplaySafetyCallback *callback) noexcept=0</div></div>
<div class="ttc" id="classproxygen_1_1MockHTTPTransactionTransport_html_a84e2217c3828f7de46d7321d3755b2aa"><div class="ttname"><a href="classproxygen_1_1MockHTTPTransactionTransport.html#a84e2217c3828f7de46d7321d3755b2aa">proxygen::MockHTTPTransactionTransport::GMOCK_METHOD1_</a></div><div class="ttdeci">GMOCK_METHOD1_(, noexcept,, pauseIngress, void(HTTPTransaction *))</div></div>
<div class="ttc" id="classproxygen_1_1HTTPCodec_html"><div class="ttname"><a href="classproxygen_1_1HTTPCodec.html">proxygen::HTTPCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPCodec_8h_source.html#l00036">HTTPCodec.h:36</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransaction_1_1Transport_html"><div class="ttname"><a href="classproxygen_1_1HTTPTransaction_1_1Transport.html">proxygen::HTTPTransaction::Transport</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransaction_8h_source.html#l00331">HTTPTransaction.h:331</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPCodec_html_aeef645636d1d9736d1006c58313500ad"><div class="ttname"><a href="classproxygen_1_1HTTPCodec.html#aeef645636d1d9736d1006c58313500ad">proxygen::HTTPCodec::NoExAttributes</a></div><div class="ttdeci">static const folly::Optional&lt; ExAttributes &gt; NoExAttributes</div><div class="ttdef"><b>Definition:</b> <a href="HTTPCodec_8h_source.html#l00066">HTTPCodec.h:66</a></div></div>
<div class="ttc" id="classproxygen_1_1HTTPTransactionHandler_html"><div class="ttname"><a href="classproxygen_1_1HTTPTransactionHandler.html">proxygen::HTTPTransactionHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="HTTPTransaction_8h_source.html#l00133">HTTPTransaction.h:133</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d333e33cf903653326082c1f32e03be5.html">proxygen</a></li><li class="navelem"><a class="el" href="dir_baa8b6fadb61b56c035914fe171fd962.html">lib</a></li><li class="navelem"><a class="el" href="dir_bf1b8217360450c8f2328843af490dd2.html">http</a></li><li class="navelem"><a class="el" href="dir_91354efb629f2a2f97c22c183d400178.html">session</a></li><li class="navelem"><a class="el" href="dir_97fc26c4d75f64a2cb9fe3ce6af93098.html">test</a></li><li class="navelem"><a class="el" href="HTTPTransactionMocks_8h.html">HTTPTransactionMocks.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>

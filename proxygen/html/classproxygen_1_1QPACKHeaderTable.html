<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: proxygen::QPACKHeaderTable Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classproxygen_1_1QPACKHeaderTable.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classproxygen_1_1QPACKHeaderTable-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">proxygen::QPACKHeaderTable Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="QPACKHeaderTable_8h_source.html">QPACKHeaderTable.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for proxygen::QPACKHeaderTable:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classproxygen_1_1QPACKHeaderTable.png" usemap="#proxygen::QPACKHeaderTable_map" alt=""/>
  <map id="proxygen::QPACKHeaderTable_map" name="proxygen::QPACKHeaderTable_map">
<area href="classproxygen_1_1HeaderTable.html" alt="proxygen::HeaderTable" shape="rect" coords="0,0,188,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a0e3284c60186423e7cea31c5fbe11852"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="classproxygen_1_1QPACKHeaderTable.html#a0e3284c60186423e7cea31c5fbe11852a3b454dca9b81f8a234f91d3912cf5ca4">UNACKED</a> = std::numeric_limits&lt;uint32_t&gt;::max()
 }</td></tr>
<tr class="separator:a0e3284c60186423e7cea31c5fbe11852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classproxygen_1_1HeaderTable"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classproxygen_1_1HeaderTable')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classproxygen_1_1HeaderTable.html">proxygen::HeaderTable</a></td></tr>
<tr class="memitem:ad8be16498debba4c9ed68abe694e1d07 inherit pub_types_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#ad8be16498debba4c9ed68abe694e1d07">names_map</a> = std::unordered_map&lt; <a class="el" href="classproxygen_1_1HPACKHeaderName.html">HPACKHeaderName</a>, std::list&lt; uint32_t &gt;&gt;</td></tr>
<tr class="separator:ad8be16498debba4c9ed68abe694e1d07 inherit pub_types_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a91cd637a7b648a1566d4f70668685495"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#a91cd637a7b648a1566d4f70668685495">QPACKHeaderTable</a> (uint32_t capacityVal, bool trackReferences)</td></tr>
<tr class="separator:a91cd637a7b648a1566d4f70668685495"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a371becfc2263a202e1a024edcc4f4d02"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#a371becfc2263a202e1a024edcc4f4d02">~QPACKHeaderTable</a> ()</td></tr>
<tr class="separator:a371becfc2263a202e1a024edcc4f4d02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab8e805456ff8c4a0c7b6e470530b5c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#aab8e805456ff8c4a0c7b6e470530b5c7">QPACKHeaderTable</a> (const <a class="el" href="classproxygen_1_1QPACKHeaderTable.html">QPACKHeaderTable</a> &amp;)=delete</td></tr>
<tr class="separator:aab8e805456ff8c4a0c7b6e470530b5c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac43c84ae515682f0ef856ef00eb869da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html">QPACKHeaderTable</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#ac43c84ae515682f0ef856ef00eb869da">operator=</a> (const <a class="el" href="classproxygen_1_1QPACKHeaderTable.html">QPACKHeaderTable</a> &amp;)=delete</td></tr>
<tr class="separator:ac43c84ae515682f0ef856ef00eb869da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafc5cb31776a6095c07a49ebe6c4b783"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#aafc5cb31776a6095c07a49ebe6c4b783">getMaxEntries</a> () const </td></tr>
<tr class="separator:aafc5cb31776a6095c07a49ebe6c4b783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab119df15f8127d3f643068d137c145e2"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#ab119df15f8127d3f643068d137c145e2">getBaseIndex</a> () const </td></tr>
<tr class="separator:ab119df15f8127d3f643068d137c145e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5a39f3c399710cfba68374856577642"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#ac5a39f3c399710cfba68374856577642">isVulnerable</a> (uint32_t absIndex) const </td></tr>
<tr class="separator:ac5a39f3c399710cfba68374856577642"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad44b7487db0dcad52b944bcd9b0c3d5b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#ad44b7487db0dcad52b944bcd9b0c3d5b">canIndex</a> (const <a class="el" href="classproxygen_1_1HPACKHeader.html">HPACKHeader</a> &amp;header)</td></tr>
<tr class="separator:ad44b7487db0dcad52b944bcd9b0c3d5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af31a6edb5f7d8a6cdff785420707a1cb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#af31a6edb5f7d8a6cdff785420707a1cb">isDraining</a> (uint32_t relativeIndex)</td></tr>
<tr class="separator:af31a6edb5f7d8a6cdff785420707a1cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8fffce8e2f4578bd3eab9e6397ea084"><td class="memItemLeft" align="right" valign="top">std::pair&lt; bool, uint32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#ae8fffce8e2f4578bd3eab9e6397ea084">maybeDuplicate</a> (uint32_t relativeIndex, bool allowVulnerable)</td></tr>
<tr class="separator:ae8fffce8e2f4578bd3eab9e6397ea084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92966263016752609108f97a231e18ca"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#a92966263016752609108f97a231e18ca">add</a> (<a class="el" href="classproxygen_1_1HPACKHeader.html">HPACKHeader</a> header) override</td></tr>
<tr class="separator:a92966263016752609108f97a231e18ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ee51228fbddd7ef548f1be1c2b8950b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#a8ee51228fbddd7ef548f1be1c2b8950b">setCapacity</a> (uint32_t <a class="el" href="classproxygen_1_1HeaderTable.html#a2d96d2d1f1158954db3bae99a1854dc6">capacity</a>) override</td></tr>
<tr class="separator:a8ee51228fbddd7ef548f1be1c2b8950b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e5bf0bf11473625809ba1548809a828"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#a9e5bf0bf11473625809ba1548809a828">setMinFreeForTesting</a> (uint32_t minFree)</td></tr>
<tr class="separator:a9e5bf0bf11473625809ba1548809a828"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3db9f10b5869b05e1f3846edd8d0e268"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#a3db9f10b5869b05e1f3846edd8d0e268">getIndex</a> (const <a class="el" href="classproxygen_1_1HPACKHeader.html">HPACKHeader</a> &amp;header, bool allowVulnerable=true) const </td></tr>
<tr class="separator:a3db9f10b5869b05e1f3846edd8d0e268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad120ca35c65d3e1d40a235baf8c322d3"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classproxygen_1_1HPACKHeader.html">HPACKHeader</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#ad120ca35c65d3e1d40a235baf8c322d3">getHeader</a> (uint32_t index, uint32_t base=0) const </td></tr>
<tr class="separator:ad120ca35c65d3e1d40a235baf8c322d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19186fd873984d81664ec1f591827a4a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#a19186fd873984d81664ec1f591827a4a">isValid</a> (uint32_t index, uint32_t base=0) const </td></tr>
<tr class="separator:a19186fd873984d81664ec1f591827a4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d56929d08f697c09a26863d8f462051"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#a3d56929d08f697c09a26863d8f462051">nameIndex</a> (const <a class="el" href="classproxygen_1_1HPACKHeaderName.html">HPACKHeaderName</a> &amp;headerName, bool allowVulnerable=true) const </td></tr>
<tr class="separator:a3d56929d08f697c09a26863d8f462051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4abb796fef2de98cf50e7285b2a1fae"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#ad4abb796fef2de98cf50e7285b2a1fae">onTableStateSync</a> (uint32_t inserts)</td></tr>
<tr class="separator:ad4abb796fef2de98cf50e7285b2a1fae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4afb4ce9bf3b26d3e6ad176d93cc828"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#af4afb4ce9bf3b26d3e6ad176d93cc828">setMaxAcked</a> (uint32_t maxAcked)</td></tr>
<tr class="separator:af4afb4ce9bf3b26d3e6ad176d93cc828"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44b64e0b7d835335091c9541a19af24e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#a44b64e0b7d835335091c9541a19af24e">relativeToAbsolute</a> (uint32_t relativeIndex) const </td></tr>
<tr class="separator:a44b64e0b7d835335091c9541a19af24e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c0462ac5cb2817e9497aee9fc5b75ea"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#a3c0462ac5cb2817e9497aee9fc5b75ea">absoluteToRelative</a> (uint32_t absIndex) const </td></tr>
<tr class="separator:a3c0462ac5cb2817e9497aee9fc5b75ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f72a16b43e5f3fc9c1502b3282054dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#a2f72a16b43e5f3fc9c1502b3282054dc">addRef</a> (uint32_t absIndex)</td></tr>
<tr class="separator:a2f72a16b43e5f3fc9c1502b3282054dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a936a8faf7d593a9939c69700a40f95e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#a936a8faf7d593a9939c69700a40f95e8">subRef</a> (uint32_t absIndex)</td></tr>
<tr class="separator:a936a8faf7d593a9939c69700a40f95e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classproxygen_1_1HeaderTable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classproxygen_1_1HeaderTable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classproxygen_1_1HeaderTable.html">proxygen::HeaderTable</a></td></tr>
<tr class="memitem:a8bc6c6f742d93b32494e5bb362b8ee2b inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a8bc6c6f742d93b32494e5bb362b8ee2b">HeaderTable</a> (uint32_t capacityVal)</td></tr>
<tr class="separator:a8bc6c6f742d93b32494e5bb362b8ee2b inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b6c9db2b59b6153a0d55f02a9307ba6 inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a9b6c9db2b59b6153a0d55f02a9307ba6">~HeaderTable</a> ()</td></tr>
<tr class="separator:a9b6c9db2b59b6153a0d55f02a9307ba6 inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bba6318f35864bf52e4a240c00b72b0 inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a0bba6318f35864bf52e4a240c00b72b0">HeaderTable</a> (const <a class="el" href="classproxygen_1_1HeaderTable.html">HeaderTable</a> &amp;)=delete</td></tr>
<tr class="separator:a0bba6318f35864bf52e4a240c00b72b0 inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6147e2a152ab1eb5184ef06dcb051ef8 inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classproxygen_1_1HeaderTable.html">HeaderTable</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a6147e2a152ab1eb5184ef06dcb051ef8">operator=</a> (const <a class="el" href="classproxygen_1_1HeaderTable.html">HeaderTable</a> &amp;)=delete</td></tr>
<tr class="separator:a6147e2a152ab1eb5184ef06dcb051ef8 inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade646871ccfed35b6abcc28c8c8998cc inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#ade646871ccfed35b6abcc28c8c8998cc">getIndex</a> (const <a class="el" href="classproxygen_1_1HPACKHeader.html">HPACKHeader</a> &amp;header) const </td></tr>
<tr class="separator:ade646871ccfed35b6abcc28c8c8998cc inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58ec9b8b28bf611947e7c586f9fad48a inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classproxygen_1_1HPACKHeader.html">HPACKHeader</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a58ec9b8b28bf611947e7c586f9fad48a">getHeader</a> (uint32_t index) const </td></tr>
<tr class="separator:a58ec9b8b28bf611947e7c586f9fad48a inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11c66735867cf9b3c55d463a36c1c096 inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a11c66735867cf9b3c55d463a36c1c096">isValid</a> (uint32_t index) const </td></tr>
<tr class="separator:a11c66735867cf9b3c55d463a36c1c096 inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a280245c11a6653333d5f984159029942 inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a280245c11a6653333d5f984159029942">hasName</a> (const <a class="el" href="classproxygen_1_1HPACKHeaderName.html">HPACKHeaderName</a> &amp;headerName)</td></tr>
<tr class="separator:a280245c11a6653333d5f984159029942 inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9417cd37167fcab5d56821377f677fdd inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classproxygen_1_1HeaderTable.html#ad8be16498debba4c9ed68abe694e1d07">names_map</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a9417cd37167fcab5d56821377f677fdd">names</a> () const </td></tr>
<tr class="separator:a9417cd37167fcab5d56821377f677fdd inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c25e611d22e7a940053acff9dc415f1 inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a3c25e611d22e7a940053acff9dc415f1">nameIndex</a> (const <a class="el" href="classproxygen_1_1HPACKHeaderName.html">HPACKHeaderName</a> &amp;headerName) const </td></tr>
<tr class="separator:a3c25e611d22e7a940053acff9dc415f1 inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d96d2d1f1158954db3bae99a1854dc6 inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a2d96d2d1f1158954db3bae99a1854dc6">capacity</a> () const </td></tr>
<tr class="separator:a2d96d2d1f1158954db3bae99a1854dc6 inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af598a5ba14964459ae073173c5dfcd63 inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#af598a5ba14964459ae073173c5dfcd63">getMaxTableLength</a> (uint32_t capacityVal) const </td></tr>
<tr class="separator:af598a5ba14964459ae073173c5dfcd63 inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8579a331163c2701e084d9506175ead9 inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a8579a331163c2701e084d9506175ead9">size</a> () const </td></tr>
<tr class="separator:a8579a331163c2701e084d9506175ead9 inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f03bce888c80997e8b67ec378cdd723 inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a1f03bce888c80997e8b67ec378cdd723">bytes</a> () const </td></tr>
<tr class="separator:a1f03bce888c80997e8b67ec378cdd723 inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b0bb1caabcc9215221fe6ca265dc021 inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a2b0bb1caabcc9215221fe6ca265dc021">length</a> () const </td></tr>
<tr class="separator:a2b0bb1caabcc9215221fe6ca265dc021 inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7509c2e759586894c2c7da83f6eee83d inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a7509c2e759586894c2c7da83f6eee83d">operator==</a> (const <a class="el" href="classproxygen_1_1HeaderTable.html">HeaderTable</a> &amp;other) const </td></tr>
<tr class="separator:a7509c2e759586894c2c7da83f6eee83d inherit pub_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ac770b32b74646a20489512329bbbac0f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#ac770b32b74646a20489512329bbbac0f">getIndexImpl</a> (const <a class="el" href="classproxygen_1_1HPACKHeaderName.html">HPACKHeaderName</a> &amp;header, const folly::fbstring &amp;value, bool nameOnly, bool allowVulnerable=true) const </td></tr>
<tr class="separator:ac770b32b74646a20489512329bbbac0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a34bdab42cd92d5f865fc439243c383"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#a4a34bdab42cd92d5f865fc439243c383">increaseTableLengthTo</a> (uint32_t newLength) override</td></tr>
<tr class="separator:a4a34bdab42cd92d5f865fc439243c383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa061b4f5265f968c081aca198615347e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#aa061b4f5265f968c081aca198615347e">resizeTable</a> (uint32_t newLength) override</td></tr>
<tr class="separator:aa061b4f5265f968c081aca198615347e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadf63828e34b169116a27425f31ba61b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#aadf63828e34b169116a27425f31ba61b">updateResizedTable</a> (uint32_t oldTail, uint32_t oldLength, uint32_t newLength) override</td></tr>
<tr class="separator:aadf63828e34b169116a27425f31ba61b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea7ebea22434b56fc18a77f972e4718a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#aea7ebea22434b56fc18a77f972e4718a">removeLast</a> () override</td></tr>
<tr class="separator:aea7ebea22434b56fc18a77f972e4718a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8434e37cc7bcbf0bc50b811b3a57031"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#aa8434e37cc7bcbf0bc50b811b3a57031">canEvict</a> (uint32_t needed)</td></tr>
<tr class="separator:aa8434e37cc7bcbf0bc50b811b3a57031"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7acf709b3c58e89a33d70a409b81c237"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#a7acf709b3c58e89a33d70a409b81c237">evict</a> (uint32_t needed, uint32_t desiredCapacity) override</td></tr>
<tr class="separator:a7acf709b3c58e89a33d70a409b81c237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9dadf2391332a9a4f538a0efe7e479b"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#ab9dadf2391332a9a4f538a0efe7e479b">toInternal</a> (uint32_t externalIndex, uint32_t base) const </td></tr>
<tr class="separator:ab9dadf2391332a9a4f538a0efe7e479b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea47e8f45fe941908014113db1632923"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#aea47e8f45fe941908014113db1632923">internalToAbsolute</a> (uint32_t internalIndex) const </td></tr>
<tr class="separator:aea47e8f45fe941908014113db1632923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9ae7eecb864c907777a8cec818237da"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#aa9ae7eecb864c907777a8cec818237da">absoluteToInternal</a> (uint32_t absoluteIndex) const </td></tr>
<tr class="separator:aa9ae7eecb864c907777a8cec818237da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aac517bc8a554987a0d20006af242a7a8"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">baseIndex_</a> {0}</td></tr>
<tr class="separator:aac517bc8a554987a0d20006af242a7a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2b7fb27410abc6f56f28c48c896da32"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#ab2b7fb27410abc6f56f28c48c896da32">drainedBytes_</a> {0}</td></tr>
<tr class="separator:ab2b7fb27410abc6f56f28c48c896da32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaad0b009f26ce1cb032d7bbc96e84b4"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#abaad0b009f26ce1cb032d7bbc96e84b4">minUsable_</a> {1}</td></tr>
<tr class="separator:abaad0b009f26ce1cb032d7bbc96e84b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4c410cf904f758509b3763a2a1b766a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#ad4c410cf904f758509b3763a2a1b766a">maxAcked_</a> {0}</td></tr>
<tr class="separator:ad4c410cf904f758509b3763a2a1b766a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbe72412a4c286870da504eb1f4ca144"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; std::vector&lt; uint16_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">refCount_</a></td></tr>
<tr class="separator:adbe72412a4c286870da504eb1f4ca144"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaead50c19bee0f4cac313c3f1521ecf"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html#afaead50c19bee0f4cac313c3f1521ecf">minFree_</a> {0}</td></tr>
<tr class="separator:afaead50c19bee0f4cac313c3f1521ecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classproxygen_1_1HeaderTable"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classproxygen_1_1HeaderTable')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classproxygen_1_1HeaderTable.html">proxygen::HeaderTable</a></td></tr>
<tr class="memitem:ae79a881ef83bb8ddc7cc99e644f3288f inherit pub_static_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#ae79a881ef83bb8ddc7cc99e644f3288f">toExternal</a> (uint32_t head, uint32_t <a class="el" href="classproxygen_1_1HeaderTable.html#a2b0bb1caabcc9215221fe6ca265dc021">length</a>, uint32_t internalIndex)</td></tr>
<tr class="separator:ae79a881ef83bb8ddc7cc99e644f3288f inherit pub_static_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d0329b1762816819a8f8e59cf023b3c inherit pub_static_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a5d0329b1762816819a8f8e59cf023b3c">toInternal</a> (uint32_t head, uint32_t <a class="el" href="classproxygen_1_1HeaderTable.html#a2b0bb1caabcc9215221fe6ca265dc021">length</a>, uint32_t externalIndex)</td></tr>
<tr class="separator:a5d0329b1762816819a8f8e59cf023b3c inherit pub_static_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classproxygen_1_1HeaderTable"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classproxygen_1_1HeaderTable')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classproxygen_1_1HeaderTable.html">proxygen::HeaderTable</a></td></tr>
<tr class="memitem:a1188949acc16a0036530342e1fc4b0e6 inherit pro_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a1188949acc16a0036530342e1fc4b0e6">init</a> (uint32_t capacityVal)</td></tr>
<tr class="separator:a1188949acc16a0036530342e1fc4b0e6 inherit pro_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc85b5135059165f984a4c9eed8b810a inherit pro_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#acc85b5135059165f984a4c9eed8b810a">reset</a> ()</td></tr>
<tr class="separator:acc85b5135059165f984a4c9eed8b810a inherit pro_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3223bb00879ea1f18775f7b6e908f58 inherit pro_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#ae3223bb00879ea1f18775f7b6e908f58">next</a> (uint32_t i) const </td></tr>
<tr class="separator:ae3223bb00879ea1f18775f7b6e908f58 inherit pro_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a356dde60cbd9b58f37320f968de97a86 inherit pro_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a356dde60cbd9b58f37320f968de97a86">tail</a> () const </td></tr>
<tr class="separator:a356dde60cbd9b58f37320f968de97a86 inherit pro_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8592bc2dde3c98b331a4a8826465b6ca inherit pro_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a8592bc2dde3c98b331a4a8826465b6ca">toExternal</a> (uint32_t internalIndex) const </td></tr>
<tr class="separator:a8592bc2dde3c98b331a4a8826465b6ca inherit pro_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ad33913fe72ed6ebba17df9635b4fb8 inherit pro_methods_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a7ad33913fe72ed6ebba17df9635b4fb8">toInternal</a> (uint32_t externalIndex) const </td></tr>
<tr class="separator:a7ad33913fe72ed6ebba17df9635b4fb8 inherit pro_methods_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classproxygen_1_1HeaderTable"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classproxygen_1_1HeaderTable')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classproxygen_1_1HeaderTable.html">proxygen::HeaderTable</a></td></tr>
<tr class="memitem:a51ae7385ef1baf101c860e8ca607973d inherit pro_attribs_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a51ae7385ef1baf101c860e8ca607973d">capacity_</a> {0}</td></tr>
<tr class="separator:a51ae7385ef1baf101c860e8ca607973d inherit pro_attribs_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b136aaf7d5a76973b2003e91deb4a62 inherit pro_attribs_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a9b136aaf7d5a76973b2003e91deb4a62">bytes_</a> {0}</td></tr>
<tr class="separator:a9b136aaf7d5a76973b2003e91deb4a62 inherit pro_attribs_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a114c19408859e2aafb37755401709f34 inherit pro_attribs_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classproxygen_1_1HPACKHeader.html">HPACKHeader</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a114c19408859e2aafb37755401709f34">table_</a></td></tr>
<tr class="separator:a114c19408859e2aafb37755401709f34 inherit pro_attribs_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9de8856182c6ac8c3560cec2cf490794 inherit pro_attribs_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a9de8856182c6ac8c3560cec2cf490794">size_</a> {0}</td></tr>
<tr class="separator:a9de8856182c6ac8c3560cec2cf490794 inherit pro_attribs_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28433c7d006a61458e4c8a4f780c9a21 inherit pro_attribs_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#a28433c7d006a61458e4c8a4f780c9a21">head_</a> {0}</td></tr>
<tr class="separator:a28433c7d006a61458e4c8a4f780c9a21 inherit pro_attribs_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0cf4f76095d8fe357c7df3629353bfc inherit pro_attribs_classproxygen_1_1HeaderTable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classproxygen_1_1HeaderTable.html#ad8be16498debba4c9ed68abe694e1d07">names_map</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1HeaderTable.html#ab0cf4f76095d8fe357c7df3629353bfc">names_</a></td></tr>
<tr class="separator:ab0cf4f76095d8fe357c7df3629353bfc inherit pro_attribs_classproxygen_1_1HeaderTable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Data structure for maintaining indexed headers, based on a fixed-length ring with FIFO semantics. Externally it acts as an array. </p>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8h_source.html#l00022">22</a> of file <a class="el" href="QPACKHeaderTable_8h_source.html">QPACKHeaderTable.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a0e3284c60186423e7cea31c5fbe11852"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a0e3284c60186423e7cea31c5fbe11852a3b454dca9b81f8a234f91d3912cf5ca4"></a>UNACKED&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8h_source.html#l00024">24</a> of file <a class="el" href="QPACKHeaderTable_8h_source.html">QPACKHeaderTable.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;       {</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#a0e3284c60186423e7cea31c5fbe11852a3b454dca9b81f8a234f91d3912cf5ca4">UNACKED</a> = std::numeric_limits&lt;uint32_t&gt;::max()</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  };</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_a0e3284c60186423e7cea31c5fbe11852a3b454dca9b81f8a234f91d3912cf5ca4"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#a0e3284c60186423e7cea31c5fbe11852a3b454dca9b81f8a234f91d3912cf5ca4">proxygen::QPACKHeaderTable::UNACKED</a></div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00025">QPACKHeaderTable.h:25</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a91cd637a7b648a1566d4f70668685495"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proxygen::QPACKHeaderTable::QPACKHeaderTable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>capacityVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>trackReferences</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00039">39</a> of file <a class="el" href="QPACKHeaderTable_8cpp_source.html">QPACKHeaderTable.cpp</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8h_source.html#l00227">minFree_</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00226">refCount_</a>, and <a class="el" href="HeaderTable_8h_source.html#l00189">proxygen::HeaderTable::table_</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8h_source.html#l00030">~QPACKHeaderTable()</a>.</p>
<div class="fragment"><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    : <a class="code" href="classproxygen_1_1HeaderTable.html#a8bc6c6f742d93b32494e5bb362b8ee2b">HeaderTable</a>(capacityVal) {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keywordflow">if</span> (trackReferences) {</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">refCount_</a> = std::make_unique&lt;std::vector&lt;uint16_t&gt;&gt;(<a class="code" href="classproxygen_1_1HeaderTable.html#a114c19408859e2aafb37755401709f34">table_</a>.size(), 0);</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#afaead50c19bee0f4cac313c3f1521ecf">minFree_</a> = getMinFree(capacityVal);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#afaead50c19bee0f4cac313c3f1521ecf">minFree_</a> = 0;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  }</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;}</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_adbe72412a4c286870da504eb1f4ca144"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">proxygen::QPACKHeaderTable::refCount_</a></div><div class="ttdeci">std::unique_ptr&lt; std::vector&lt; uint16_t &gt; &gt; refCount_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00226">QPACKHeaderTable.h:226</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_afaead50c19bee0f4cac313c3f1521ecf"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#afaead50c19bee0f4cac313c3f1521ecf">proxygen::QPACKHeaderTable::minFree_</a></div><div class="ttdeci">uint32_t minFree_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00227">QPACKHeaderTable.h:227</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a114c19408859e2aafb37755401709f34"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a114c19408859e2aafb37755401709f34">proxygen::HeaderTable::table_</a></div><div class="ttdeci">std::vector&lt; HPACKHeader &gt; table_</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8h_source.html#l00189">HeaderTable.h:189</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a8bc6c6f742d93b32494e5bb362b8ee2b"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a8bc6c6f742d93b32494e5bb362b8ee2b">proxygen::HeaderTable::HeaderTable</a></div><div class="ttdeci">HeaderTable(uint32_t capacityVal)</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8h_source.html#l00030">HeaderTable.h:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a371becfc2263a202e1a024edcc4f4d02"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">proxygen::QPACKHeaderTable::~QPACKHeaderTable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="QPACKHeaderTable_8h_source.html#l00030">30</a> of file <a class="el" href="QPACKHeaderTable_8h_source.html">QPACKHeaderTable.h</a>.</p>

<p>References <a class="el" href="classproxygen_1_1QPACKHeaderTable.html#ac43c84ae515682f0ef856ef00eb869da">operator=()</a>, and <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00039">QPACKHeaderTable()</a>.</p>
<div class="fragment"><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;{}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aab8e805456ff8c4a0c7b6e470530b5c7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">proxygen::QPACKHeaderTable::QPACKHeaderTable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classproxygen_1_1QPACKHeaderTable.html">QPACKHeaderTable</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa9ae7eecb864c907777a8cec818237da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t proxygen::QPACKHeaderTable::absoluteToInternal </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>absoluteIndex</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00276">276</a> of file <a class="el" href="QPACKHeaderTable_8cpp_source.html">QPACKHeaderTable.cpp</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8h_source.html#l00164">absoluteToRelative()</a>, and <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00281">toInternal()</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8h_source.html#l00164">absoluteToRelative()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00049">add()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00254">addRef()</a>, and <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00261">subRef()</a>.</p>
<div class="fragment"><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                                {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ab9dadf2391332a9a4f538a0efe7e479b">toInternal</a>(<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#a3c0462ac5cb2817e9497aee9fc5b75ea">absoluteToRelative</a>(absoluteIndex), 0);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;}</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_ab9dadf2391332a9a4f538a0efe7e479b"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#ab9dadf2391332a9a4f538a0efe7e479b">proxygen::QPACKHeaderTable::toInternal</a></div><div class="ttdeci">uint32_t toInternal(uint32_t externalIndex, uint32_t base) const </div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8cpp_source.html#l00281">QPACKHeaderTable.cpp:281</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_a3c0462ac5cb2817e9497aee9fc5b75ea"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#a3c0462ac5cb2817e9497aee9fc5b75ea">proxygen::QPACKHeaderTable::absoluteToRelative</a></div><div class="ttdeci">uint32_t absoluteToRelative(uint32_t absIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00164">QPACKHeaderTable.h:164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3c0462ac5cb2817e9497aee9fc5b75ea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t proxygen::QPACKHeaderTable::absoluteToRelative </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>absIndex</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Convert an absolute index to a relative index </p>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8h_source.html#l00164">164</a> of file <a class="el" href="QPACKHeaderTable_8h_source.html">QPACKHeaderTable.h</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00276">absoluteToInternal()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00254">addRef()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00222">baseIndex_</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00192">canEvict()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00184">evict()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00093">getIndexImpl()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00159">increaseTableLengthTo()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00270">internalToAbsolute()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00135">removeLast()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00167">resizeTable()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00261">subRef()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00281">toInternal()</a>, and <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00174">updateResizedTable()</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00276">absoluteToInternal()</a>, <a class="el" href="QPACKEncoder_8cpp_source.html#l00091">proxygen::QPACKEncoder::encodeHeaderQ()</a>, <a class="el" href="QPACKEncoder_8cpp_source.html#l00186">proxygen::QPACKEncoder::getNameIndexQ()</a>, and <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00281">toInternal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                                                       {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    CHECK_LE(absIndex, <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">baseIndex_</a>);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">baseIndex_</a> - absIndex + 1;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  }</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_aac517bc8a554987a0d20006af242a7a8"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">proxygen::QPACKHeaderTable::baseIndex_</a></div><div class="ttdeci">uint32_t baseIndex_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00222">QPACKHeaderTable.h:222</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a92966263016752609108f97a231e18ca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool proxygen::QPACKHeaderTable::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classproxygen_1_1HPACKHeader.html">HPACKHeader</a>&#160;</td>
          <td class="paramname"><em>header</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add the header entry at the beginning of the table (index=1)</p>
<dl class="section return"><dt>Returns</dt><dd>true if it was able to add the entry </dd></dl>

<p>Reimplemented from <a class="el" href="classproxygen_1_1HeaderTable.html#a733f7bd056a003bbbf3e8f8d5ab9fa11">proxygen::HeaderTable</a>.</p>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00049">49</a> of file <a class="el" href="QPACKHeaderTable_8cpp_source.html">QPACKHeaderTable.cpp</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00276">absoluteToInternal()</a>, <a class="el" href="HeaderTable_8cpp_source.html#l00033">proxygen::HeaderTable::add()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00222">baseIndex_</a>, <a class="el" href="HeaderTable_8h_source.html#l00112">proxygen::HeaderTable::bytes()</a>, <a class="el" href="HeaderTable_8h_source.html#l00188">proxygen::HeaderTable::bytes_</a>, <a class="el" href="HeaderTable_8h_source.html#l00187">proxygen::HeaderTable::capacity_</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00223">drainedBytes_</a>, <a class="el" href="namespaceproxygen.html#ab18179a16a0bebed81cf3f62dff11064abb1ca97ec761fc37101737ba0aa2e7c5">proxygen::ERROR</a>, <a class="el" href="HeaderTable_8h_source.html#l00192">proxygen::HeaderTable::head_</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00270">internalToAbsolute()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00227">minFree_</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00224">minUsable_</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00226">refCount_</a>, and <a class="el" href="HeaderTable_8h_source.html#l00189">proxygen::HeaderTable::table_</a>.</p>

<p>Referenced by <a class="el" href="QPACKDecoder_8cpp_source.html#l00188">proxygen::QPACKDecoder::decodeEncoderStreamInstruction()</a>, <a class="el" href="QPACKDecoder_8cpp_source.html#l00215">proxygen::QPACKDecoder::decodeLiteralHeaderQ()</a>, <a class="el" href="QPACKEncoder_8cpp_source.html#l00091">proxygen::QPACKEncoder::encodeHeaderQ()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00067">isDraining()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00228">maybeDuplicate()</a>, and <a class="el" href="QPACKContext_8cpp_source.html#l00032">proxygen::QPACKContext::seedHeaderTable()</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                                             {</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">baseIndex_</a> == std::numeric_limits&lt;uint32_t&gt;::max()) {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    LOG(<a class="code" href="namespaceproxygen.html#ab18179a16a0bebed81cf3f62dff11064abb1ca97ec761fc37101737ba0aa2e7c5">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;Cowardly refusing to add more entries since baseIndex_ &quot;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      <span class="stringliteral">&quot; would wrap&quot;</span>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  }</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  VLOG(6) &lt;&lt; <span class="stringliteral">&quot;Adding header=&quot;</span> &lt;&lt; header;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classproxygen_1_1HeaderTable.html#a733f7bd056a003bbbf3e8f8d5ab9fa11">HeaderTable::add</a>(std::move(header))) {</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  }</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">refCount_</a>) {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    (*refCount_)[<a class="code" href="classproxygen_1_1HeaderTable.html#a28433c7d006a61458e4c8a4f780c9a21">head_</a>] = 0;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  }</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  ++<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">baseIndex_</a>;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  DCHECK_EQ(<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aea47e8f45fe941908014113db1632923">internalToAbsolute</a>(<a class="code" href="classproxygen_1_1HeaderTable.html#a28433c7d006a61458e4c8a4f780c9a21">head_</a>), <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">baseIndex_</a>);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="comment">// Increase minUsable_ until the free space + drainedBytes is &gt;= minFree.</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="comment">// For HPACK, minFree is 0 and this is a no-op.</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="classproxygen_1_1HeaderTable.html#a51ae7385ef1baf101c860e8ca607973d">capacity_</a> - <a class="code" href="classproxygen_1_1HeaderTable.html#a9b136aaf7d5a76973b2003e91deb4a62">bytes_</a> + <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ab2b7fb27410abc6f56f28c48c896da32">drainedBytes_</a> &lt; <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#afaead50c19bee0f4cac313c3f1521ecf">minFree_</a> &amp;&amp;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;         <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#abaad0b009f26ce1cb032d7bbc96e84b4">minUsable_</a> &lt;= <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">baseIndex_</a>) {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keyword">auto</span> <a class="code" href="classproxygen_1_1HeaderTable.html#a1f03bce888c80997e8b67ec378cdd723">bytes</a> = <a class="code" href="classproxygen_1_1HeaderTable.html#a114c19408859e2aafb37755401709f34">table_</a>[<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aa9ae7eecb864c907777a8cec818237da">absoluteToInternal</a>(<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#abaad0b009f26ce1cb032d7bbc96e84b4">minUsable_</a>)].bytes();</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    VLOG(5) &lt;&lt; <span class="stringliteral">&quot;Draining absolute index &quot;</span> &lt;&lt; <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#abaad0b009f26ce1cb032d7bbc96e84b4">minUsable_</a> &lt;&lt; <span class="stringliteral">&quot; bytes=&quot;</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            &lt;&lt; <a class="code" href="classproxygen_1_1HeaderTable.html#a1f03bce888c80997e8b67ec378cdd723">bytes</a> &lt;&lt; <span class="stringliteral">&quot; drainedBytes_= &quot;</span> &lt;&lt; (<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ab2b7fb27410abc6f56f28c48c896da32">drainedBytes_</a> + <a class="code" href="classproxygen_1_1HeaderTable.html#a1f03bce888c80997e8b67ec378cdd723">bytes</a>);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ab2b7fb27410abc6f56f28c48c896da32">drainedBytes_</a>  += <a class="code" href="classproxygen_1_1HeaderTable.html#a1f03bce888c80997e8b67ec378cdd723">bytes</a>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#abaad0b009f26ce1cb032d7bbc96e84b4">minUsable_</a>++;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  }</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_abaad0b009f26ce1cb032d7bbc96e84b4"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#abaad0b009f26ce1cb032d7bbc96e84b4">proxygen::QPACKHeaderTable::minUsable_</a></div><div class="ttdeci">uint32_t minUsable_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00224">QPACKHeaderTable.h:224</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_aac517bc8a554987a0d20006af242a7a8"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">proxygen::QPACKHeaderTable::baseIndex_</a></div><div class="ttdeci">uint32_t baseIndex_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00222">QPACKHeaderTable.h:222</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_aea47e8f45fe941908014113db1632923"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#aea47e8f45fe941908014113db1632923">proxygen::QPACKHeaderTable::internalToAbsolute</a></div><div class="ttdeci">uint32_t internalToAbsolute(uint32_t internalIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8cpp_source.html#l00270">QPACKHeaderTable.cpp:270</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a28433c7d006a61458e4c8a4f780c9a21"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a28433c7d006a61458e4c8a4f780c9a21">proxygen::HeaderTable::head_</a></div><div class="ttdeci">uint32_t head_</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8h_source.html#l00192">HeaderTable.h:192</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_aa9ae7eecb864c907777a8cec818237da"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#aa9ae7eecb864c907777a8cec818237da">proxygen::QPACKHeaderTable::absoluteToInternal</a></div><div class="ttdeci">uint32_t absoluteToInternal(uint32_t absoluteIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8cpp_source.html#l00276">QPACKHeaderTable.cpp:276</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a1f03bce888c80997e8b67ec378cdd723"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a1f03bce888c80997e8b67ec378cdd723">proxygen::HeaderTable::bytes</a></div><div class="ttdeci">uint32_t bytes() const </div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8h_source.html#l00112">HeaderTable.h:112</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_adbe72412a4c286870da504eb1f4ca144"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">proxygen::QPACKHeaderTable::refCount_</a></div><div class="ttdeci">std::unique_ptr&lt; std::vector&lt; uint16_t &gt; &gt; refCount_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00226">QPACKHeaderTable.h:226</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a9b136aaf7d5a76973b2003e91deb4a62"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a9b136aaf7d5a76973b2003e91deb4a62">proxygen::HeaderTable::bytes_</a></div><div class="ttdeci">uint32_t bytes_</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8h_source.html#l00188">HeaderTable.h:188</a></div></div>
<div class="ttc" id="namespaceproxygen_html_ab18179a16a0bebed81cf3f62dff11064abb1ca97ec761fc37101737ba0aa2e7c5"><div class="ttname"><a href="namespaceproxygen.html#ab18179a16a0bebed81cf3f62dff11064abb1ca97ec761fc37101737ba0aa2e7c5">proxygen::ZstdStatusType::ERROR</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a51ae7385ef1baf101c860e8ca607973d"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a51ae7385ef1baf101c860e8ca607973d">proxygen::HeaderTable::capacity_</a></div><div class="ttdeci">uint32_t capacity_</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8h_source.html#l00187">HeaderTable.h:187</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_ab2b7fb27410abc6f56f28c48c896da32"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#ab2b7fb27410abc6f56f28c48c896da32">proxygen::QPACKHeaderTable::drainedBytes_</a></div><div class="ttdeci">uint32_t drainedBytes_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00223">QPACKHeaderTable.h:223</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_afaead50c19bee0f4cac313c3f1521ecf"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#afaead50c19bee0f4cac313c3f1521ecf">proxygen::QPACKHeaderTable::minFree_</a></div><div class="ttdeci">uint32_t minFree_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00227">QPACKHeaderTable.h:227</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a114c19408859e2aafb37755401709f34"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a114c19408859e2aafb37755401709f34">proxygen::HeaderTable::table_</a></div><div class="ttdeci">std::vector&lt; HPACKHeader &gt; table_</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8h_source.html#l00189">HeaderTable.h:189</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a733f7bd056a003bbbf3e8f8d5ab9fa11"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a733f7bd056a003bbbf3e8f8d5ab9fa11">proxygen::HeaderTable::add</a></div><div class="ttdeci">virtual bool add(HPACKHeader header)</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8cpp_source.html#l00033">HeaderTable.cpp:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2f72a16b43e5f3fc9c1502b3282054dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void proxygen::QPACKHeaderTable::addRef </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>absIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a reference for the given index. Entries with non-zero references cannot be evicted </p>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00254">254</a> of file <a class="el" href="QPACKHeaderTable_8cpp_source.html">QPACKHeaderTable.cpp</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00276">absoluteToInternal()</a>, and <a class="el" href="QPACKHeaderTable_8h_source.html#l00226">refCount_</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8h_source.html#l00164">absoluteToRelative()</a>, and <a class="el" href="QPACKEncoder_8cpp_source.html#l00232">proxygen::QPACKEncoder::trackReference()</a>.</p>
<div class="fragment"><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                                               {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// refCount is 16 bits.  It should really never get this big in practice,</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="comment">// unless a decoder is not sending HEADER_ACK in a timely way.</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  CHECK(<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">refCount_</a>);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  (*refCount_)[<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aa9ae7eecb864c907777a8cec818237da">absoluteToInternal</a>(absIndex)]++;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_aa9ae7eecb864c907777a8cec818237da"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#aa9ae7eecb864c907777a8cec818237da">proxygen::QPACKHeaderTable::absoluteToInternal</a></div><div class="ttdeci">uint32_t absoluteToInternal(uint32_t absoluteIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8cpp_source.html#l00276">QPACKHeaderTable.cpp:276</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_adbe72412a4c286870da504eb1f4ca144"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">proxygen::QPACKHeaderTable::refCount_</a></div><div class="ttdeci">std::unique_ptr&lt; std::vector&lt; uint16_t &gt; &gt; refCount_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00226">QPACKHeaderTable.h:226</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa8434e37cc7bcbf0bc50b811b3a57031"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool proxygen::QPACKHeaderTable::canEvict </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>needed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return true if the table can evict needed bytes </p>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00192">192</a> of file <a class="el" href="QPACKHeaderTable_8cpp_source.html">QPACKHeaderTable.cpp</a>.</p>

<p>References <a class="el" href="HeaderTable_8h_source.html#l00187">proxygen::HeaderTable::capacity_</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00270">internalToAbsolute()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00225">maxAcked_</a>, <a class="el" href="HeaderTable_8cpp_source.html#l00213">proxygen::HeaderTable::next()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00226">refCount_</a>, <a class="el" href="HeaderTable_8h_source.html#l00105">proxygen::HeaderTable::size()</a>, <a class="el" href="HeaderTable_8h_source.html#l00191">proxygen::HeaderTable::size_</a>, <a class="el" href="HeaderTable_8h_source.html#l00189">proxygen::HeaderTable::table_</a>, and <a class="el" href="HeaderTable_8cpp_source.html#l00217">proxygen::HeaderTable::tail()</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8h_source.html#l00164">absoluteToRelative()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00057">canIndex()</a>, and <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00184">evict()</a>.</p>
<div class="fragment"><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                                               {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classproxygen_1_1HeaderTable.html#a9de8856182c6ac8c3560cec2cf490794">size_</a> == 0 || !<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">refCount_</a>) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">return</span> needed &lt;= <a class="code" href="classproxygen_1_1HeaderTable.html#a51ae7385ef1baf101c860e8ca607973d">capacity_</a>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  }</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  uint32_t freeable = 0;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  uint32_t i = <a class="code" href="classproxygen_1_1HeaderTable.html#a356dde60cbd9b58f37320f968de97a86">tail</a>();</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  uint32_t nChecked = 0;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordflow">while</span> (nChecked++ &lt; <a class="code" href="classproxygen_1_1HeaderTable.html#a8579a331163c2701e084d9506175ead9">size</a>() &amp;&amp; freeable &lt; needed &amp;&amp; ((*<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">refCount_</a>)[i] == 0) &amp;&amp;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;         <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aea47e8f45fe941908014113db1632923">internalToAbsolute</a>(i) &lt;= <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ad4c410cf904f758509b3763a2a1b766a">maxAcked_</a>) { <span class="comment">// don&#39;t evict unacked headers</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    freeable += <a class="code" href="classproxygen_1_1HeaderTable.html#a114c19408859e2aafb37755401709f34">table_</a>[i].bytes();</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    i = <a class="code" href="classproxygen_1_1HeaderTable.html#ae3223bb00879ea1f18775f7b6e908f58">next</a>(i);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  }</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keywordflow">if</span> (freeable &lt; needed) {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    VLOG(5) &lt;&lt; <span class="stringliteral">&quot;header=&quot;</span> &lt;&lt; <a class="code" href="classproxygen_1_1HeaderTable.html#a114c19408859e2aafb37755401709f34">table_</a>[i].name &lt;&lt; <span class="stringliteral">&quot; blocked eviction, recount=&quot;</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            &lt;&lt; (*refCount_)[i];</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;}</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_aea47e8f45fe941908014113db1632923"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#aea47e8f45fe941908014113db1632923">proxygen::QPACKHeaderTable::internalToAbsolute</a></div><div class="ttdeci">uint32_t internalToAbsolute(uint32_t internalIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8cpp_source.html#l00270">QPACKHeaderTable.cpp:270</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_adbe72412a4c286870da504eb1f4ca144"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">proxygen::QPACKHeaderTable::refCount_</a></div><div class="ttdeci">std::unique_ptr&lt; std::vector&lt; uint16_t &gt; &gt; refCount_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00226">QPACKHeaderTable.h:226</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_ae3223bb00879ea1f18775f7b6e908f58"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#ae3223bb00879ea1f18775f7b6e908f58">proxygen::HeaderTable::next</a></div><div class="ttdeci">uint32_t next(uint32_t i) const </div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8cpp_source.html#l00213">HeaderTable.cpp:213</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a51ae7385ef1baf101c860e8ca607973d"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a51ae7385ef1baf101c860e8ca607973d">proxygen::HeaderTable::capacity_</a></div><div class="ttdeci">uint32_t capacity_</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8h_source.html#l00187">HeaderTable.h:187</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a114c19408859e2aafb37755401709f34"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a114c19408859e2aafb37755401709f34">proxygen::HeaderTable::table_</a></div><div class="ttdeci">std::vector&lt; HPACKHeader &gt; table_</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8h_source.html#l00189">HeaderTable.h:189</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a8579a331163c2701e084d9506175ead9"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a8579a331163c2701e084d9506175ead9">proxygen::HeaderTable::size</a></div><div class="ttdeci">uint32_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8h_source.html#l00105">HeaderTable.h:105</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a356dde60cbd9b58f37320f968de97a86"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a356dde60cbd9b58f37320f968de97a86">proxygen::HeaderTable::tail</a></div><div class="ttdeci">uint32_t tail() const </div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8cpp_source.html#l00217">HeaderTable.cpp:217</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_ad4c410cf904f758509b3763a2a1b766a"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#ad4c410cf904f758509b3763a2a1b766a">proxygen::QPACKHeaderTable::maxAcked_</a></div><div class="ttdeci">uint32_t maxAcked_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00225">QPACKHeaderTable.h:225</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a9de8856182c6ac8c3560cec2cf490794"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a9de8856182c6ac8c3560cec2cf490794">proxygen::HeaderTable::size_</a></div><div class="ttdeci">uint32_t size_</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8h_source.html#l00191">HeaderTable.h:191</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad44b7487db0dcad52b944bcd9b0c3d5b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool proxygen::QPACKHeaderTable::canIndex </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classproxygen_1_1HPACKHeader.html">HPACKHeader</a> &amp;&#160;</td>
          <td class="paramname"><em>header</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true if the header can be added to the table. May be linear in the number of entries </p>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8h_source.html#l00057">57</a> of file <a class="el" href="QPACKHeaderTable_8h_source.html">QPACKHeaderTable.h</a>.</p>

<p>References <a class="el" href="HPACKHeader_8h_source.html#l00049">proxygen::HPACKHeader::bytes()</a>, <a class="el" href="HeaderTable_8h_source.html#l00188">proxygen::HeaderTable::bytes_</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00192">canEvict()</a>, <a class="el" href="HeaderTable_8h_source.html#l00187">proxygen::HeaderTable::capacity_</a>, and <a class="el" href="QPACKHeaderTable_8h_source.html#l00227">minFree_</a>.</p>

<p>Referenced by <a class="el" href="QPACKEncoder_8cpp_source.html#l00091">proxygen::QPACKEncoder::encodeHeaderQ()</a>, and <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00228">maybeDuplicate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                                           {</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keyword">auto</span> totalBytes = <a class="code" href="classproxygen_1_1HeaderTable.html#a9b136aaf7d5a76973b2003e91deb4a62">bytes_</a> + header.bytes();</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">// Don&#39;t index headers that would immediately be drained</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">return</span> ((header.bytes() &lt;= (<a class="code" href="classproxygen_1_1HeaderTable.html#a51ae7385ef1baf101c860e8ca607973d">capacity_</a> - <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#afaead50c19bee0f4cac313c3f1521ecf">minFree_</a>)) &amp;&amp;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            (totalBytes &lt;= <a class="code" href="classproxygen_1_1HeaderTable.html#a51ae7385ef1baf101c860e8ca607973d">capacity_</a> || <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aa8434e37cc7bcbf0bc50b811b3a57031">canEvict</a>(totalBytes - <a class="code" href="classproxygen_1_1HeaderTable.html#a51ae7385ef1baf101c860e8ca607973d">capacity_</a>)));</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  }</div><div class="ttc" id="classproxygen_1_1HeaderTable_html_a9b136aaf7d5a76973b2003e91deb4a62"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a9b136aaf7d5a76973b2003e91deb4a62">proxygen::HeaderTable::bytes_</a></div><div class="ttdeci">uint32_t bytes_</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8h_source.html#l00188">HeaderTable.h:188</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a51ae7385ef1baf101c860e8ca607973d"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a51ae7385ef1baf101c860e8ca607973d">proxygen::HeaderTable::capacity_</a></div><div class="ttdeci">uint32_t capacity_</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8h_source.html#l00187">HeaderTable.h:187</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_afaead50c19bee0f4cac313c3f1521ecf"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#afaead50c19bee0f4cac313c3f1521ecf">proxygen::QPACKHeaderTable::minFree_</a></div><div class="ttdeci">uint32_t minFree_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00227">QPACKHeaderTable.h:227</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_aa8434e37cc7bcbf0bc50b811b3a57031"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#aa8434e37cc7bcbf0bc50b811b3a57031">proxygen::QPACKHeaderTable::canEvict</a></div><div class="ttdeci">bool canEvict(uint32_t needed)</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8cpp_source.html#l00192">QPACKHeaderTable.cpp:192</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7acf709b3c58e89a33d70a409b81c237"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t proxygen::QPACKHeaderTable::evict </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>needed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>desiredCapacity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Evict entries to make space for the needed amount of bytes. </p>

<p>Reimplemented from <a class="el" href="classproxygen_1_1HeaderTable.html#a8503522cb62d6f94dc5aff4843e5c322">proxygen::HeaderTable</a>.</p>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00184">184</a> of file <a class="el" href="QPACKHeaderTable_8cpp_source.html">QPACKHeaderTable.cpp</a>.</p>

<p>References <a class="el" href="HeaderTable_8h_source.html#l00188">proxygen::HeaderTable::bytes_</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00192">canEvict()</a>, and <a class="el" href="HeaderTable_8cpp_source.html#l00196">proxygen::HeaderTable::evict()</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8h_source.html#l00164">absoluteToRelative()</a>.</p>
<div class="fragment"><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                                                          {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classproxygen_1_1HeaderTable.html#a9b136aaf7d5a76973b2003e91deb4a62">bytes_</a> + needed &lt; desiredCapacity ||</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      !<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aa8434e37cc7bcbf0bc50b811b3a57031">canEvict</a>(<a class="code" href="classproxygen_1_1HeaderTable.html#a9b136aaf7d5a76973b2003e91deb4a62">bytes_</a> + needed - desiredCapacity)) {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classproxygen_1_1HeaderTable.html#a8503522cb62d6f94dc5aff4843e5c322">HeaderTable::evict</a>(needed, desiredCapacity);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;}</div><div class="ttc" id="classproxygen_1_1HeaderTable_html_a8503522cb62d6f94dc5aff4843e5c322"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a8503522cb62d6f94dc5aff4843e5c322">proxygen::HeaderTable::evict</a></div><div class="ttdeci">virtual uint32_t evict(uint32_t needed, uint32_t desiredCapacity)</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8cpp_source.html#l00196">HeaderTable.cpp:196</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a9b136aaf7d5a76973b2003e91deb4a62"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a9b136aaf7d5a76973b2003e91deb4a62">proxygen::HeaderTable::bytes_</a></div><div class="ttdeci">uint32_t bytes_</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8h_source.html#l00188">HeaderTable.h:188</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_aa8434e37cc7bcbf0bc50b811b3a57031"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#aa8434e37cc7bcbf0bc50b811b3a57031">proxygen::QPACKHeaderTable::canEvict</a></div><div class="ttdeci">bool canEvict(uint32_t needed)</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8cpp_source.html#l00192">QPACKHeaderTable.cpp:192</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab119df15f8127d3f643068d137c145e2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t proxygen::QPACKHeaderTable::getBaseIndex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return Base Index - the total number of headers inserted to this table, including evictions </p>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8h_source.html#l00042">42</a> of file <a class="el" href="QPACKHeaderTable_8h_source.html">QPACKHeaderTable.h</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8h_source.html#l00222">baseIndex_</a>.</p>

<p>Referenced by <a class="el" href="QPACKDecoder_8cpp_source.html#l00025">proxygen::QPACKDecoder::decodeStreaming()</a>, <a class="el" href="QPACKDecoder_8cpp_source.html#l00396">proxygen::QPACKDecoder::drainQueue()</a>, <a class="el" href="QPACKEncoder_8cpp_source.html#l00091">proxygen::QPACKEncoder::encodeHeaderQ()</a>, <a class="el" href="QPACKEncoder_8cpp_source.html#l00041">proxygen::QPACKEncoder::encodeQ()</a>, <a class="el" href="QPACKDecoder_8cpp_source.html#l00320">proxygen::QPACKDecoder::encodeTableStateSync()</a>, <a class="el" href="QPACKDecoder_8cpp_source.html#l00357">proxygen::QPACKDecoder::enqueueHeaderBlock()</a>, and <a class="el" href="QPACKDecoder_8cpp_source.html#l00055">proxygen::QPACKDecoder::handleBaseIndex()</a>.</p>
<div class="fragment"><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                                {</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">baseIndex_</a>;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  }</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_aac517bc8a554987a0d20006af242a7a8"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">proxygen::QPACKHeaderTable::baseIndex_</a></div><div class="ttdeci">uint32_t baseIndex_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00222">QPACKHeaderTable.h:222</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad120ca35c65d3e1d40a235baf8c322d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classproxygen_1_1HPACKHeader.html">HPACKHeader</a> &amp; proxygen::QPACKHeaderTable::getHeader </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>base</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the table entry at the given external index. If base is 0, index is relative to head/baseIndex. If base is non-zero, index is relative to base.</p>
<dl class="section return"><dt>Returns</dt><dd>the header entry </dd></dl>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00129">129</a> of file <a class="el" href="QPACKHeaderTable_8cpp_source.html">QPACKHeaderTable.cpp</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00212">isValid()</a>, <a class="el" href="HeaderTable_8h_source.html#l00189">proxygen::HeaderTable::table_</a>, and <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00281">toInternal()</a>.</p>

<p>Referenced by <a class="el" href="QPACKContext_8cpp_source.html#l00018">proxygen::QPACKContext::getHeader()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00228">maybeDuplicate()</a>, and <a class="el" href="QPACKHeaderTable_8h_source.html#l00091">setMinFreeForTesting()</a>.</p>
<div class="fragment"><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                                                                    {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  CHECK(<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#a19186fd873984d81664ec1f591827a4a">isValid</a>(index, base));</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classproxygen_1_1HeaderTable.html#a114c19408859e2aafb37755401709f34">table_</a>[<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ab9dadf2391332a9a4f538a0efe7e479b">toInternal</a>(index, base)];</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_ab9dadf2391332a9a4f538a0efe7e479b"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#ab9dadf2391332a9a4f538a0efe7e479b">proxygen::QPACKHeaderTable::toInternal</a></div><div class="ttdeci">uint32_t toInternal(uint32_t externalIndex, uint32_t base) const </div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8cpp_source.html#l00281">QPACKHeaderTable.cpp:281</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_a19186fd873984d81664ec1f591827a4a"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#a19186fd873984d81664ec1f591827a4a">proxygen::QPACKHeaderTable::isValid</a></div><div class="ttdeci">bool isValid(uint32_t index, uint32_t base=0) const </div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8cpp_source.html#l00212">QPACKHeaderTable.cpp:212</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a114c19408859e2aafb37755401709f34"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a114c19408859e2aafb37755401709f34">proxygen::HeaderTable::table_</a></div><div class="ttdeci">std::vector&lt; HPACKHeader &gt; table_</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8h_source.html#l00189">HeaderTable.h:189</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3db9f10b5869b05e1f3846edd8d0e268"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t proxygen::QPACKHeaderTable::getIndex </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classproxygen_1_1HPACKHeader.html">HPACKHeader</a> &amp;&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allowVulnerable</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the index of the given header, if found. The index is relative to head/baseIndex. If allowVulnerable is true, the index returned may not have been acknowledged by the decoder.</p>
<dl class="section return"><dt>Returns</dt><dd>0 in case the header is not found </dd></dl>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00088">88</a> of file <a class="el" href="QPACKHeaderTable_8cpp_source.html">QPACKHeaderTable.cpp</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00093">getIndexImpl()</a>, <a class="el" href="HPACKHeader_8h_source.html#l00082">proxygen::HPACKHeader::name</a>, and <a class="el" href="HPACKHeader_8h_source.html#l00083">proxygen::HPACKHeader::value</a>.</p>

<p>Referenced by <a class="el" href="QPACKEncoder_8cpp_source.html#l00091">proxygen::QPACKEncoder::encodeHeaderQ()</a>, and <a class="el" href="QPACKHeaderTable_8h_source.html#l00091">setMinFreeForTesting()</a>.</p>
<div class="fragment"><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                                                                {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ac770b32b74646a20489512329bbbac0f">getIndexImpl</a>(header.name, header.value, <span class="keyword">false</span>, allowVulnerable);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_ac770b32b74646a20489512329bbbac0f"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#ac770b32b74646a20489512329bbbac0f">proxygen::QPACKHeaderTable::getIndexImpl</a></div><div class="ttdeci">uint32_t getIndexImpl(const HPACKHeaderName &amp;header, const folly::fbstring &amp;value, bool nameOnly, bool allowVulnerable=true) const </div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8cpp_source.html#l00093">QPACKHeaderTable.cpp:93</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac770b32b74646a20489512329bbbac0f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t proxygen::QPACKHeaderTable::getIndexImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classproxygen_1_1HPACKHeaderName.html">HPACKHeaderName</a> &amp;&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const folly::fbstring &amp;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>nameOnly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allowVulnerable</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00093">93</a> of file <a class="el" href="QPACKHeaderTable_8cpp_source.html">QPACKHeaderTable.cpp</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00270">internalToAbsolute()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00225">maxAcked_</a>, <a class="el" href="HeaderTable_8h_source.html#l00194">proxygen::HeaderTable::names_</a>, <a class="el" href="HeaderTable_8h_source.html#l00189">proxygen::HeaderTable::table_</a>, <a class="el" href="HeaderTable_8cpp_source.html#l00228">proxygen::HeaderTable::toExternal()</a>, and <a class="el" href="QPACKHeaderTable_8h_source.html#l00025">UNACKED</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8h_source.html#l00164">absoluteToRelative()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00088">getIndex()</a>, and <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00123">nameIndex()</a>.</p>
<div class="fragment"><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                                                                    {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keyword">auto</span> it = <a class="code" href="classproxygen_1_1HeaderTable.html#ab0cf4f76095d8fe357c7df3629353bfc">names_</a>.find(headerName);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordflow">if</span> (it == <a class="code" href="classproxygen_1_1HeaderTable.html#ab0cf4f76095d8fe357c7df3629353bfc">names_</a>.end()) {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keywordtype">bool</span> encoderHasUnackedEntry = <span class="keyword">false</span>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="comment">// Searching backwards gives smallest index, but more likely vulnerable</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="comment">// Searching forwards least likely vulnerable but could prevent eviction</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> indexIt = it-&gt;second.rbegin(); indexIt != it-&gt;second.rend();</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;       ++indexIt) {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keyword">auto</span> i = *indexIt;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">if</span> (nameOnly || <a class="code" href="classproxygen_1_1HeaderTable.html#a114c19408859e2aafb37755401709f34">table_</a>[i].value == value) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      <span class="comment">// allow vulnerable or not vulnerable</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      <span class="keywordflow">if</span> (allowVulnerable || <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aea47e8f45fe941908014113db1632923">internalToAbsolute</a>(i) &lt;= <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ad4c410cf904f758509b3763a2a1b766a">maxAcked_</a>) {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="comment">// index *may* be draining, caller has to check</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classproxygen_1_1HeaderTable.html#ae79a881ef83bb8ddc7cc99e644f3288f">toExternal</a>(i);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        encoderHasUnackedEntry = <span class="keyword">true</span>;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordflow">if</span> (encoderHasUnackedEntry) {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#a0e3284c60186423e7cea31c5fbe11852a3b454dca9b81f8a234f91d3912cf5ca4">UNACKED</a>;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_aea47e8f45fe941908014113db1632923"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#aea47e8f45fe941908014113db1632923">proxygen::QPACKHeaderTable::internalToAbsolute</a></div><div class="ttdeci">uint32_t internalToAbsolute(uint32_t internalIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8cpp_source.html#l00270">QPACKHeaderTable.cpp:270</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_ae79a881ef83bb8ddc7cc99e644f3288f"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#ae79a881ef83bb8ddc7cc99e644f3288f">proxygen::HeaderTable::toExternal</a></div><div class="ttdeci">static uint32_t toExternal(uint32_t head, uint32_t length, uint32_t internalIndex)</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8cpp_source.html#l00228">HeaderTable.cpp:228</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_a0e3284c60186423e7cea31c5fbe11852a3b454dca9b81f8a234f91d3912cf5ca4"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#a0e3284c60186423e7cea31c5fbe11852a3b454dca9b81f8a234f91d3912cf5ca4">proxygen::QPACKHeaderTable::UNACKED</a></div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00025">QPACKHeaderTable.h:25</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a114c19408859e2aafb37755401709f34"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a114c19408859e2aafb37755401709f34">proxygen::HeaderTable::table_</a></div><div class="ttdeci">std::vector&lt; HPACKHeader &gt; table_</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8h_source.html#l00189">HeaderTable.h:189</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_ab0cf4f76095d8fe357c7df3629353bfc"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#ab0cf4f76095d8fe357c7df3629353bfc">proxygen::HeaderTable::names_</a></div><div class="ttdeci">names_map names_</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8h_source.html#l00194">HeaderTable.h:194</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_ad4c410cf904f758509b3763a2a1b766a"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#ad4c410cf904f758509b3763a2a1b766a">proxygen::QPACKHeaderTable::maxAcked_</a></div><div class="ttdeci">uint32_t maxAcked_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00225">QPACKHeaderTable.h:225</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aafc5cb31776a6095c07a49ebe6c4b783"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t proxygen::QPACKHeaderTable::getMaxEntries </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="QPACKHeaderTable_8h_source.html#l00034">34</a> of file <a class="el" href="QPACKHeaderTable_8h_source.html">QPACKHeaderTable.h</a>.</p>

<p>References <a class="el" href="HeaderTable_8h_source.html#l00187">proxygen::HeaderTable::capacity_</a>, and <a class="el" href="HeaderTable_8cpp_source.html#l00098">proxygen::HeaderTable::getMaxTableLength()</a>.</p>

<p>Referenced by <a class="el" href="QPACKEncoder_8cpp_source.html#l00041">proxygen::QPACKEncoder::encodeQ()</a>, and <a class="el" href="QPACKDecoder_8cpp_source.html#l00055">proxygen::QPACKDecoder::handleBaseIndex()</a>.</p>
<div class="fragment"><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                                 {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classproxygen_1_1HeaderTable.html#af598a5ba14964459ae073173c5dfcd63">getMaxTableLength</a>(<a class="code" href="classproxygen_1_1HeaderTable.html#a51ae7385ef1baf101c860e8ca607973d">capacity_</a>);</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  }</div><div class="ttc" id="classproxygen_1_1HeaderTable_html_af598a5ba14964459ae073173c5dfcd63"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#af598a5ba14964459ae073173c5dfcd63">proxygen::HeaderTable::getMaxTableLength</a></div><div class="ttdeci">uint32_t getMaxTableLength(uint32_t capacityVal) const </div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8cpp_source.html#l00098">HeaderTable.cpp:98</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a51ae7385ef1baf101c860e8ca607973d"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a51ae7385ef1baf101c860e8ca607973d">proxygen::HeaderTable::capacity_</a></div><div class="ttdeci">uint32_t capacity_</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8h_source.html#l00187">HeaderTable.h:187</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4a34bdab42cd92d5f865fc439243c383"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void proxygen::QPACKHeaderTable::increaseTableLengthTo </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>newLength</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classproxygen_1_1HeaderTable.html#af24d57b442441844ac18fbd870eadb8c">proxygen::HeaderTable</a>.</p>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00159">159</a> of file <a class="el" href="QPACKHeaderTable_8cpp_source.html">QPACKHeaderTable.cpp</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8h_source.html#l00222">baseIndex_</a>, <a class="el" href="HeaderTable_8h_source.html#l00192">proxygen::HeaderTable::head_</a>, <a class="el" href="HeaderTable_8cpp_source.html#l00159">proxygen::HeaderTable::increaseTableLengthTo()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00270">internalToAbsolute()</a>, <a class="el" href="HeaderTable_8h_source.html#l00191">proxygen::HeaderTable::size_</a>, and <a class="el" href="HeaderTable_8cpp_source.html#l00217">proxygen::HeaderTable::tail()</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8h_source.html#l00164">absoluteToRelative()</a>.</p>
<div class="fragment"><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                                                               {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <a class="code" href="classproxygen_1_1HeaderTable.html#af24d57b442441844ac18fbd870eadb8c">HeaderTable::increaseTableLengthTo</a>(newLength);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classproxygen_1_1HeaderTable.html#a9de8856182c6ac8c3560cec2cf490794">size_</a> &gt; 0) {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    DCHECK_EQ(<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aea47e8f45fe941908014113db1632923">internalToAbsolute</a>(<a class="code" href="classproxygen_1_1HeaderTable.html#a28433c7d006a61458e4c8a4f780c9a21">head_</a>), <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">baseIndex_</a>);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    DCHECK_EQ(<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aea47e8f45fe941908014113db1632923">internalToAbsolute</a>(<a class="code" href="classproxygen_1_1HeaderTable.html#a356dde60cbd9b58f37320f968de97a86">tail</a>()), <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">baseIndex_</a> - <a class="code" href="classproxygen_1_1HeaderTable.html#a9de8856182c6ac8c3560cec2cf490794">size_</a> + 1);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_aac517bc8a554987a0d20006af242a7a8"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">proxygen::QPACKHeaderTable::baseIndex_</a></div><div class="ttdeci">uint32_t baseIndex_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00222">QPACKHeaderTable.h:222</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_aea47e8f45fe941908014113db1632923"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#aea47e8f45fe941908014113db1632923">proxygen::QPACKHeaderTable::internalToAbsolute</a></div><div class="ttdeci">uint32_t internalToAbsolute(uint32_t internalIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8cpp_source.html#l00270">QPACKHeaderTable.cpp:270</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a28433c7d006a61458e4c8a4f780c9a21"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a28433c7d006a61458e4c8a4f780c9a21">proxygen::HeaderTable::head_</a></div><div class="ttdeci">uint32_t head_</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8h_source.html#l00192">HeaderTable.h:192</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_af24d57b442441844ac18fbd870eadb8c"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#af24d57b442441844ac18fbd870eadb8c">proxygen::HeaderTable::increaseTableLengthTo</a></div><div class="ttdeci">virtual void increaseTableLengthTo(uint32_t newLength)</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8cpp_source.html#l00159">HeaderTable.cpp:159</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a356dde60cbd9b58f37320f968de97a86"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a356dde60cbd9b58f37320f968de97a86">proxygen::HeaderTable::tail</a></div><div class="ttdeci">uint32_t tail() const </div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8cpp_source.html#l00217">HeaderTable.cpp:217</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a9de8856182c6ac8c3560cec2cf490794"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a9de8856182c6ac8c3560cec2cf490794">proxygen::HeaderTable::size_</a></div><div class="ttdeci">uint32_t size_</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8h_source.html#l00191">HeaderTable.h:191</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aea47e8f45fe941908014113db1632923"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t proxygen::QPACKHeaderTable::internalToAbsolute </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>internalIndex</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00270">270</a> of file <a class="el" href="QPACKHeaderTable_8cpp_source.html">QPACKHeaderTable.cpp</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8h_source.html#l00156">relativeToAbsolute()</a>, and <a class="el" href="HeaderTable_8cpp_source.html#l00228">proxygen::HeaderTable::toExternal()</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8h_source.html#l00164">absoluteToRelative()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00049">add()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00192">canEvict()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00093">getIndexImpl()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00159">increaseTableLengthTo()</a>, and <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00135">removeLast()</a>.</p>
<div class="fragment"><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                                {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#a44b64e0b7d835335091c9541a19af24e">relativeToAbsolute</a>(<a class="code" href="classproxygen_1_1HeaderTable.html#ae79a881ef83bb8ddc7cc99e644f3288f">toExternal</a>(internalIndex));</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;}</div><div class="ttc" id="classproxygen_1_1HeaderTable_html_ae79a881ef83bb8ddc7cc99e644f3288f"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#ae79a881ef83bb8ddc7cc99e644f3288f">proxygen::HeaderTable::toExternal</a></div><div class="ttdeci">static uint32_t toExternal(uint32_t head, uint32_t length, uint32_t internalIndex)</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8cpp_source.html#l00228">HeaderTable.cpp:228</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_a44b64e0b7d835335091c9541a19af24e"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#a44b64e0b7d835335091c9541a19af24e">proxygen::QPACKHeaderTable::relativeToAbsolute</a></div><div class="ttdeci">uint32_t relativeToAbsolute(uint32_t relativeIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00156">QPACKHeaderTable.h:156</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af31a6edb5f7d8a6cdff785420707a1cb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool proxygen::QPACKHeaderTable::isDraining </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>relativeIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true if the index should not be used so table space can be freed </p>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8h_source.html#l00067">67</a> of file <a class="el" href="QPACKHeaderTable_8h_source.html">QPACKHeaderTable.h</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00049">add()</a>, <a class="el" href="HeaderTable_8h_source.html#l00086">proxygen::HeaderTable::capacity()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00228">maybeDuplicate()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00224">minUsable_</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00156">relativeToAbsolute()</a>, and <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00078">setCapacity()</a>.</p>
<div class="fragment"><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                                          {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#a44b64e0b7d835335091c9541a19af24e">relativeToAbsolute</a>(relativeIndex) &lt; <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#abaad0b009f26ce1cb032d7bbc96e84b4">minUsable_</a>;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  }</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_abaad0b009f26ce1cb032d7bbc96e84b4"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#abaad0b009f26ce1cb032d7bbc96e84b4">proxygen::QPACKHeaderTable::minUsable_</a></div><div class="ttdeci">uint32_t minUsable_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00224">QPACKHeaderTable.h:224</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_a44b64e0b7d835335091c9541a19af24e"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#a44b64e0b7d835335091c9541a19af24e">proxygen::QPACKHeaderTable::relativeToAbsolute</a></div><div class="ttdeci">uint32_t relativeToAbsolute(uint32_t relativeIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00156">QPACKHeaderTable.h:156</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a19186fd873984d81664ec1f591827a4a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool proxygen::QPACKHeaderTable::isValid </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>base</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if an external index is valid. If base is 0, index is relative to head/baseIndex. If base is non-zero, index is relative to base. </p>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00212">212</a> of file <a class="el" href="QPACKHeaderTable_8cpp_source.html">QPACKHeaderTable.cpp</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8h_source.html#l00222">baseIndex_</a>, and <a class="el" href="HeaderTable_8cpp_source.html#l00204">proxygen::HeaderTable::isValid()</a>.</p>

<p>Referenced by <a class="el" href="QPACKEncoder_8cpp_source.html#l00091">proxygen::QPACKEncoder::encodeHeaderQ()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00129">getHeader()</a>, <a class="el" href="QPACKDecoder_8cpp_source.html#l00307">proxygen::QPACKDecoder::isValid()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00228">maybeDuplicate()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00156">relativeToAbsolute()</a>, and <a class="el" href="QPACKHeaderTable_8h_source.html#l00091">setMinFreeForTesting()</a>.</p>
<div class="fragment"><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                                                                  {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  int64_t testIndex = index;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">if</span> (base &gt; 0) {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keyword">auto</span> baseOffset = ((int64_t)base - (int64_t)<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">baseIndex_</a>);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="comment">// recompute relative to current baseIndex_.  testIndex may go negative</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">// if this is a reference to an entry that hasn&#39;t arrived yet</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    testIndex -= baseOffset;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  }</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classproxygen_1_1HeaderTable.html#a11c66735867cf9b3c55d463a36c1c096">HeaderTable::isValid</a>(testIndex);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_aac517bc8a554987a0d20006af242a7a8"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">proxygen::QPACKHeaderTable::baseIndex_</a></div><div class="ttdeci">uint32_t baseIndex_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00222">QPACKHeaderTable.h:222</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a11c66735867cf9b3c55d463a36c1c096"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a11c66735867cf9b3c55d463a36c1c096">proxygen::HeaderTable::isValid</a></div><div class="ttdeci">bool isValid(uint32_t index) const </div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8cpp_source.html#l00204">HeaderTable.cpp:204</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac5a39f3c399710cfba68374856577642"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool proxygen::QPACKHeaderTable::isVulnerable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>absIndex</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true if the absolute index has not been ack'ed yet. </p>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8h_source.html#l00049">49</a> of file <a class="el" href="QPACKHeaderTable_8h_source.html">QPACKHeaderTable.h</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8h_source.html#l00225">maxAcked_</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00228">maybeDuplicate()</a>, <a class="el" href="QPACKContextTests_8cpp_source.html#l00516">TEST()</a>, and <a class="el" href="QPACKEncoder_8cpp_source.html#l00232">proxygen::QPACKEncoder::trackReference()</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                                             {</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">return</span> (absIndex &gt; <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ad4c410cf904f758509b3763a2a1b766a">maxAcked_</a>);</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  }</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_ad4c410cf904f758509b3763a2a1b766a"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#ad4c410cf904f758509b3763a2a1b766a">proxygen::QPACKHeaderTable::maxAcked_</a></div><div class="ttdeci">uint32_t maxAcked_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00225">QPACKHeaderTable.h:225</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae8fffce8e2f4578bd3eab9e6397ea084"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; bool, uint32_t &gt; proxygen::QPACKHeaderTable::maybeDuplicate </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>relativeIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allowVulnerable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the absolute index for a reference to the header at relativeIndex, along with a boolean indicating if the returned index is a duplicate. It may return 0 if the entry at relativeIndex was draining and could not be duplicated, or vulnerable references are not allowed. </p>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00228">228</a> of file <a class="el" href="QPACKHeaderTable_8cpp_source.html">QPACKHeaderTable.cpp</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00049">add()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00222">baseIndex_</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00057">canIndex()</a>, <a class="el" href="HPACKHeader_8h_source.html#l00071">proxygen::HPACKHeader::copy()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00129">getHeader()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00212">isValid()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00049">isVulnerable()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00224">minUsable_</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00156">relativeToAbsolute()</a>, and <a class="el" href="QPACKHeaderTable_8h_source.html#l00025">UNACKED</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8h_source.html#l00067">isDraining()</a>, and <a class="el" href="QPACKEncoder_8cpp_source.html#l00169">proxygen::QPACKEncoder::maybeDuplicate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                            {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordflow">if</span> (relativeIndex == <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#a0e3284c60186423e7cea31c5fbe11852a3b454dca9b81f8a234f91d3912cf5ca4">UNACKED</a>) {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">return</span> {<span class="keyword">false</span>, 0};</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  DCHECK(<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#a19186fd873984d81664ec1f591827a4a">isValid</a>(relativeIndex));</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  uint32_t absIndex = <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#a44b64e0b7d835335091c9541a19af24e">relativeToAbsolute</a>(relativeIndex);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  DCHECK(!<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ac5a39f3c399710cfba68374856577642">isVulnerable</a>(absIndex) || allowVulnerable);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">if</span> (absIndex &lt; <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#abaad0b009f26ce1cb032d7bbc96e84b4">minUsable_</a>) {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="comment">// draining</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keyword">const</span> HPACKHeader&amp; header = <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ad120ca35c65d3e1d40a235baf8c322d3">getHeader</a>(relativeIndex);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ad44b7487db0dcad52b944bcd9b0c3d5b">canIndex</a>(header)) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      CHECK(<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#a92966263016752609108f97a231e18ca">add</a>(header.copy()));</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <span class="keywordflow">if</span> (allowVulnerable) {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">return</span> {<span class="keyword">true</span>, <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">baseIndex_</a>};</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">return</span> {<span class="keyword">true</span>, 0};</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <span class="keywordflow">return</span> {<span class="keyword">false</span>, 0};</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    }</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  }</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordflow">return</span> {<span class="keyword">false</span>, absIndex};</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;}</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_abaad0b009f26ce1cb032d7bbc96e84b4"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#abaad0b009f26ce1cb032d7bbc96e84b4">proxygen::QPACKHeaderTable::minUsable_</a></div><div class="ttdeci">uint32_t minUsable_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00224">QPACKHeaderTable.h:224</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_aac517bc8a554987a0d20006af242a7a8"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">proxygen::QPACKHeaderTable::baseIndex_</a></div><div class="ttdeci">uint32_t baseIndex_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00222">QPACKHeaderTable.h:222</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_ac5a39f3c399710cfba68374856577642"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#ac5a39f3c399710cfba68374856577642">proxygen::QPACKHeaderTable::isVulnerable</a></div><div class="ttdeci">bool isVulnerable(uint32_t absIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00049">QPACKHeaderTable.h:49</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_a0e3284c60186423e7cea31c5fbe11852a3b454dca9b81f8a234f91d3912cf5ca4"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#a0e3284c60186423e7cea31c5fbe11852a3b454dca9b81f8a234f91d3912cf5ca4">proxygen::QPACKHeaderTable::UNACKED</a></div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00025">QPACKHeaderTable.h:25</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_a92966263016752609108f97a231e18ca"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#a92966263016752609108f97a231e18ca">proxygen::QPACKHeaderTable::add</a></div><div class="ttdeci">bool add(HPACKHeader header) override</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8cpp_source.html#l00049">QPACKHeaderTable.cpp:49</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_ad44b7487db0dcad52b944bcd9b0c3d5b"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#ad44b7487db0dcad52b944bcd9b0c3d5b">proxygen::QPACKHeaderTable::canIndex</a></div><div class="ttdeci">bool canIndex(const HPACKHeader &amp;header)</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00057">QPACKHeaderTable.h:57</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_a19186fd873984d81664ec1f591827a4a"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#a19186fd873984d81664ec1f591827a4a">proxygen::QPACKHeaderTable::isValid</a></div><div class="ttdeci">bool isValid(uint32_t index, uint32_t base=0) const </div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8cpp_source.html#l00212">QPACKHeaderTable.cpp:212</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_ad120ca35c65d3e1d40a235baf8c322d3"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#ad120ca35c65d3e1d40a235baf8c322d3">proxygen::QPACKHeaderTable::getHeader</a></div><div class="ttdeci">const HPACKHeader &amp; getHeader(uint32_t index, uint32_t base=0) const </div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8cpp_source.html#l00129">QPACKHeaderTable.cpp:129</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_a44b64e0b7d835335091c9541a19af24e"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#a44b64e0b7d835335091c9541a19af24e">proxygen::QPACKHeaderTable::relativeToAbsolute</a></div><div class="ttdeci">uint32_t relativeToAbsolute(uint32_t relativeIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00156">QPACKHeaderTable.h:156</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3d56929d08f697c09a26863d8f462051"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t proxygen::QPACKHeaderTable::nameIndex </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classproxygen_1_1HPACKHeaderName.html">HPACKHeaderName</a> &amp;&#160;</td>
          <td class="paramname"><em>headerName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allowVulnerable</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get any index of a header that has the given name. From all the headers with the given name we pick the last one added to the header table, but the way we pick the header can be arbitrary.</p>
<p>See getIndex for a description of base/allowVulnerable </p>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00123">123</a> of file <a class="el" href="QPACKHeaderTable_8cpp_source.html">QPACKHeaderTable.cpp</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00093">getIndexImpl()</a>.</p>

<p>Referenced by <a class="el" href="QPACKEncoder_8cpp_source.html#l00186">proxygen::QPACKEncoder::getNameIndexQ()</a>, and <a class="el" href="QPACKHeaderTable_8h_source.html#l00091">setMinFreeForTesting()</a>.</p>
<div class="fragment"><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                                                                 {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  folly::fbstring value;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ac770b32b74646a20489512329bbbac0f">getIndexImpl</a>(headerName, value, <span class="keyword">true</span> <span class="comment">/* name only */</span>, allowVulnerable);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_ac770b32b74646a20489512329bbbac0f"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#ac770b32b74646a20489512329bbbac0f">proxygen::QPACKHeaderTable::getIndexImpl</a></div><div class="ttdeci">uint32_t getIndexImpl(const HPACKHeaderName &amp;header, const folly::fbstring &amp;value, bool nameOnly, bool allowVulnerable=true) const </div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8cpp_source.html#l00093">QPACKHeaderTable.cpp:93</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad4abb796fef2de98cf50e7285b2a1fae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool proxygen::QPACKHeaderTable::onTableStateSync </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>inserts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="QPACKHeaderTable_8h_source.html#l00131">131</a> of file <a class="el" href="QPACKHeaderTable_8h_source.html">QPACKHeaderTable.h</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8h_source.html#l00222">baseIndex_</a>, <a class="el" href="namespaceproxygen.html#ab18179a16a0bebed81cf3f62dff11064abb1ca97ec761fc37101737ba0aa2e7c5">proxygen::ERROR</a>, and <a class="el" href="QPACKHeaderTable_8h_source.html#l00225">maxAcked_</a>.</p>

<p>Referenced by <a class="el" href="QPACKEncoder_8cpp_source.html#l00351">proxygen::QPACKEncoder::onTableStateSync()</a>.</p>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                                          {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="comment">// compare this way to avoid overflow</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">if</span> (inserts &gt; <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">baseIndex_</a> ||</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ad4c410cf904f758509b3763a2a1b766a">maxAcked_</a> &gt; <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">baseIndex_</a> - inserts) {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      LOG(<a class="code" href="namespaceproxygen.html#ab18179a16a0bebed81cf3f62dff11064abb1ca97ec761fc37101737ba0aa2e7c5">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;Decoder ack&#39;d too much maxAcked_=&quot;</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                 &lt;&lt; <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ad4c410cf904f758509b3763a2a1b766a">maxAcked_</a> &lt;&lt; <span class="stringliteral">&quot; baseIndex_=&quot;</span> &lt;&lt; <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">baseIndex_</a></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot; inserts=&quot;</span> &lt;&lt; inserts;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ad4c410cf904f758509b3763a2a1b766a">maxAcked_</a> += inserts;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    CHECK_LE(<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ad4c410cf904f758509b3763a2a1b766a">maxAcked_</a>, <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">baseIndex_</a>);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  }</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_aac517bc8a554987a0d20006af242a7a8"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">proxygen::QPACKHeaderTable::baseIndex_</a></div><div class="ttdeci">uint32_t baseIndex_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00222">QPACKHeaderTable.h:222</a></div></div>
<div class="ttc" id="namespaceproxygen_html_ab18179a16a0bebed81cf3f62dff11064abb1ca97ec761fc37101737ba0aa2e7c5"><div class="ttname"><a href="namespaceproxygen.html#ab18179a16a0bebed81cf3f62dff11064abb1ca97ec761fc37101737ba0aa2e7c5">proxygen::ZstdStatusType::ERROR</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_ad4c410cf904f758509b3763a2a1b766a"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#ad4c410cf904f758509b3763a2a1b766a">proxygen::QPACKHeaderTable::maxAcked_</a></div><div class="ttdeci">uint32_t maxAcked_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00225">QPACKHeaderTable.h:225</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac43c84ae515682f0ef856ef00eb869da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html">QPACKHeaderTable</a>&amp; proxygen::QPACKHeaderTable::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classproxygen_1_1QPACKHeaderTable.html">QPACKHeaderTable</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="QPACKHeaderTable_8h_source.html#l00030">~QPACKHeaderTable()</a>.</p>

</div>
</div>
<a class="anchor" id="a44b64e0b7d835335091c9541a19af24e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t proxygen::QPACKHeaderTable::relativeToAbsolute </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>relativeIndex</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Convert a relative index to an absolute index </p>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8h_source.html#l00156">156</a> of file <a class="el" href="QPACKHeaderTable_8h_source.html">QPACKHeaderTable.h</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8h_source.html#l00222">baseIndex_</a>, and <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00212">isValid()</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00270">internalToAbsolute()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00067">isDraining()</a>, and <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00228">maybeDuplicate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                                                            {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    DCHECK(<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#a19186fd873984d81664ec1f591827a4a">isValid</a>(relativeIndex, 0));</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">baseIndex_</a> - relativeIndex + 1;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  }</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_aac517bc8a554987a0d20006af242a7a8"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">proxygen::QPACKHeaderTable::baseIndex_</a></div><div class="ttdeci">uint32_t baseIndex_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00222">QPACKHeaderTable.h:222</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_a19186fd873984d81664ec1f591827a4a"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#a19186fd873984d81664ec1f591827a4a">proxygen::QPACKHeaderTable::isValid</a></div><div class="ttdeci">bool isValid(uint32_t index, uint32_t base=0) const </div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8cpp_source.html#l00212">QPACKHeaderTable.cpp:212</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aea7ebea22434b56fc18a77f972e4718a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t proxygen::QPACKHeaderTable::removeLast </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Removes one header entry from the beginning of the header table. </p>

<p>Reimplemented from <a class="el" href="classproxygen_1_1HeaderTable.html#a04e79a9372362641082e61130c3e8dbb">proxygen::HeaderTable</a>.</p>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00135">135</a> of file <a class="el" href="QPACKHeaderTable_8cpp_source.html">QPACKHeaderTable.cpp</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8h_source.html#l00222">baseIndex_</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00223">drainedBytes_</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00270">internalToAbsolute()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00224">minUsable_</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00226">refCount_</a>, <a class="el" href="HeaderTable_8cpp_source.html#l00105">proxygen::HeaderTable::removeLast()</a>, <a class="el" href="HeaderTable_8h_source.html#l00105">proxygen::HeaderTable::size()</a>, and <a class="el" href="HeaderTable_8cpp_source.html#l00217">proxygen::HeaderTable::tail()</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8h_source.html#l00164">absoluteToRelative()</a>.</p>
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                                      {</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keyword">auto</span> idx = <a class="code" href="classproxygen_1_1HeaderTable.html#a356dde60cbd9b58f37320f968de97a86">tail</a>();</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">refCount_</a>) {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    CHECK_EQ((*<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">refCount_</a>)[idx], 0) &lt;&lt; <span class="stringliteral">&quot;Removed header with nonzero references&quot;</span>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keyword">auto</span> removedBytes = <a class="code" href="classproxygen_1_1HeaderTable.html#a04e79a9372362641082e61130c3e8dbb">HeaderTable::removeLast</a>();</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="comment">// Only non-zero when minUsable_ &gt; baseIndex_ - size_.</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ab2b7fb27410abc6f56f28c48c896da32">drainedBytes_</a> &gt; 0) {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    VLOG(5) &lt;&lt; <span class="stringliteral">&quot;Removing draining entry=&quot;</span> &lt;&lt; idx &lt;&lt; <span class="stringliteral">&quot; size=&quot;</span> &lt;&lt; removedBytes</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; drainedBytes_=&quot;</span> &lt;&lt; <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ab2b7fb27410abc6f56f28c48c896da32">drainedBytes_</a> &lt;&lt; <span class="stringliteral">&quot; new drainedBytes_=&quot;</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            &lt;&lt; (int32_t(<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ab2b7fb27410abc6f56f28c48c896da32">drainedBytes_</a>) - removedBytes);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    CHECK_GE(<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ab2b7fb27410abc6f56f28c48c896da32">drainedBytes_</a>, removedBytes);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ab2b7fb27410abc6f56f28c48c896da32">drainedBytes_</a> -= removedBytes;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="comment">// Keep minUsable_ as a valid index when evicting an undrained header</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classproxygen_1_1HeaderTable.html#a8579a331163c2701e084d9506175ead9">size</a>() &gt; 0) {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#abaad0b009f26ce1cb032d7bbc96e84b4">minUsable_</a> = <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aea47e8f45fe941908014113db1632923">internalToAbsolute</a>(<a class="code" href="classproxygen_1_1HeaderTable.html#a356dde60cbd9b58f37320f968de97a86">tail</a>());</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#abaad0b009f26ce1cb032d7bbc96e84b4">minUsable_</a> = <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">baseIndex_</a> + 1;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordflow">return</span> removedBytes;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;}</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_abaad0b009f26ce1cb032d7bbc96e84b4"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#abaad0b009f26ce1cb032d7bbc96e84b4">proxygen::QPACKHeaderTable::minUsable_</a></div><div class="ttdeci">uint32_t minUsable_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00224">QPACKHeaderTable.h:224</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_aac517bc8a554987a0d20006af242a7a8"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">proxygen::QPACKHeaderTable::baseIndex_</a></div><div class="ttdeci">uint32_t baseIndex_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00222">QPACKHeaderTable.h:222</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_aea47e8f45fe941908014113db1632923"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#aea47e8f45fe941908014113db1632923">proxygen::QPACKHeaderTable::internalToAbsolute</a></div><div class="ttdeci">uint32_t internalToAbsolute(uint32_t internalIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8cpp_source.html#l00270">QPACKHeaderTable.cpp:270</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_adbe72412a4c286870da504eb1f4ca144"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">proxygen::QPACKHeaderTable::refCount_</a></div><div class="ttdeci">std::unique_ptr&lt; std::vector&lt; uint16_t &gt; &gt; refCount_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00226">QPACKHeaderTable.h:226</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a04e79a9372362641082e61130c3e8dbb"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a04e79a9372362641082e61130c3e8dbb">proxygen::HeaderTable::removeLast</a></div><div class="ttdeci">virtual uint32_t removeLast()</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8cpp_source.html#l00105">HeaderTable.cpp:105</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_ab2b7fb27410abc6f56f28c48c896da32"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#ab2b7fb27410abc6f56f28c48c896da32">proxygen::QPACKHeaderTable::drainedBytes_</a></div><div class="ttdeci">uint32_t drainedBytes_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00223">QPACKHeaderTable.h:223</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a8579a331163c2701e084d9506175ead9"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a8579a331163c2701e084d9506175ead9">proxygen::HeaderTable::size</a></div><div class="ttdeci">uint32_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8h_source.html#l00105">HeaderTable.h:105</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a356dde60cbd9b58f37320f968de97a86"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a356dde60cbd9b58f37320f968de97a86">proxygen::HeaderTable::tail</a></div><div class="ttdeci">uint32_t tail() const </div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8cpp_source.html#l00217">HeaderTable.cpp:217</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa061b4f5265f968c081aca198615347e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void proxygen::QPACKHeaderTable::resizeTable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>newLength</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classproxygen_1_1HeaderTable.html#a5f6febb1d6eb8b091fa3e601a5a96f72">proxygen::HeaderTable</a>.</p>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00167">167</a> of file <a class="el" href="QPACKHeaderTable_8cpp_source.html">QPACKHeaderTable.cpp</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8h_source.html#l00226">refCount_</a>, and <a class="el" href="HeaderTable_8cpp_source.html#l00186">proxygen::HeaderTable::resizeTable()</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8h_source.html#l00164">absoluteToRelative()</a>.</p>
<div class="fragment"><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                                                     {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <a class="code" href="classproxygen_1_1HeaderTable.html#a5f6febb1d6eb8b091fa3e601a5a96f72">HeaderTable::resizeTable</a>(newLength);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">refCount_</a>) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">refCount_</a>-&gt;resize(newLength);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_adbe72412a4c286870da504eb1f4ca144"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">proxygen::QPACKHeaderTable::refCount_</a></div><div class="ttdeci">std::unique_ptr&lt; std::vector&lt; uint16_t &gt; &gt; refCount_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00226">QPACKHeaderTable.h:226</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a5f6febb1d6eb8b091fa3e601a5a96f72"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a5f6febb1d6eb8b091fa3e601a5a96f72">proxygen::HeaderTable::resizeTable</a></div><div class="ttdeci">virtual void resizeTable(uint32_t newLength)</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8cpp_source.html#l00186">HeaderTable.cpp:186</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8ee51228fbddd7ef548f1be1c2b8950b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool proxygen::QPACKHeaderTable::setCapacity </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>capacity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets the current capacity of the header table, and evicts entries if needed. Returns false if eviction failed. </p>

<p>Reimplemented from <a class="el" href="classproxygen_1_1HeaderTable.html#a20ce3242a2f6a5a77a100f6010db8a47">proxygen::HeaderTable</a>.</p>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00078">78</a> of file <a class="el" href="QPACKHeaderTable_8cpp_source.html">QPACKHeaderTable.cpp</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8h_source.html#l00227">minFree_</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00226">refCount_</a>, and <a class="el" href="HeaderTable_8cpp_source.html#l00136">proxygen::HeaderTable::setCapacity()</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8h_source.html#l00067">isDraining()</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                                                    {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classproxygen_1_1HeaderTable.html#a20ce3242a2f6a5a77a100f6010db8a47">HeaderTable::setCapacity</a>(<a class="code" href="classproxygen_1_1HeaderTable.html#a2d96d2d1f1158954db3bae99a1854dc6">capacity</a>)) {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  }</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">refCount_</a>) {</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#afaead50c19bee0f4cac313c3f1521ecf">minFree_</a> = getMinFree(<a class="code" href="classproxygen_1_1HeaderTable.html#a2d96d2d1f1158954db3bae99a1854dc6">capacity</a>);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  } <span class="comment">// else minFree is always 0</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div><div class="ttc" id="classproxygen_1_1HeaderTable_html_a2d96d2d1f1158954db3bae99a1854dc6"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a2d96d2d1f1158954db3bae99a1854dc6">proxygen::HeaderTable::capacity</a></div><div class="ttdeci">uint32_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8h_source.html#l00086">HeaderTable.h:86</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_adbe72412a4c286870da504eb1f4ca144"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">proxygen::QPACKHeaderTable::refCount_</a></div><div class="ttdeci">std::unique_ptr&lt; std::vector&lt; uint16_t &gt; &gt; refCount_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00226">QPACKHeaderTable.h:226</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_afaead50c19bee0f4cac313c3f1521ecf"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#afaead50c19bee0f4cac313c3f1521ecf">proxygen::QPACKHeaderTable::minFree_</a></div><div class="ttdeci">uint32_t minFree_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00227">QPACKHeaderTable.h:227</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a20ce3242a2f6a5a77a100f6010db8a47"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a20ce3242a2f6a5a77a100f6010db8a47">proxygen::HeaderTable::setCapacity</a></div><div class="ttdeci">virtual bool setCapacity(uint32_t capacity)</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8cpp_source.html#l00136">HeaderTable.cpp:136</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af4afb4ce9bf3b26d3e6ad176d93cc828"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void proxygen::QPACKHeaderTable::setMaxAcked </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>maxAcked</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="QPACKHeaderTable_8h_source.html#l00145">145</a> of file <a class="el" href="QPACKHeaderTable_8h_source.html">QPACKHeaderTable.h</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8h_source.html#l00222">baseIndex_</a>, and <a class="el" href="QPACKHeaderTable_8h_source.html#l00225">maxAcked_</a>.</p>

<p>Referenced by <a class="el" href="QPACKEncoder_8cpp_source.html#l00358">proxygen::QPACKEncoder::onHeaderAck()</a>.</p>
<div class="fragment"><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                                      {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">if</span> (maxAcked &lt; <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ad4c410cf904f758509b3763a2a1b766a">maxAcked_</a>) {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    }</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    CHECK_LE(maxAcked, <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">baseIndex_</a>);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#ad4c410cf904f758509b3763a2a1b766a">maxAcked_</a> = maxAcked;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  }</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_aac517bc8a554987a0d20006af242a7a8"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#aac517bc8a554987a0d20006af242a7a8">proxygen::QPACKHeaderTable::baseIndex_</a></div><div class="ttdeci">uint32_t baseIndex_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00222">QPACKHeaderTable.h:222</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_ad4c410cf904f758509b3763a2a1b766a"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#ad4c410cf904f758509b3763a2a1b766a">proxygen::QPACKHeaderTable::maxAcked_</a></div><div class="ttdeci">uint32_t maxAcked_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00225">QPACKHeaderTable.h:225</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9e5bf0bf11473625809ba1548809a828"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void proxygen::QPACKHeaderTable::setMinFreeForTesting </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>minFree</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="QPACKHeaderTable_8h_source.html#l00091">91</a> of file <a class="el" href="QPACKHeaderTable_8h_source.html">QPACKHeaderTable.h</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00129">getHeader()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00088">getIndex()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00212">isValid()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00227">minFree_</a>, and <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00123">nameIndex()</a>.</p>

<p>Referenced by <a class="el" href="QPACKEncoder_8h_source.html#l00068">proxygen::QPACKEncoder::setMinFreeForTesting()</a>.</p>
<div class="fragment"><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                                              {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#afaead50c19bee0f4cac313c3f1521ecf">minFree_</a> = minFree;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  }</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_afaead50c19bee0f4cac313c3f1521ecf"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#afaead50c19bee0f4cac313c3f1521ecf">proxygen::QPACKHeaderTable::minFree_</a></div><div class="ttdeci">uint32_t minFree_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00227">QPACKHeaderTable.h:227</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a936a8faf7d593a9939c69700a40f95e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void proxygen::QPACKHeaderTable::subRef </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>absIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Subtract a reference for the given index </p>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00261">261</a> of file <a class="el" href="QPACKHeaderTable_8cpp_source.html">QPACKHeaderTable.cpp</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00276">absoluteToInternal()</a>, and <a class="el" href="QPACKHeaderTable_8h_source.html#l00226">refCount_</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8h_source.html#l00164">absoluteToRelative()</a>, and <a class="el" href="QPACKEncoder_8cpp_source.html#l00358">proxygen::QPACKEncoder::onHeaderAck()</a>.</p>
<div class="fragment"><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                                               {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  CHECK(<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">refCount_</a>);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  uint32_t index = <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#aa9ae7eecb864c907777a8cec818237da">absoluteToInternal</a>(absIndex);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  CHECK_GT((*<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">refCount_</a>)[index], 0);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  (*refCount_)[index]--;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_aa9ae7eecb864c907777a8cec818237da"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#aa9ae7eecb864c907777a8cec818237da">proxygen::QPACKHeaderTable::absoluteToInternal</a></div><div class="ttdeci">uint32_t absoluteToInternal(uint32_t absoluteIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8cpp_source.html#l00276">QPACKHeaderTable.cpp:276</a></div></div>
<div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_adbe72412a4c286870da504eb1f4ca144"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">proxygen::QPACKHeaderTable::refCount_</a></div><div class="ttdeci">std::unique_ptr&lt; std::vector&lt; uint16_t &gt; &gt; refCount_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00226">QPACKHeaderTable.h:226</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab9dadf2391332a9a4f538a0efe7e479b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t proxygen::QPACKHeaderTable::toInternal </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>externalIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>base</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Translate external index to internal one. </p>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00281">281</a> of file <a class="el" href="QPACKHeaderTable_8cpp_source.html">QPACKHeaderTable.cpp</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8h_source.html#l00164">absoluteToRelative()</a>, and <a class="el" href="HeaderTable_8cpp_source.html#l00237">proxygen::HeaderTable::toInternal()</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00276">absoluteToInternal()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00164">absoluteToRelative()</a>, and <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00129">getHeader()</a>.</p>
<div class="fragment"><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                                                 {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordflow">if</span> (base &gt; 0) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    uint32_t absIndex = base - externalIndex + 1;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    externalIndex = <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#a3c0462ac5cb2817e9497aee9fc5b75ea">absoluteToRelative</a>(absIndex);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classproxygen_1_1HeaderTable.html#a5d0329b1762816819a8f8e59cf023b3c">HeaderTable::toInternal</a>(externalIndex);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;}</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_a3c0462ac5cb2817e9497aee9fc5b75ea"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#a3c0462ac5cb2817e9497aee9fc5b75ea">proxygen::QPACKHeaderTable::absoluteToRelative</a></div><div class="ttdeci">uint32_t absoluteToRelative(uint32_t absIndex) const </div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00164">QPACKHeaderTable.h:164</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a5d0329b1762816819a8f8e59cf023b3c"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a5d0329b1762816819a8f8e59cf023b3c">proxygen::HeaderTable::toInternal</a></div><div class="ttdeci">static uint32_t toInternal(uint32_t head, uint32_t length, uint32_t externalIndex)</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8cpp_source.html#l00237">HeaderTable.cpp:237</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aadf63828e34b169116a27425f31ba61b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void proxygen::QPACKHeaderTable::updateResizedTable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>oldTail</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>oldLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>newLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classproxygen_1_1HeaderTable.html#a766176c1fe1a275f02170cd5847ea520">proxygen::HeaderTable</a>.</p>

<p>Definition at line <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00174">174</a> of file <a class="el" href="QPACKHeaderTable_8cpp_source.html">QPACKHeaderTable.cpp</a>.</p>

<p>References <a class="el" href="QPACKHeaderTable_8h_source.html#l00226">refCount_</a>, and <a class="el" href="HeaderTable_8cpp_source.html#l00190">proxygen::HeaderTable::updateResizedTable()</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8h_source.html#l00164">absoluteToRelative()</a>.</p>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                                                              {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <a class="code" href="classproxygen_1_1HeaderTable.html#a766176c1fe1a275f02170cd5847ea520">HeaderTable::updateResizedTable</a>(oldTail, oldLength, newLength);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">refCount_</a>) {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    std::move_backward(<a class="code" href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">refCount_</a>-&gt;begin() + oldTail,</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                       <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">refCount_</a>-&gt;begin() + oldLength,</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                       <a class="code" href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">refCount_</a>-&gt;begin() + newLength);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div><div class="ttc" id="classproxygen_1_1QPACKHeaderTable_html_adbe72412a4c286870da504eb1f4ca144"><div class="ttname"><a href="classproxygen_1_1QPACKHeaderTable.html#adbe72412a4c286870da504eb1f4ca144">proxygen::QPACKHeaderTable::refCount_</a></div><div class="ttdeci">std::unique_ptr&lt; std::vector&lt; uint16_t &gt; &gt; refCount_</div><div class="ttdef"><b>Definition:</b> <a href="QPACKHeaderTable_8h_source.html#l00226">QPACKHeaderTable.h:226</a></div></div>
<div class="ttc" id="classproxygen_1_1HeaderTable_html_a766176c1fe1a275f02170cd5847ea520"><div class="ttname"><a href="classproxygen_1_1HeaderTable.html#a766176c1fe1a275f02170cd5847ea520">proxygen::HeaderTable::updateResizedTable</a></div><div class="ttdeci">virtual void updateResizedTable(uint32_t oldTail, uint32_t oldLength, uint32_t newLength)</div><div class="ttdef"><b>Definition:</b> <a href="HeaderTable_8cpp_source.html#l00190">HeaderTable.cpp:190</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aac517bc8a554987a0d20006af242a7a8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t proxygen::QPACKHeaderTable::baseIndex_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="QPACKHeaderTable_8h_source.html#l00222">222</a> of file <a class="el" href="QPACKHeaderTable_8h_source.html">QPACKHeaderTable.h</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8h_source.html#l00164">absoluteToRelative()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00049">add()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00042">getBaseIndex()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00159">increaseTableLengthTo()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00212">isValid()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00228">maybeDuplicate()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00131">onTableStateSync()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00156">relativeToAbsolute()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00135">removeLast()</a>, and <a class="el" href="QPACKHeaderTable_8h_source.html#l00145">setMaxAcked()</a>.</p>

</div>
</div>
<a class="anchor" id="ab2b7fb27410abc6f56f28c48c896da32"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t proxygen::QPACKHeaderTable::drainedBytes_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="QPACKHeaderTable_8h_source.html#l00223">223</a> of file <a class="el" href="QPACKHeaderTable_8h_source.html">QPACKHeaderTable.h</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00049">add()</a>, and <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00135">removeLast()</a>.</p>

</div>
</div>
<a class="anchor" id="ad4c410cf904f758509b3763a2a1b766a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t proxygen::QPACKHeaderTable::maxAcked_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="QPACKHeaderTable_8h_source.html#l00225">225</a> of file <a class="el" href="QPACKHeaderTable_8h_source.html">QPACKHeaderTable.h</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00192">canEvict()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00093">getIndexImpl()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00049">isVulnerable()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00131">onTableStateSync()</a>, and <a class="el" href="QPACKHeaderTable_8h_source.html#l00145">setMaxAcked()</a>.</p>

</div>
</div>
<a class="anchor" id="afaead50c19bee0f4cac313c3f1521ecf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t proxygen::QPACKHeaderTable::minFree_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="QPACKHeaderTable_8h_source.html#l00227">227</a> of file <a class="el" href="QPACKHeaderTable_8h_source.html">QPACKHeaderTable.h</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00049">add()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00057">canIndex()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00039">QPACKHeaderTable()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00078">setCapacity()</a>, and <a class="el" href="QPACKHeaderTable_8h_source.html#l00091">setMinFreeForTesting()</a>.</p>

</div>
</div>
<a class="anchor" id="abaad0b009f26ce1cb032d7bbc96e84b4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t proxygen::QPACKHeaderTable::minUsable_ {1}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="QPACKHeaderTable_8h_source.html#l00224">224</a> of file <a class="el" href="QPACKHeaderTable_8h_source.html">QPACKHeaderTable.h</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00049">add()</a>, <a class="el" href="QPACKHeaderTable_8h_source.html#l00067">isDraining()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00228">maybeDuplicate()</a>, and <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00135">removeLast()</a>.</p>

</div>
</div>
<a class="anchor" id="adbe72412a4c286870da504eb1f4ca144"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;std::vector&lt;uint16_t&gt; &gt; proxygen::QPACKHeaderTable::refCount_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="QPACKHeaderTable_8h_source.html#l00226">226</a> of file <a class="el" href="QPACKHeaderTable_8h_source.html">QPACKHeaderTable.h</a>.</p>

<p>Referenced by <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00049">add()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00254">addRef()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00192">canEvict()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00039">QPACKHeaderTable()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00135">removeLast()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00167">resizeTable()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00078">setCapacity()</a>, <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00261">subRef()</a>, and <a class="el" href="QPACKHeaderTable_8cpp_source.html#l00174">updateResizedTable()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>proxygen/lib/http/codec/compress/<a class="el" href="QPACKHeaderTable_8h_source.html">QPACKHeaderTable.h</a></li>
<li>proxygen/lib/http/codec/compress/<a class="el" href="QPACKHeaderTable_8cpp_source.html">QPACKHeaderTable.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceproxygen.html">proxygen</a></li><li class="navelem"><a class="el" href="classproxygen_1_1QPACKHeaderTable.html">QPACKHeaderTable</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>

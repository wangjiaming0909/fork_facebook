<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: proxygen::huffman::HuffTree Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classproxygen_1_1huffman_1_1HuffTree.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classproxygen_1_1huffman_1_1HuffTree-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">proxygen::huffman::HuffTree Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="Huffman_8h_source.html">Huffman.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for proxygen::huffman::HuffTree:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classproxygen_1_1huffman_1_1HuffTree.png" usemap="#proxygen::huffman::HuffTree_map" alt=""/>
  <map id="proxygen::huffman::HuffTree_map" name="proxygen::huffman::HuffTree_map">
<area href="classTestingHuffTree.html" alt="TestingHuffTree" shape="rect" coords="0,56,172,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa4f2723d4adb20b6ad2fdd22bb0ce86f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1huffman_1_1HuffTree.html#aa4f2723d4adb20b6ad2fdd22bb0ce86f">HuffTree</a> (const uint32_t *codes, const uint8_t *bits)</td></tr>
<tr class="separator:aa4f2723d4adb20b6ad2fdd22bb0ce86f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee316dbd7acb48fe393bd4eeef3da1fd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1huffman_1_1HuffTree.html#aee316dbd7acb48fe393bd4eeef3da1fd">HuffTree</a> (<a class="el" href="classproxygen_1_1huffman_1_1HuffTree.html">HuffTree</a> &amp;&amp;tree)=default</td></tr>
<tr class="separator:aee316dbd7acb48fe393bd4eeef3da1fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a2aa3bbea71682531e9f88e4cf609b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1huffman_1_1HuffTree.html#a4a2aa3bbea71682531e9f88e4cf609b3">~HuffTree</a> ()</td></tr>
<tr class="separator:a4a2aa3bbea71682531e9f88e4cf609b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24baed793e01ab0383222eeea8bcec04"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1huffman_1_1HuffTree.html#a24baed793e01ab0383222eeea8bcec04">decode</a> (const uint8_t *buf, uint32_t size, folly::fbstring &amp;literal) const </td></tr>
<tr class="separator:a24baed793e01ab0383222eeea8bcec04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf4a55cc523d378f56061c7759455c4a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1huffman_1_1HuffTree.html#abf4a55cc523d378f56061c7759455c4a">encode</a> (folly::StringPiece literal, folly::io::QueueAppender &amp;buf) const </td></tr>
<tr class="separator:abf4a55cc523d378f56061c7759455c4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2bdd57b4932f412a1f96b2a374dc783"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1huffman_1_1HuffTree.html#ad2bdd57b4932f412a1f96b2a374dc783">getEncodeSize</a> (folly::StringPiece literal) const </td></tr>
<tr class="separator:ad2bdd57b4932f412a1f96b2a374dc783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dff76dde1d16ecd055459f1a04ec8ea"><td class="memItemLeft" align="right" valign="top">std::pair&lt; uint32_t, uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1huffman_1_1HuffTree.html#a3dff76dde1d16ecd055459f1a04ec8ea">getCode</a> (uint8_t ch) const </td></tr>
<tr class="separator:a3dff76dde1d16ecd055459f1a04ec8ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8893b894953629ea8f9f7a4963be7da"><td class="memItemLeft" align="right" valign="top">const uint32_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1huffman_1_1HuffTree.html#ae8893b894953629ea8f9f7a4963be7da">codesTable</a> () const </td></tr>
<tr class="separator:ae8893b894953629ea8f9f7a4963be7da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0050c2e0168a559b17c673e0a57cafd9"><td class="memItemLeft" align="right" valign="top">const uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1huffman_1_1HuffTree.html#a0050c2e0168a559b17c673e0a57cafd9">bitsTable</a> () const </td></tr>
<tr class="separator:a0050c2e0168a559b17c673e0a57cafd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a1bfc79b04ec0991806cb4e99ed4d0a81"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1huffman_1_1HuffTree.html#a1bfc79b04ec0991806cb4e99ed4d0a81">HuffTree</a> (const <a class="el" href="classproxygen_1_1huffman_1_1HuffTree.html">HuffTree</a> &amp;tree)</td></tr>
<tr class="separator:a1bfc79b04ec0991806cb4e99ed4d0a81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a5d6350d6a6af123c10585029d4bf98e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structproxygen_1_1huffman_1_1SuperHuffNode.html">SuperHuffNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1huffman_1_1HuffTree.html#a5d6350d6a6af123c10585029d4bf98e3">table_</a> [46]</td></tr>
<tr class="separator:a5d6350d6a6af123c10585029d4bf98e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ab0c44bbdf8ec389a730a95e6603cbdec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1huffman_1_1HuffTree.html#ab0c44bbdf8ec389a730a95e6603cbdec">fillIndex</a> (<a class="el" href="structproxygen_1_1huffman_1_1SuperHuffNode.html">SuperHuffNode</a> &amp;snode, uint32_t code, uint8_t bits, uint8_t ch, uint8_t level)</td></tr>
<tr class="separator:ab0c44bbdf8ec389a730a95e6603cbdec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a301a557b4fd6c3f1bfb5ce39c51c0dda"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1huffman_1_1HuffTree.html#a301a557b4fd6c3f1bfb5ce39c51c0dda">buildTree</a> ()</td></tr>
<tr class="separator:a301a557b4fd6c3f1bfb5ce39c51c0dda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99724fce94fe0bada99113b2364ca26d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1huffman_1_1HuffTree.html#a99724fce94fe0bada99113b2364ca26d">insert</a> (uint32_t code, uint8_t bits, uint8_t ch)</td></tr>
<tr class="separator:a99724fce94fe0bada99113b2364ca26d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a3faa7b416d05787133a5df5bf23bc758"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1huffman_1_1HuffTree.html#a3faa7b416d05787133a5df5bf23bc758">nodes_</a> {0}</td></tr>
<tr class="separator:a3faa7b416d05787133a5df5bf23bc758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83645dcd5290d5d11548d7934a51fe4b"><td class="memItemLeft" align="right" valign="top">const uint32_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1huffman_1_1HuffTree.html#a83645dcd5290d5d11548d7934a51fe4b">codes_</a></td></tr>
<tr class="separator:a83645dcd5290d5d11548d7934a51fe4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa361cd824d7b8af43423a484217f1306"><td class="memItemLeft" align="right" valign="top">const uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1huffman_1_1HuffTree.html#aa361cd824d7b8af43423a484217f1306">bits_</a></td></tr>
<tr class="separator:aa361cd824d7b8af43423a484217f1306"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Immutable Huffman tree used in the process of decoding. Traditionally the huffman tree is binary, but using that approach leads to major inefficiencies since it's using per-bit level processing and needs to perform several memory accesses and bit operations for every single bit. This implementation is using 8-bit level indexing and uses aggregated nodes that link up to 256 other nodes. The complexity for lookup is reduced from O(bits) to O(Bytes) which is 1 or 2 for most of the printable characters. The tradeoff of using this approach is using more memory and generating the tree is more laborious since we need to fill all the subtrees denoted by a character code, which is an unique prefix.</p>
<p>Example</p>
<p>bit stream: 00001111 1111010</p><ol type="1">
<li>our lookup key is 00001111 which will point to character '/', since the entire subtree with prefix 0000 points to it. We know the subtree has just 4 bits, we remove just those from the current key. bit stream: 11111111 010</li>
<li>key is 11111111 which points to a branch, so we go down one level bit stream: 010</li>
<li>we don't have enough bits, so we use paddding and we get a key of 01011111, which points to '(' character, like any other node under the subtree '010'. </li>
</ol>

<p>Definition at line <a class="el" href="Huffman_8h_source.html#l00084">84</a> of file <a class="el" href="Huffman_8h_source.html">Huffman.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa4f2723d4adb20b6ad2fdd22bb0ce86f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">proxygen::huffman::HuffTree::HuffTree </td>
          <td>(</td>
          <td class="paramtype">const uint32_t *&#160;</td>
          <td class="paramname"><em>codes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>the constructor assumes the codes and bits tables will not be freed, ideally they are static </p>

<p>Definition at line <a class="el" href="Huffman_8cpp_source.html#l00021">21</a> of file <a class="el" href="Huffman_8cpp_source.html">Huffman.cpp</a>.</p>

<p>References <a class="el" href="Huffman_8cpp_source.html#l00126">buildTree()</a>.</p>
<div class="fragment"><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    : <a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#a83645dcd5290d5d11548d7934a51fe4b">codes_</a>(codes), <a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#aa361cd824d7b8af43423a484217f1306">bits_</a>(bits) {</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  <a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#a301a557b4fd6c3f1bfb5ce39c51c0dda">buildTree</a>();</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;}</div><div class="ttc" id="classproxygen_1_1huffman_1_1HuffTree_html_a301a557b4fd6c3f1bfb5ce39c51c0dda"><div class="ttname"><a href="classproxygen_1_1huffman_1_1HuffTree.html#a301a557b4fd6c3f1bfb5ce39c51c0dda">proxygen::huffman::HuffTree::buildTree</a></div><div class="ttdeci">void buildTree()</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8cpp_source.html#l00126">Huffman.cpp:126</a></div></div>
<div class="ttc" id="classproxygen_1_1huffman_1_1HuffTree_html_aa361cd824d7b8af43423a484217f1306"><div class="ttname"><a href="classproxygen_1_1huffman_1_1HuffTree.html#aa361cd824d7b8af43423a484217f1306">proxygen::huffman::HuffTree::bits_</a></div><div class="ttdeci">const uint8_t * bits_</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8h_source.html#l00148">Huffman.h:148</a></div></div>
<div class="ttc" id="classproxygen_1_1huffman_1_1HuffTree_html_a83645dcd5290d5d11548d7934a51fe4b"><div class="ttname"><a href="classproxygen_1_1huffman_1_1HuffTree.html#a83645dcd5290d5d11548d7934a51fe4b">proxygen::huffman::HuffTree::codes_</a></div><div class="ttdeci">const uint32_t * codes_</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8h_source.html#l00147">Huffman.h:147</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aee316dbd7acb48fe393bd4eeef3da1fd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">proxygen::huffman::HuffTree::HuffTree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classproxygen_1_1huffman_1_1HuffTree.html">HuffTree</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>tree</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4a2aa3bbea71682531e9f88e4cf609b3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">proxygen::huffman::HuffTree::~HuffTree </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Huffman_8h_source.html#l00092">92</a> of file <a class="el" href="Huffman_8h_source.html">Huffman.h</a>.</p>

<p>References <a class="el" href="Huffman_8h_source.html#l00034">proxygen::huffman::HuffNode::ch</a>, <a class="el" href="TestUtil_8cpp_source.html#l00095">proxygen::hpack::decode()</a>, and <a class="el" href="HPACKBenchmark_8cpp_source.html#l00022">encode()</a>.</p>
<div class="fragment"><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;{}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1bfc79b04ec0991806cb4e99ed4d0a81"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">proxygen::huffman::HuffTree::HuffTree </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classproxygen_1_1huffman_1_1HuffTree.html">HuffTree</a> &amp;&#160;</td>
          <td class="paramname"><em>tree</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Huffman_8cpp_source.html#l00026">26</a> of file <a class="el" href="Huffman_8cpp_source.html">Huffman.cpp</a>.</p>

<p>References <a class="el" href="Huffman_8cpp_source.html#l00126">buildTree()</a>.</p>
<div class="fragment"><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;                                       :</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#a83645dcd5290d5d11548d7934a51fe4b">codes_</a>(tree.codes_), <a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#aa361cd824d7b8af43423a484217f1306">bits_</a>(tree.bits_) {</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  <a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#a301a557b4fd6c3f1bfb5ce39c51c0dda">buildTree</a>();</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;}</div><div class="ttc" id="classproxygen_1_1huffman_1_1HuffTree_html_a301a557b4fd6c3f1bfb5ce39c51c0dda"><div class="ttname"><a href="classproxygen_1_1huffman_1_1HuffTree.html#a301a557b4fd6c3f1bfb5ce39c51c0dda">proxygen::huffman::HuffTree::buildTree</a></div><div class="ttdeci">void buildTree()</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8cpp_source.html#l00126">Huffman.cpp:126</a></div></div>
<div class="ttc" id="classproxygen_1_1huffman_1_1HuffTree_html_aa361cd824d7b8af43423a484217f1306"><div class="ttname"><a href="classproxygen_1_1huffman_1_1HuffTree.html#aa361cd824d7b8af43423a484217f1306">proxygen::huffman::HuffTree::bits_</a></div><div class="ttdeci">const uint8_t * bits_</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8h_source.html#l00148">Huffman.h:148</a></div></div>
<div class="ttc" id="classproxygen_1_1huffman_1_1HuffTree_html_a83645dcd5290d5d11548d7934a51fe4b"><div class="ttname"><a href="classproxygen_1_1huffman_1_1HuffTree.html#a83645dcd5290d5d11548d7934a51fe4b">proxygen::huffman::HuffTree::codes_</a></div><div class="ttdeci">const uint32_t * codes_</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8h_source.html#l00147">Huffman.h:147</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a0050c2e0168a559b17c673e0a57cafd9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t * proxygen::huffman::HuffTree::bitsTable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Huffman_8cpp_source.html#l00102">102</a> of file <a class="el" href="Huffman_8cpp_source.html">Huffman.cpp</a>.</p>

<p>References <a class="el" href="Huffman_8h_source.html#l00148">bits_</a>.</p>
<div class="fragment"><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                                         {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#aa361cd824d7b8af43423a484217f1306">bits_</a>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div><div class="ttc" id="classproxygen_1_1huffman_1_1HuffTree_html_aa361cd824d7b8af43423a484217f1306"><div class="ttname"><a href="classproxygen_1_1huffman_1_1HuffTree.html#aa361cd824d7b8af43423a484217f1306">proxygen::huffman::HuffTree::bits_</a></div><div class="ttdeci">const uint8_t * bits_</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8h_source.html#l00148">Huffman.h:148</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a301a557b4fd6c3f1bfb5ce39c51c0dda"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void proxygen::huffman::HuffTree::buildTree </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>initializes and builds the huffman tree </p>

<p>Definition at line <a class="el" href="Huffman_8cpp_source.html#l00126">126</a> of file <a class="el" href="Huffman_8cpp_source.html">Huffman.cpp</a>.</p>

<p>References <a class="el" href="Huffman_8h_source.html#l00148">bits_</a>, <a class="el" href="Huffman_8h_source.html#l00147">codes_</a>, <a class="el" href="Huffman_8cpp_source.html#l00078">insert()</a>, and <a class="el" href="Huffman_8h_source.html#l00021">proxygen::huffman::kTableSize</a>.</p>

<p>Referenced by <a class="el" href="Huffman_8cpp_source.html#l00021">HuffTree()</a>.</p>
<div class="fragment"><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                         {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="comment">// create the indexed table</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; <a class="code" href="namespaceproxygen_1_1huffman.html#a7f164f649bced947bd9644ab48000269">kTableSize</a>; i++) {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#a99724fce94fe0bada99113b2364ca26d">insert</a>(<a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#a83645dcd5290d5d11548d7934a51fe4b">codes_</a>[i], <a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#aa361cd824d7b8af43423a484217f1306">bits_</a>[i], i);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  }</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div><div class="ttc" id="classproxygen_1_1huffman_1_1HuffTree_html_a99724fce94fe0bada99113b2364ca26d"><div class="ttname"><a href="classproxygen_1_1huffman_1_1HuffTree.html#a99724fce94fe0bada99113b2364ca26d">proxygen::huffman::HuffTree::insert</a></div><div class="ttdeci">void insert(uint32_t code, uint8_t bits, uint8_t ch)</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8cpp_source.html#l00078">Huffman.cpp:78</a></div></div>
<div class="ttc" id="classproxygen_1_1huffman_1_1HuffTree_html_aa361cd824d7b8af43423a484217f1306"><div class="ttname"><a href="classproxygen_1_1huffman_1_1HuffTree.html#aa361cd824d7b8af43423a484217f1306">proxygen::huffman::HuffTree::bits_</a></div><div class="ttdeci">const uint8_t * bits_</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8h_source.html#l00148">Huffman.h:148</a></div></div>
<div class="ttc" id="classproxygen_1_1huffman_1_1HuffTree_html_a83645dcd5290d5d11548d7934a51fe4b"><div class="ttname"><a href="classproxygen_1_1huffman_1_1HuffTree.html#a83645dcd5290d5d11548d7934a51fe4b">proxygen::huffman::HuffTree::codes_</a></div><div class="ttdeci">const uint32_t * codes_</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8h_source.html#l00147">Huffman.h:147</a></div></div>
<div class="ttc" id="namespaceproxygen_1_1huffman_html_a7f164f649bced947bd9644ab48000269"><div class="ttname"><a href="namespaceproxygen_1_1huffman.html#a7f164f649bced947bd9644ab48000269">proxygen::huffman::kTableSize</a></div><div class="ttdeci">const uint32_t kTableSize</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8h_source.html#l00021">Huffman.h:21</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae8893b894953629ea8f9f7a4963be7da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t * proxygen::huffman::HuffTree::codesTable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Huffman_8cpp_source.html#l00098">98</a> of file <a class="el" href="Huffman_8cpp_source.html">Huffman.cpp</a>.</p>

<p>References <a class="el" href="Huffman_8h_source.html#l00147">codes_</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                                           {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#a83645dcd5290d5d11548d7934a51fe4b">codes_</a>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div><div class="ttc" id="classproxygen_1_1huffman_1_1HuffTree_html_a83645dcd5290d5d11548d7934a51fe4b"><div class="ttname"><a href="classproxygen_1_1huffman_1_1HuffTree.html#a83645dcd5290d5d11548d7934a51fe4b">proxygen::huffman::HuffTree::codes_</a></div><div class="ttdeci">const uint32_t * codes_</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8h_source.html#l00147">Huffman.h:147</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a24baed793e01ab0383222eeea8bcec04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool proxygen::huffman::HuffTree::decode </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">folly::fbstring &amp;&#160;</td>
          <td class="paramname"><em>literal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>decode bitstream into a string literal</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>start of a huffman-encoded bit stream </td></tr>
    <tr><td class="paramname">size</td><td>size of the buffer </td></tr>
    <tr><td class="paramname">literal</td><td>where to append decoded characters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the decode process was successful </dd></dl>

<p>Definition at line <a class="el" href="Huffman_8cpp_source.html#l00031">31</a> of file <a class="el" href="Huffman_8cpp_source.html">Huffman.cpp</a>.</p>

<p>References <a class="el" href="Huffman_8h_source.html#l00038">proxygen::huffman::HuffNode::bits</a>, <a class="el" href="Huffman_8h_source.html#l00034">proxygen::huffman::HuffNode::ch</a>, <a class="el" href="structproxygen_1_1huffman_1_1HuffNode.html#a32f743d26ee70b7b39e5348e16658ca3">proxygen::huffman::HuffNode::data</a>, <a class="el" href="Huffman_8h_source.html#l00051">proxygen::huffman::SuperHuffNode::index</a>, <a class="el" href="Huffman_8h_source.html#l00042">proxygen::huffman::HuffNode::isLeaf()</a>, <a class="el" href="structproxygen_1_1huffman_1_1HuffNode.html#af1cd0b597191b847d98e6099509c7b85">proxygen::huffman::HuffNode::metadata</a>, <a class="el" href="Huffman_8h_source.html#l00035">proxygen::huffman::HuffNode::superNodeIndex</a>, and <a class="el" href="Huffman_8h_source.html#l00152">table_</a>.</p>

<p>Referenced by <a class="el" href="HuffmanTests_8cpp_source.html#l00148">TEST_F()</a>.</p>
<div class="fragment"><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;          {</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keyword">const</span> SuperHuffNode* snode = &amp;<a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#a5d6350d6a6af123c10585029d4bf98e3">table_</a>[0];</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  uint32_t w = 0;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  uint32_t wbits = 0;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  uint32_t i = 0;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="keywordflow">while</span> (i &lt; size || wbits &gt; 0) {</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="comment">// decide if we need to load more bits using an 8-bit chunk</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">if</span> (i &lt; size &amp;&amp; wbits &lt; 8) {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;      w = (w &lt;&lt; 8) | buf[i];</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;      wbits += 8;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;      i++;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    }</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="comment">// key is used for performing the indexed lookup</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    uint32_t key;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">if</span> (wbits &gt;= 8) {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;      key = w &gt;&gt; (wbits - 8);</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      <span class="comment">// this the case we&#39;re at the end of the buffer</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      uint8_t xbits = 8 - wbits;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      w = (w &lt;&lt; xbits) | ((1 &lt;&lt; xbits) - 1);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;      key = w;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      wbits = 8;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    }</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="comment">// perform the indexed lookup</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keyword">const</span> HuffNode&amp; node = snode-&gt;<a class="code" href="structproxygen_1_1huffman_1_1SuperHuffNode.html#ae9cfa01aaff501779c2702f38df0dd4a">index</a>[key];</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">if</span> (node.isLeaf()) {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      <span class="comment">// final node, we can emit the character</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      literal.push_back(node.data.ch);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      wbits -= node.<a class="code" href="structproxygen_1_1huffman_1_1HuffNode.html#af1cd0b597191b847d98e6099509c7b85">metadata</a>.<a class="code" href="structproxygen_1_1huffman_1_1HuffNode.html#a0b94b0a6f02e8ac8b2eaef396a40939d">bits</a>;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      snode = &amp;<a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#a5d6350d6a6af123c10585029d4bf98e3">table_</a>[0];</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <span class="comment">// this is a branch, so we just need to move one level</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      wbits -= 8;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      snode = &amp;<a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#a5d6350d6a6af123c10585029d4bf98e3">table_</a>[node.data.superNodeIndex];</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    }</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">// remove what we&#39;ve just used</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    w = w &amp; ((1 &lt;&lt; wbits) - 1);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  }</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;}</div><div class="ttc" id="structproxygen_1_1huffman_1_1HuffNode_html_af1cd0b597191b847d98e6099509c7b85"><div class="ttname"><a href="structproxygen_1_1huffman_1_1HuffNode.html#af1cd0b597191b847d98e6099509c7b85">proxygen::huffman::HuffNode::metadata</a></div><div class="ttdeci">struct proxygen::huffman::HuffNode::@9 metadata</div></div>
<div class="ttc" id="structproxygen_1_1huffman_1_1HuffNode_html_a0b94b0a6f02e8ac8b2eaef396a40939d"><div class="ttname"><a href="structproxygen_1_1huffman_1_1HuffNode.html#a0b94b0a6f02e8ac8b2eaef396a40939d">proxygen::huffman::HuffNode::bits</a></div><div class="ttdeci">uint8_t bits</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8h_source.html#l00038">Huffman.h:38</a></div></div>
<div class="ttc" id="structproxygen_1_1huffman_1_1SuperHuffNode_html_ae9cfa01aaff501779c2702f38df0dd4a"><div class="ttname"><a href="structproxygen_1_1huffman_1_1SuperHuffNode.html#ae9cfa01aaff501779c2702f38df0dd4a">proxygen::huffman::SuperHuffNode::index</a></div><div class="ttdeci">HuffNode index[256]</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8h_source.html#l00051">Huffman.h:51</a></div></div>
<div class="ttc" id="classproxygen_1_1huffman_1_1HuffTree_html_a5d6350d6a6af123c10585029d4bf98e3"><div class="ttname"><a href="classproxygen_1_1huffman_1_1HuffTree.html#a5d6350d6a6af123c10585029d4bf98e3">proxygen::huffman::HuffTree::table_</a></div><div class="ttdeci">SuperHuffNode table_[46]</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8h_source.html#l00152">Huffman.h:152</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abf4a55cc523d378f56061c7759455c4a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t proxygen::huffman::HuffTree::encode </td>
          <td>(</td>
          <td class="paramtype">folly::StringPiece&#160;</td>
          <td class="paramname"><em>literal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">folly::io::QueueAppender &amp;&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>encode string literal into huffman encoded bit stream</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">literal</td><td>string to encode </td></tr>
    <tr><td class="paramname">buf</td><td>where to append the encoded binary data </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Huffman_8cpp_source.html#l00133">133</a> of file <a class="el" href="Huffman_8cpp_source.html">Huffman.cpp</a>.</p>

<p>References <a class="el" href="Huffman_8h_source.html#l00148">bits_</a>, and <a class="el" href="Huffman_8h_source.html#l00147">codes_</a>.</p>

<p>Referenced by <a class="el" href="HuffmanTests_8cpp_source.html#l00148">TEST_F()</a>.</p>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                                                           {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  uint32_t code;  <span class="comment">// the huffman code of a given character</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  uint8_t bits;   <span class="comment">// on how many bits code is represented</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  uint32_t w = 0; <span class="comment">// 4-byte word used for packing bits and write it to memory</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  uint8_t wbits = 0;  <span class="comment">// how many bits we have in &#39;w&#39;</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  uint32_t totalBytes = 0;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; literal.size(); i++) {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    uint8_t ch = literal[i];</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    code = <a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#a83645dcd5290d5d11548d7934a51fe4b">codes_</a>[ch];</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    bits = <a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#aa361cd824d7b8af43423a484217f1306">bits_</a>[ch];</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">if</span> (wbits + bits &lt; 32) {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      w = (w &lt;&lt; bits) | code;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      wbits += bits;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      uint8_t xbits = wbits + bits - 32;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      w = (w &lt;&lt; (bits - xbits)) | (code &gt;&gt; xbits);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="comment">// write the word into the buffer by converting to network order, which</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <span class="comment">// takes care of the endianness problems</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      buf.writeBE&lt;uint32_t&gt;(w);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      totalBytes += 4;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="comment">// carry for next batch</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      wbits = xbits;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      w = code &amp; ((1 &lt;&lt; xbits) - 1);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    }</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  }</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">// we might have some padding at the byte level</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordflow">if</span> (wbits &amp; 0x7) {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="comment">// padding bits</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    uint8_t padbits = 8 - (wbits &amp; 0x7);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    w = (w &lt;&lt; padbits) | ((1 &lt;&lt; padbits) - 1);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    wbits += padbits;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="comment">// we need to write the leftover bytes, from 1 to 4 bytes</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordflow">if</span> (wbits &gt; 0) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    uint8_t bytes = wbits &gt;&gt; 3;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="comment">// align the bits to the MSB</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    w = w &lt;&lt; (32 - wbits);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="comment">// set the bytes in the network order and copy w[0], w[1]...</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    w = htonl(w);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="comment">// we need to use memcpy because we might write less than 4 bytes</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    buf.push((uint8_t*)&amp;w, bytes);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    totalBytes += bytes;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordflow">return</span> totalBytes;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div><div class="ttc" id="classproxygen_1_1huffman_1_1HuffTree_html_aa361cd824d7b8af43423a484217f1306"><div class="ttname"><a href="classproxygen_1_1huffman_1_1HuffTree.html#aa361cd824d7b8af43423a484217f1306">proxygen::huffman::HuffTree::bits_</a></div><div class="ttdeci">const uint8_t * bits_</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8h_source.html#l00148">Huffman.h:148</a></div></div>
<div class="ttc" id="classproxygen_1_1huffman_1_1HuffTree_html_a83645dcd5290d5d11548d7934a51fe4b"><div class="ttname"><a href="classproxygen_1_1huffman_1_1HuffTree.html#a83645dcd5290d5d11548d7934a51fe4b">proxygen::huffman::HuffTree::codes_</a></div><div class="ttdeci">const uint32_t * codes_</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8h_source.html#l00147">Huffman.h:147</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab0c44bbdf8ec389a730a95e6603cbdec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void proxygen::huffman::HuffTree::fillIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structproxygen_1_1huffman_1_1SuperHuffNode.html">SuperHuffNode</a> &amp;&#160;</td>
          <td class="paramname"><em>snode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>recursive function for generating subtrees </p>

<p>Definition at line <a class="el" href="Huffman_8cpp_source.html#l00109">109</a> of file <a class="el" href="Huffman_8cpp_source.html">Huffman.cpp</a>.</p>

<p>References <a class="el" href="Huffman_8h_source.html#l00038">proxygen::huffman::HuffNode::bits</a>, <a class="el" href="Huffman_8h_source.html#l00034">proxygen::huffman::HuffNode::ch</a>, <a class="el" href="structproxygen_1_1huffman_1_1HuffNode.html#a32f743d26ee70b7b39e5348e16658ca3">proxygen::huffman::HuffNode::data</a>, <a class="el" href="Huffman_8h_source.html#l00051">proxygen::huffman::SuperHuffNode::index</a>, and <a class="el" href="structproxygen_1_1huffman_1_1HuffNode.html#af1cd0b597191b847d98e6099509c7b85">proxygen::huffman::HuffNode::metadata</a>.</p>

<p>Referenced by <a class="el" href="Huffman_8cpp_source.html#l00078">insert()</a>.</p>
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                               {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordflow">if</span> (level == 8) {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    snode.index[code].data.ch = ch;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    snode.index[code].metadata.bits = bits;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="comment">// generate the bit at the current level</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  code = code &lt;&lt; 1;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordflow">for</span> (uint8_t bit = 0; bit &lt;= 1; bit++) {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#ab0c44bbdf8ec389a730a95e6603cbdec">fillIndex</a>(snode, code | bit, bits, ch, level + 1);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div><div class="ttc" id="classproxygen_1_1huffman_1_1HuffTree_html_ab0c44bbdf8ec389a730a95e6603cbdec"><div class="ttname"><a href="classproxygen_1_1huffman_1_1HuffTree.html#ab0c44bbdf8ec389a730a95e6603cbdec">proxygen::huffman::HuffTree::fillIndex</a></div><div class="ttdeci">void fillIndex(SuperHuffNode &amp;snode, uint32_t code, uint8_t bits, uint8_t ch, uint8_t level)</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8cpp_source.html#l00109">Huffman.cpp:109</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3dff76dde1d16ecd055459f1a04ec8ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pair&lt; uint32_t, uint8_t &gt; proxygen::huffman::HuffTree::getCode </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>get the binary representation for a given character, as a 32-bit word and a number of bits is represented on (&lt;32). The code is aligned to LSB.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ch</td><td>ASCII character </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pair&lt;word, bits&gt;</dd></dl>
<p>Example: 'e' will be encoded as 1 using 4 bits: 0001 </p>

<p>Definition at line <a class="el" href="Huffman_8cpp_source.html#l00196">196</a> of file <a class="el" href="Huffman_8cpp_source.html">Huffman.cpp</a>.</p>

<p>References <a class="el" href="Huffman_8h_source.html#l00148">bits_</a>, and <a class="el" href="Huffman_8h_source.html#l00147">codes_</a>.</p>
<div class="fragment"><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                                                          {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keywordflow">return</span> std::make_pair(<a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#a83645dcd5290d5d11548d7934a51fe4b">codes_</a>[ch], <a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#aa361cd824d7b8af43423a484217f1306">bits_</a>[ch]);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div><div class="ttc" id="classproxygen_1_1huffman_1_1HuffTree_html_aa361cd824d7b8af43423a484217f1306"><div class="ttname"><a href="classproxygen_1_1huffman_1_1HuffTree.html#aa361cd824d7b8af43423a484217f1306">proxygen::huffman::HuffTree::bits_</a></div><div class="ttdeci">const uint8_t * bits_</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8h_source.html#l00148">Huffman.h:148</a></div></div>
<div class="ttc" id="classproxygen_1_1huffman_1_1HuffTree_html_a83645dcd5290d5d11548d7934a51fe4b"><div class="ttname"><a href="classproxygen_1_1huffman_1_1HuffTree.html#a83645dcd5290d5d11548d7934a51fe4b">proxygen::huffman::HuffTree::codes_</a></div><div class="ttdeci">const uint32_t * codes_</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8h_source.html#l00147">Huffman.h:147</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad2bdd57b4932f412a1f96b2a374dc783"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t proxygen::huffman::HuffTree::getEncodeSize </td>
          <td>(</td>
          <td class="paramtype">folly::StringPiece&#160;</td>
          <td class="paramname"><em>literal</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>get the encode size for a string literal, works as a dry-run for the encode useful to allocate enough buffer space before doing the actual encode</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">literal</td><td>string literal </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size how many bytes it will take to encode the given string </dd></dl>

<p>Definition at line <a class="el" href="Huffman_8cpp_source.html#l00182">182</a> of file <a class="el" href="Huffman_8cpp_source.html">Huffman.cpp</a>.</p>

<p>References <a class="el" href="Huffman_8h_source.html#l00148">bits_</a>.</p>

<p>Referenced by <a class="el" href="HuffmanTests_8cpp_source.html#l00148">TEST_F()</a>.</p>
<div class="fragment"><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                                                               {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  uint32_t totalBits = 0;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; literal.size(); i++) {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">// we just need the number of bits</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    uint8_t ch = literal[i];</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    totalBits += <a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#aa361cd824d7b8af43423a484217f1306">bits_</a>[ch];</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  uint32_t size = totalBits &gt;&gt; 3;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordflow">if</span> (totalBits &amp; 0x07) {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    ++size;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">return</span> size;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}</div><div class="ttc" id="classproxygen_1_1huffman_1_1HuffTree_html_aa361cd824d7b8af43423a484217f1306"><div class="ttname"><a href="classproxygen_1_1huffman_1_1HuffTree.html#aa361cd824d7b8af43423a484217f1306">proxygen::huffman::HuffTree::bits_</a></div><div class="ttdeci">const uint8_t * bits_</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8h_source.html#l00148">Huffman.h:148</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a99724fce94fe0bada99113b2364ca26d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void proxygen::huffman::HuffTree::insert </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>insert a new character into the tree, identified by an unique code, a number of bits to represent it. The code is aligned at LSB. </p>

<p>Definition at line <a class="el" href="Huffman_8cpp_source.html#l00078">78</a> of file <a class="el" href="Huffman_8cpp_source.html">Huffman.cpp</a>.</p>

<p>References <a class="el" href="structproxygen_1_1huffman_1_1HuffNode.html#a32f743d26ee70b7b39e5348e16658ca3">proxygen::huffman::HuffNode::data</a>, <a class="el" href="Huffman_8cpp_source.html#l00109">fillIndex()</a>, <a class="el" href="Huffman_8h_source.html#l00051">proxygen::huffman::SuperHuffNode::index</a>, <a class="el" href="Huffman_8h_source.html#l00042">proxygen::huffman::HuffNode::isLeaf()</a>, <a class="el" href="Huffman_8h_source.html#l00039">proxygen::huffman::HuffNode::isSuperNode</a>, <a class="el" href="structproxygen_1_1huffman_1_1HuffNode.html#af1cd0b597191b847d98e6099509c7b85">proxygen::huffman::HuffNode::metadata</a>, <a class="el" href="Huffman_8h_source.html#l00146">nodes_</a>, <a class="el" href="Huffman_8h_source.html#l00035">proxygen::huffman::HuffNode::superNodeIndex</a>, and <a class="el" href="Huffman_8h_source.html#l00152">table_</a>.</p>

<p>Referenced by <a class="el" href="Huffman_8cpp_source.html#l00126">buildTree()</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                                                             {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  SuperHuffNode* snode = &amp;<a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#a5d6350d6a6af123c10585029d4bf98e3">table_</a>[0];</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">while</span> (bits &gt; 8) {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    uint32_t mask = 0xFF &lt;&lt; (bits - 8);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    uint32_t x = (code &amp; mask) &gt;&gt; (bits - 8);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">// mark this node as branch</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">if</span> (snode-&gt;index[x].isLeaf()) {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      <a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#a3faa7b416d05787133a5df5bf23bc758">nodes_</a>++;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      HuffNode&amp; node = snode-&gt;index[x];</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      node.metadata.isSuperNode = <span class="keyword">true</span>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      node.data.superNodeIndex = <a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#a3faa7b416d05787133a5df5bf23bc758">nodes_</a>;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    snode = &amp;<a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#a5d6350d6a6af123c10585029d4bf98e3">table_</a>[snode-&gt;index[x].data.superNodeIndex];</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    bits -= 8;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    code = code &amp; ~mask;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  }</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="comment">// fill the node with all the suffixes</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <a class="code" href="classproxygen_1_1huffman_1_1HuffTree.html#ab0c44bbdf8ec389a730a95e6603cbdec">fillIndex</a>(*snode, code, bits, ch, bits);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div><div class="ttc" id="classproxygen_1_1huffman_1_1HuffTree_html_ab0c44bbdf8ec389a730a95e6603cbdec"><div class="ttname"><a href="classproxygen_1_1huffman_1_1HuffTree.html#ab0c44bbdf8ec389a730a95e6603cbdec">proxygen::huffman::HuffTree::fillIndex</a></div><div class="ttdeci">void fillIndex(SuperHuffNode &amp;snode, uint32_t code, uint8_t bits, uint8_t ch, uint8_t level)</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8cpp_source.html#l00109">Huffman.cpp:109</a></div></div>
<div class="ttc" id="classproxygen_1_1huffman_1_1HuffTree_html_a3faa7b416d05787133a5df5bf23bc758"><div class="ttname"><a href="classproxygen_1_1huffman_1_1HuffTree.html#a3faa7b416d05787133a5df5bf23bc758">proxygen::huffman::HuffTree::nodes_</a></div><div class="ttdeci">uint32_t nodes_</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8h_source.html#l00146">Huffman.h:146</a></div></div>
<div class="ttc" id="classproxygen_1_1huffman_1_1HuffTree_html_a5d6350d6a6af123c10585029d4bf98e3"><div class="ttname"><a href="classproxygen_1_1huffman_1_1HuffTree.html#a5d6350d6a6af123c10585029d4bf98e3">proxygen::huffman::HuffTree::table_</a></div><div class="ttdeci">SuperHuffNode table_[46]</div><div class="ttdef"><b>Definition:</b> <a href="Huffman_8h_source.html#l00152">Huffman.h:152</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aa361cd824d7b8af43423a484217f1306"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t* proxygen::huffman::HuffTree::bits_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Huffman_8h_source.html#l00148">148</a> of file <a class="el" href="Huffman_8h_source.html">Huffman.h</a>.</p>

<p>Referenced by <a class="el" href="Huffman_8cpp_source.html#l00102">bitsTable()</a>, <a class="el" href="Huffman_8cpp_source.html#l00126">buildTree()</a>, <a class="el" href="Huffman_8cpp_source.html#l00133">encode()</a>, <a class="el" href="Huffman_8cpp_source.html#l00196">getCode()</a>, and <a class="el" href="Huffman_8cpp_source.html#l00182">getEncodeSize()</a>.</p>

</div>
</div>
<a class="anchor" id="a83645dcd5290d5d11548d7934a51fe4b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t* proxygen::huffman::HuffTree::codes_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Huffman_8h_source.html#l00147">147</a> of file <a class="el" href="Huffman_8h_source.html">Huffman.h</a>.</p>

<p>Referenced by <a class="el" href="Huffman_8cpp_source.html#l00126">buildTree()</a>, <a class="el" href="Huffman_8cpp_source.html#l00098">codesTable()</a>, <a class="el" href="Huffman_8cpp_source.html#l00133">encode()</a>, and <a class="el" href="Huffman_8cpp_source.html#l00196">getCode()</a>.</p>

</div>
</div>
<a class="anchor" id="a3faa7b416d05787133a5df5bf23bc758"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t proxygen::huffman::HuffTree::nodes_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Huffman_8h_source.html#l00146">146</a> of file <a class="el" href="Huffman_8h_source.html">Huffman.h</a>.</p>

<p>Referenced by <a class="el" href="Huffman_8cpp_source.html#l00078">insert()</a>.</p>

</div>
</div>
<a class="anchor" id="a5d6350d6a6af123c10585029d4bf98e3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structproxygen_1_1huffman_1_1SuperHuffNode.html">SuperHuffNode</a> proxygen::huffman::HuffTree::table_[46]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Huffman_8h_source.html#l00152">152</a> of file <a class="el" href="Huffman_8h_source.html">Huffman.h</a>.</p>

<p>Referenced by <a class="el" href="Huffman_8cpp_source.html#l00031">decode()</a>, and <a class="el" href="Huffman_8cpp_source.html#l00078">insert()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>proxygen/lib/http/codec/compress/<a class="el" href="Huffman_8h_source.html">Huffman.h</a></li>
<li>proxygen/lib/http/codec/compress/<a class="el" href="Huffman_8cpp_source.html">Huffman.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceproxygen.html">proxygen</a></li><li class="navelem"><a class="el" href="namespaceproxygen_1_1huffman.html">huffman</a></li><li class="navelem"><a class="el" href="classproxygen_1_1huffman_1_1HuffTree.html">HuffTree</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>

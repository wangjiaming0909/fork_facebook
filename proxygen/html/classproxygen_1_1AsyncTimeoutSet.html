<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: proxygen::AsyncTimeoutSet Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classproxygen_1_1AsyncTimeoutSet.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classproxygen_1_1AsyncTimeoutSet-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">proxygen::AsyncTimeoutSet Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="AsyncTimeoutSet_8h_source.html">AsyncTimeoutSet.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for proxygen::AsyncTimeoutSet:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classproxygen_1_1AsyncTimeoutSet.png" usemap="#proxygen::AsyncTimeoutSet_map" alt=""/>
  <map id="proxygen::AsyncTimeoutSet_map" name="proxygen::AsyncTimeoutSet_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html">Callback</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1AsyncTimeoutSet_1_1TimeoutClock.html">TimeoutClock</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a6504975452bb527d5ca5ab8d83fef9d6"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#a6504975452bb527d5ca5ab8d83fef9d6">UniquePtr</a> = std::unique_ptr&lt; <a class="el" href="classproxygen_1_1AsyncTimeoutSet.html">AsyncTimeoutSet</a>, Destructor &gt;</td></tr>
<tr class="separator:a6504975452bb527d5ca5ab8d83fef9d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0962cba7f086fb70b178b6b5348d423d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#a0962cba7f086fb70b178b6b5348d423d">AsyncTimeoutSet</a> (folly::TimeoutManager *timeoutManager, std::chrono::milliseconds intervalMS, std::chrono::milliseconds atMostEveryN=std::chrono::milliseconds(0), <a class="el" href="classproxygen_1_1AsyncTimeoutSet_1_1TimeoutClock.html">TimeoutClock</a> *timeoutClock=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>)</td></tr>
<tr class="separator:a0962cba7f086fb70b178b6b5348d423d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6cc34f3e0b95e45a6adad5647758835"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#ad6cc34f3e0b95e45a6adad5647758835">AsyncTimeoutSet</a> (folly::TimeoutManager *timeoutManager, InternalEnum internal, std::chrono::milliseconds intervalMS, std::chrono::milliseconds atMostEveryN=std::chrono::milliseconds(0))</td></tr>
<tr class="separator:ad6cc34f3e0b95e45a6adad5647758835"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d73639d69b63ae20941cf85366e64b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#a7d73639d69b63ae20941cf85366e64b4">destroy</a> () override</td></tr>
<tr class="separator:a7d73639d69b63ae20941cf85366e64b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2691cb17e6e97a681d9ed87b0214968b"><td class="memItemLeft" align="right" valign="top">std::chrono::milliseconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#a2691cb17e6e97a681d9ed87b0214968b">getInterval</a> () const </td></tr>
<tr class="separator:a2691cb17e6e97a681d9ed87b0214968b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47263dc8248a017034999fee182c7f0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#a47263dc8248a017034999fee182c7f0b">scheduleTimeout</a> (<a class="el" href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html">Callback</a> *callback)</td></tr>
<tr class="separator:a47263dc8248a017034999fee182c7f0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50d05bfe30768a44f49a961994e08b54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#a50d05bfe30768a44f49a961994e08b54">fireAtMostEvery</a> (const std::chrono::milliseconds &amp;ms)</td></tr>
<tr class="separator:a50d05bfe30768a44f49a961994e08b54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a545e118edc2b8d391efebe285299890d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html">Callback</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#a545e118edc2b8d391efebe285299890d">front</a> ()</td></tr>
<tr class="separator:a545e118edc2b8d391efebe285299890d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07cbf841b5ac1414b2c34c0ca0572821"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html">Callback</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#a07cbf841b5ac1414b2c34c0ca0572821">front</a> () const </td></tr>
<tr class="separator:a07cbf841b5ac1414b2c34c0ca0572821"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aedb30a91d3cafa5cdd64721a69b2da53"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#aedb30a91d3cafa5cdd64721a69b2da53">~AsyncTimeoutSet</a> () override</td></tr>
<tr class="separator:aedb30a91d3cafa5cdd64721a69b2da53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a92a08e535442ea2a5ee946c1865aa225"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#a92a08e535442ea2a5ee946c1865aa225">AsyncTimeoutSet</a> (<a class="el" href="classproxygen_1_1AsyncTimeoutSet.html">AsyncTimeoutSet</a> const &amp;)=delete</td></tr>
<tr class="separator:a92a08e535442ea2a5ee946c1865aa225"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fab352ad4f67effd55362cb9d9767e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html">AsyncTimeoutSet</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#a0fab352ad4f67effd55362cb9d9767e9">operator=</a> (<a class="el" href="classproxygen_1_1AsyncTimeoutSet.html">AsyncTimeoutSet</a> const &amp;)=delete</td></tr>
<tr class="separator:a0fab352ad4f67effd55362cb9d9767e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3dfc2b108061d8525f3f25f360424e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#ac3dfc2b108061d8525f3f25f360424e2">headChanged</a> ()</td></tr>
<tr class="separator:ac3dfc2b108061d8525f3f25f360424e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3886b99e43d265f8bf9747e5da2dd75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#ae3886b99e43d265f8bf9747e5da2dd75">timeoutExpired</a> () noexceptoverride</td></tr>
<tr class="separator:ae3886b99e43d265f8bf9747e5da2dd75"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a06c3f0dd7e387a0fb58dcd77f74a6ec3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classproxygen_1_1AsyncTimeoutSet_1_1TimeoutClock.html">TimeoutClock</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#a06c3f0dd7e387a0fb58dcd77f74a6ec3">timeoutClock_</a></td></tr>
<tr class="separator:a06c3f0dd7e387a0fb58dcd77f74a6ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c9669e4c4e0829c867708cc95de2941"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html">Callback</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#a8c9669e4c4e0829c867708cc95de2941">head_</a></td></tr>
<tr class="separator:a8c9669e4c4e0829c867708cc95de2941"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4ec32ea911001768191964bd822a5f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html">Callback</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#ac4ec32ea911001768191964bd822a5f1">tail_</a></td></tr>
<tr class="separator:ac4ec32ea911001768191964bd822a5f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1a9da62448a39b9f478b5e675a5893b"><td class="memItemLeft" align="right" valign="top">std::chrono::milliseconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#aa1a9da62448a39b9f478b5e675a5893b">interval_</a></td></tr>
<tr class="separator:aa1a9da62448a39b9f478b5e675a5893b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe127bd607f5e9333e98fa6e85d1829d"><td class="memItemLeft" align="right" valign="top">std::chrono::milliseconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#afe127bd607f5e9333e98fa6e85d1829d">atMostEveryN_</a></td></tr>
<tr class="separator:afe127bd607f5e9333e98fa6e85d1829d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d5268d9fbc05770dc95530f1a0b5d8a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#a9d5268d9fbc05770dc95530f1a0b5d8a">inTimeoutExpired_</a> {false}</td></tr>
<tr class="separator:a9d5268d9fbc05770dc95530f1a0b5d8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html">AsyncTimeoutSet</a> exists for efficiently managing a group of timeouts events that always have the same timeout interval.</p>
<p><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html">AsyncTimeoutSet</a> takes advantage of the fact that the timeouts are always scheduled in sorted order. (Since each timeout has the same interval, when a new timeout is scheduled it will always be the last timeout in the set.) This avoids the need to perform any additional sorting of the timeouts within a single <a class="el" href="classproxygen_1_1AsyncTimeoutSet.html">AsyncTimeoutSet</a>.</p>
<p><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html">AsyncTimeoutSet</a> is useful whenever you have a large group of objects that each need their own timeout, but with the same interval for each object. For example, managing idle timeouts for thousands of connection, or scheduling health checks for a large group of servers.</p>
<p>Note, this class may not be needed given libevent's event_base_init_common_timeout(). We should look into using that. </p>

<p>Definition at line <a class="el" href="AsyncTimeoutSet_8h_source.html#l00040">40</a> of file <a class="el" href="AsyncTimeoutSet_8h_source.html">AsyncTimeoutSet.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a6504975452bb527d5ca5ab8d83fef9d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#a6504975452bb527d5ca5ab8d83fef9d6">proxygen::AsyncTimeoutSet::UniquePtr</a> =  std::unique_ptr&lt;<a class="el" href="classproxygen_1_1AsyncTimeoutSet.html">AsyncTimeoutSet</a>, Destructor&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AsyncTimeoutSet_8h_source.html#l00043">43</a> of file <a class="el" href="AsyncTimeoutSet_8h_source.html">AsyncTimeoutSet.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a0962cba7f086fb70b178b6b5348d423d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proxygen::AsyncTimeoutSet::AsyncTimeoutSet </td>
          <td>(</td>
          <td class="paramtype">folly::TimeoutManager *&#160;</td>
          <td class="paramname"><em>timeoutManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>intervalMS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>atMostEveryN</em> = <code>std::chrono::milliseconds(0)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classproxygen_1_1AsyncTimeoutSet_1_1TimeoutClock.html">TimeoutClock</a> *&#160;</td>
          <td class="paramname"><em>timeoutClock</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new <a class="el" href="classproxygen_1_1AsyncTimeoutSet.html">AsyncTimeoutSet</a> with the specified interval.</p>
<p>If timeout clock is unspecified, it will use the default (system clock) </p>

<p>Referenced by <a class="el" href="AsyncTimeoutSet_8cpp_source.html#l00052">proxygen::AsyncTimeoutSet::Callback::cancelTimeoutImpl()</a>.</p>

</div>
</div>
<a class="anchor" id="ad6cc34f3e0b95e45a6adad5647758835"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proxygen::AsyncTimeoutSet::AsyncTimeoutSet </td>
          <td>(</td>
          <td class="paramtype">folly::TimeoutManager *&#160;</td>
          <td class="paramname"><em>timeoutManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">InternalEnum&#160;</td>
          <td class="paramname"><em>internal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>intervalMS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>atMostEveryN</em> = <code>std::chrono::milliseconds(0)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new <a class="el" href="classproxygen_1_1AsyncTimeoutSet.html">AsyncTimeoutSet</a> with the given 'internal' settting. For details on what the InternalEnum specifies, see the documentation in AsyncTimeout.h </p>

</div>
</div>
<a class="anchor" id="aedb30a91d3cafa5cdd64721a69b2da53"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">proxygen::AsyncTimeoutSet::~AsyncTimeoutSet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Protected destructor.</p>
<p>Use <a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#a7d73639d69b63ae20941cf85366e64b4">destroy()</a> instead. See the comments in DelayedDestruction for more details. </p>

<p>Definition at line <a class="el" href="AsyncTimeoutSet_8cpp_source.html#l00100">100</a> of file <a class="el" href="AsyncTimeoutSet_8cpp_source.html">AsyncTimeoutSet.cpp</a>.</p>

<p>Referenced by <a class="el" href="AsyncTimeoutSet_8h_source.html#l00187">front()</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                                  {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="comment">// DelayedDestruction should ensure that we are never destroyed while inside</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="comment">// a call to timeoutExpired().</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  assert(!<a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#a9d5268d9fbc05770dc95530f1a0b5d8a">inTimeoutExpired_</a>);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="comment">// destroy() should have already cleared out the timeout list.</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="comment">// It&#39;s a bug if anyone tries to keep using the AsyncTimeoutSet after</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="comment">// calling destroy, so no new timeouts may have been scheduled since then.</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  assert(<a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#a8c9669e4c4e0829c867708cc95de2941">head_</a> == <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  assert(<a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#ac4ec32ea911001768191964bd822a5f1">tail_</a> == <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;}</div><div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_html_ac4ec32ea911001768191964bd822a5f1"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet.html#ac4ec32ea911001768191964bd822a5f1">proxygen::AsyncTimeoutSet::tail_</a></div><div class="ttdeci">Callback * tail_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00211">AsyncTimeoutSet.h:211</a></div></div>
<div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_html_a8c9669e4c4e0829c867708cc95de2941"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet.html#a8c9669e4c4e0829c867708cc95de2941">proxygen::AsyncTimeoutSet::head_</a></div><div class="ttdeci">Callback * head_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00210">AsyncTimeoutSet.h:210</a></div></div>
<div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_html_a9d5268d9fbc05770dc95530f1a0b5d8a"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet.html#a9d5268d9fbc05770dc95530f1a0b5d8a">proxygen::AsyncTimeoutSet::inTimeoutExpired_</a></div><div class="ttdeci">bool inTimeoutExpired_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00214">AsyncTimeoutSet.h:214</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a92a08e535442ea2a5ee946c1865aa225"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">proxygen::AsyncTimeoutSet::AsyncTimeoutSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html">AsyncTimeoutSet</a> const &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a7d73639d69b63ae20941cf85366e64b4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void proxygen::AsyncTimeoutSet::destroy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destroy the <a class="el" href="classproxygen_1_1AsyncTimeoutSet.html">AsyncTimeoutSet</a>.</p>
<p>Normally a <a class="el" href="classproxygen_1_1AsyncTimeoutSet.html">AsyncTimeoutSet</a> should only be destroyed when there are no more callbacks pending in the set. If there are timeout callbacks pending for this set, destroying the <a class="el" href="classproxygen_1_1AsyncTimeoutSet.html">AsyncTimeoutSet</a> will automatically cancel them. If you destroy a <a class="el" href="classproxygen_1_1AsyncTimeoutSet.html">AsyncTimeoutSet</a> with callbacks pending, your callback code needs to be aware that the callbacks will never be invoked. </p>

<p>Definition at line <a class="el" href="AsyncTimeoutSet_8cpp_source.html#l00112">112</a> of file <a class="el" href="AsyncTimeoutSet_8cpp_source.html">AsyncTimeoutSet.cpp</a>.</p>

<p>Referenced by <a class="el" href="AsyncTimeoutSet_8h_source.html#l00118">proxygen::AsyncTimeoutSet::TimeoutClock::~TimeoutClock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                              {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="comment">// If there are any timeout callbacks pending, get rid of them without ever</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="comment">// invoking them.  This is somewhat undesirable from the callback&#39;s</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">// perspective (how is it supposed to know that it will never get invoked?).</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="comment">// Most users probably only want to destroy a AsyncTimeoutSet when it has no</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="comment">// callbacks remaining.  Otherwise they need to implement their own code to</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="comment">// take care of cleaning up the callbacks that will never be invoked.</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="comment">// cancel from tail to head, to avoid extra calls to headChanged</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#ac4ec32ea911001768191964bd822a5f1">tail_</a> != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#ac4ec32ea911001768191964bd822a5f1">tail_</a>-&gt;<a class="code" href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html#ae35ff9307fec26ba32d0e85a0b07ef9b">cancelTimeout</a>();</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  DelayedDestruction::destroy();</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div><div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_html_ac4ec32ea911001768191964bd822a5f1"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet.html#ac4ec32ea911001768191964bd822a5f1">proxygen::AsyncTimeoutSet::tail_</a></div><div class="ttdeci">Callback * tail_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00211">AsyncTimeoutSet.h:211</a></div></div>
<div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_1_1Callback_html_ae35ff9307fec26ba32d0e85a0b07ef9b"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html#ae35ff9307fec26ba32d0e85a0b07ef9b">proxygen::AsyncTimeoutSet::Callback::cancelTimeout</a></div><div class="ttdeci">void cancelTimeout()</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00070">AsyncTimeoutSet.h:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a50d05bfe30768a44f49a961994e08b54"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void proxygen::AsyncTimeoutSet::fireAtMostEvery </td>
          <td>(</td>
          <td class="paramtype">const std::chrono::milliseconds &amp;&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Limit how frequently this <a class="el" href="classproxygen_1_1AsyncTimeoutSet.html">AsyncTimeoutSet</a> will fire. </p>

<p>Definition at line <a class="el" href="AsyncTimeoutSet_8h_source.html#l00179">179</a> of file <a class="el" href="AsyncTimeoutSet_8h_source.html">AsyncTimeoutSet.h</a>.</p>

<p>References <a class="el" href="AsyncTimeoutSet_8h_source.html#l00213">atMostEveryN_</a>.</p>
<div class="fragment"><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                                                        {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#afe127bd607f5e9333e98fa6e85d1829d">atMostEveryN_</a> = ms;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  }</div><div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_html_afe127bd607f5e9333e98fa6e85d1829d"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet.html#afe127bd607f5e9333e98fa6e85d1829d">proxygen::AsyncTimeoutSet::atMostEveryN_</a></div><div class="ttdeci">std::chrono::milliseconds atMostEveryN_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00213">AsyncTimeoutSet.h:213</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a545e118edc2b8d391efebe285299890d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html">Callback</a>* proxygen::AsyncTimeoutSet::front </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a pointer to the next <a class="el" href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html">Callback</a> scheduled to be invoked (may be null). </p>

<p>Definition at line <a class="el" href="AsyncTimeoutSet_8h_source.html#l00186">186</a> of file <a class="el" href="AsyncTimeoutSet_8h_source.html">AsyncTimeoutSet.h</a>.</p>

<p>References <a class="el" href="AsyncTimeoutSet_8h_source.html#l00210">head_</a>.</p>

<p>Referenced by <a class="el" href="AsyncTimeoutSetTest_8cpp_source.html#l00064">TestTimeout::_scheduleNext()</a>.</p>
<div class="fragment"><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#a8c9669e4c4e0829c867708cc95de2941">head_</a>; }</div><div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_html_a8c9669e4c4e0829c867708cc95de2941"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet.html#a8c9669e4c4e0829c867708cc95de2941">proxygen::AsyncTimeoutSet::head_</a></div><div class="ttdeci">Callback * head_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00210">AsyncTimeoutSet.h:210</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a07cbf841b5ac1414b2c34c0ca0572821"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html">Callback</a>* proxygen::AsyncTimeoutSet::front </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AsyncTimeoutSet_8h_source.html#l00187">187</a> of file <a class="el" href="AsyncTimeoutSet_8h_source.html">AsyncTimeoutSet.h</a>.</p>

<p>References <a class="el" href="AsyncTimeoutSet_8h_source.html#l00107">proxygen::AsyncTimeoutSet::Callback::AsyncTimeoutSet</a>, <a class="el" href="AsyncTimeoutSet_8h_source.html#l00210">head_</a>, <a class="el" href="AsyncTimeoutSet_8cpp_source.html#l00158">headChanged()</a>, <a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#a0fab352ad4f67effd55362cb9d9767e9">operator=()</a>, <a class="el" href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html#a6c1534935d53209440d6b02c7a69e96c">proxygen::AsyncTimeoutSet::Callback::timeoutExpired()</a>, and <a class="el" href="AsyncTimeoutSet_8cpp_source.html#l00100">~AsyncTimeoutSet()</a>.</p>
<div class="fragment"><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#a8c9669e4c4e0829c867708cc95de2941">head_</a>; }</div><div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_html_a8c9669e4c4e0829c867708cc95de2941"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet.html#a8c9669e4c4e0829c867708cc95de2941">proxygen::AsyncTimeoutSet::head_</a></div><div class="ttdeci">Callback * head_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00210">AsyncTimeoutSet.h:210</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2691cb17e6e97a681d9ed87b0214968b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::chrono::milliseconds proxygen::AsyncTimeoutSet::getInterval </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the interval for this <a class="el" href="classproxygen_1_1AsyncTimeoutSet.html">AsyncTimeoutSet</a>.</p>
<p>Returns the timeout interval in milliseconds. All callbacks scheduled with <a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#a47263dc8248a017034999fee182c7f0b">scheduleTimeout()</a> will be invoked after this amount of time has passed since the call to <a class="el" href="classproxygen_1_1AsyncTimeoutSet.html#a47263dc8248a017034999fee182c7f0b">scheduleTimeout()</a>. </p>

<p>Definition at line <a class="el" href="AsyncTimeoutSet_8h_source.html#l00163">163</a> of file <a class="el" href="AsyncTimeoutSet_8h_source.html">AsyncTimeoutSet.h</a>.</p>

<p>References <a class="el" href="AsyncTimeoutSet_8h_source.html#l00212">interval_</a>, and <a class="el" href="AsyncTimeoutSet_8cpp_source.html#l00128">scheduleTimeout()</a>.</p>
<div class="fragment"><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                                            {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#aa1a9da62448a39b9f478b5e675a5893b">interval_</a>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  }</div><div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_html_aa1a9da62448a39b9f478b5e675a5893b"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet.html#aa1a9da62448a39b9f478b5e675a5893b">proxygen::AsyncTimeoutSet::interval_</a></div><div class="ttdeci">std::chrono::milliseconds interval_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00212">AsyncTimeoutSet.h:212</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac3dfc2b108061d8525f3f25f360424e2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void proxygen::AsyncTimeoutSet::headChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AsyncTimeoutSet_8cpp_source.html#l00158">158</a> of file <a class="el" href="AsyncTimeoutSet_8cpp_source.html">AsyncTimeoutSet.cpp</a>.</p>

<p>Referenced by <a class="el" href="AsyncTimeoutSet_8h_source.html#l00187">front()</a>.</p>
<div class="fragment"><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                                  {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#a9d5268d9fbc05770dc95530f1a0b5d8a">inTimeoutExpired_</a>) {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="comment">// timeoutExpired() will always update the scheduling correctly before it</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment">// returns.  No need to change the state now, since we are just going to</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="comment">// change it again later.</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#a8c9669e4c4e0829c867708cc95de2941">head_</a>) {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    this-&gt;folly::AsyncTimeout::cancelTimeout();</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    milliseconds delta =</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#a8c9669e4c4e0829c867708cc95de2941">head_</a>-&gt;<a class="code" href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html#a1f3f31c99103709f658ce8b92d198f4e">getTimeRemaining</a>(<a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#a06c3f0dd7e387a0fb58dcd77f74a6ec3">timeoutClock_</a>.<a class="code" href="classproxygen_1_1AsyncTimeoutSet_1_1TimeoutClock.html#a316422f0a36fc58f2ef1a48c1a707177">millisecondsSinceEpoch</a>());</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    this-&gt;folly::AsyncTimeout::scheduleTimeout(delta.count());</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  }</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div><div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_1_1TimeoutClock_html_a316422f0a36fc58f2ef1a48c1a707177"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet_1_1TimeoutClock.html#a316422f0a36fc58f2ef1a48c1a707177">proxygen::AsyncTimeoutSet::TimeoutClock::millisecondsSinceEpoch</a></div><div class="ttdeci">virtual std::chrono::milliseconds millisecondsSinceEpoch()=0</div></div>
<div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_html_a8c9669e4c4e0829c867708cc95de2941"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet.html#a8c9669e4c4e0829c867708cc95de2941">proxygen::AsyncTimeoutSet::head_</a></div><div class="ttdeci">Callback * head_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00210">AsyncTimeoutSet.h:210</a></div></div>
<div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_html_a9d5268d9fbc05770dc95530f1a0b5d8a"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet.html#a9d5268d9fbc05770dc95530f1a0b5d8a">proxygen::AsyncTimeoutSet::inTimeoutExpired_</a></div><div class="ttdeci">bool inTimeoutExpired_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00214">AsyncTimeoutSet.h:214</a></div></div>
<div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_1_1Callback_html_a1f3f31c99103709f658ce8b92d198f4e"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html#a1f3f31c99103709f658ce8b92d198f4e">proxygen::AsyncTimeoutSet::Callback::getTimeRemaining</a></div><div class="ttdeci">std::chrono::milliseconds getTimeRemaining(std::chrono::milliseconds now) const </div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00087">AsyncTimeoutSet.h:87</a></div></div>
<div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_html_a06c3f0dd7e387a0fb58dcd77f74a6ec3"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet.html#a06c3f0dd7e387a0fb58dcd77f74a6ec3">proxygen::AsyncTimeoutSet::timeoutClock_</a></div><div class="ttdeci">TimeoutClock &amp; timeoutClock_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00209">AsyncTimeoutSet.h:209</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0fab352ad4f67effd55362cb9d9767e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html">AsyncTimeoutSet</a>&amp; proxygen::AsyncTimeoutSet::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html">AsyncTimeoutSet</a> const &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="AsyncTimeoutSet_8h_source.html#l00187">front()</a>.</p>

</div>
</div>
<a class="anchor" id="a47263dc8248a017034999fee182c7f0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void proxygen::AsyncTimeoutSet::scheduleTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html">Callback</a> *&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Schedule the specified <a class="el" href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html">Callback</a> to be invoked after the <a class="el" href="classproxygen_1_1AsyncTimeoutSet.html">AsyncTimeoutSet</a>'s specified timeout interval.</p>
<p>If the callback is already scheduled, this cancels the existing timeout before scheduling the new timeout. </p>

<p>Definition at line <a class="el" href="AsyncTimeoutSet_8cpp_source.html#l00128">128</a> of file <a class="el" href="AsyncTimeoutSet_8cpp_source.html">AsyncTimeoutSet.cpp</a>.</p>

<p>References <a class="el" href="AsyncTimeoutSet_8h_source.html#l00070">proxygen::AsyncTimeoutSet::Callback::cancelTimeout()</a>, <a class="el" href="AsyncTimeoutSet_8h_source.html#l00098">proxygen::AsyncTimeoutSet::Callback::context_</a>, <a class="el" href="AsyncTimeoutSet_8h_source.html#l00102">proxygen::AsyncTimeoutSet::Callback::next_</a>, <a class="el" href="AsyncTimeoutSet_8h_source.html#l00101">proxygen::AsyncTimeoutSet::Callback::prev_</a>, and <a class="el" href="AsyncTimeoutSet_8cpp_source.html#l00038">proxygen::AsyncTimeoutSet::Callback::setScheduled()</a>.</p>

<p>Referenced by <a class="el" href="AsyncTimeoutSetTest_8cpp_source.html#l00064">TestTimeout::_scheduleNext()</a>, and <a class="el" href="AsyncTimeoutSet_8h_source.html#l00163">getInterval()</a>.</p>
<div class="fragment"><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                                                        {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="comment">// Cancel the callback if it happens to be scheduled already.</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  callback-&gt;cancelTimeout();</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  assert(callback-&gt;prev_ == <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  assert(callback-&gt;next_ == <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  callback-&gt;context_ = folly::RequestContext::saveContext();</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  Callback* old_tail = <a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#ac4ec32ea911001768191964bd822a5f1">tail_</a>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#a8c9669e4c4e0829c867708cc95de2941">head_</a> == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="comment">// We don&#39;t have any timeouts scheduled already.  We have to schedule</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">// ourself.</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    assert(<a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#ac4ec32ea911001768191964bd822a5f1">tail_</a> == <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    assert(!isScheduled());</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#a9d5268d9fbc05770dc95530f1a0b5d8a">inTimeoutExpired_</a>) {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      this-&gt;folly::AsyncTimeout::scheduleTimeout(<a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#aa1a9da62448a39b9f478b5e675a5893b">interval_</a>.count());</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#a8c9669e4c4e0829c867708cc95de2941">head_</a> = callback;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#ac4ec32ea911001768191964bd822a5f1">tail_</a> = callback;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    assert(<a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#a9d5268d9fbc05770dc95530f1a0b5d8a">inTimeoutExpired_</a> || isScheduled());</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    assert(<a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#ac4ec32ea911001768191964bd822a5f1">tail_</a>-&gt;<a class="code" href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html#aa87ca0fb3bd1c15ba444e79400e881ae">next_</a> == <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#ac4ec32ea911001768191964bd822a5f1">tail_</a>-&gt;<a class="code" href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html#aa87ca0fb3bd1c15ba444e79400e881ae">next_</a> = callback;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#ac4ec32ea911001768191964bd822a5f1">tail_</a> = callback;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="comment">// callback-&gt;prev_ = tail_;</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  callback-&gt;<a class="code" href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html#a75d1242305382f91672fb8ff79393d47">setScheduled</a>(<span class="keyword">this</span>, old_tail);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div><div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_html_ac4ec32ea911001768191964bd822a5f1"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet.html#ac4ec32ea911001768191964bd822a5f1">proxygen::AsyncTimeoutSet::tail_</a></div><div class="ttdeci">Callback * tail_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00211">AsyncTimeoutSet.h:211</a></div></div>
<div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_html_a8c9669e4c4e0829c867708cc95de2941"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet.html#a8c9669e4c4e0829c867708cc95de2941">proxygen::AsyncTimeoutSet::head_</a></div><div class="ttdeci">Callback * head_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00210">AsyncTimeoutSet.h:210</a></div></div>
<div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_html_a9d5268d9fbc05770dc95530f1a0b5d8a"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet.html#a9d5268d9fbc05770dc95530f1a0b5d8a">proxygen::AsyncTimeoutSet::inTimeoutExpired_</a></div><div class="ttdeci">bool inTimeoutExpired_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00214">AsyncTimeoutSet.h:214</a></div></div>
<div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_1_1Callback_html_aa87ca0fb3bd1c15ba444e79400e881ae"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html#aa87ca0fb3bd1c15ba444e79400e881ae">proxygen::AsyncTimeoutSet::Callback::next_</a></div><div class="ttdeci">Callback * next_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00102">AsyncTimeoutSet.h:102</a></div></div>
<div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_1_1Callback_html_a75d1242305382f91672fb8ff79393d47"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html#a75d1242305382f91672fb8ff79393d47">proxygen::AsyncTimeoutSet::Callback::setScheduled</a></div><div class="ttdeci">void setScheduled(AsyncTimeoutSet *timeoutSet, Callback *prev)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8cpp_source.html#l00038">AsyncTimeoutSet.cpp:38</a></div></div>
<div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_html_aa1a9da62448a39b9f478b5e675a5893b"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet.html#aa1a9da62448a39b9f478b5e675a5893b">proxygen::AsyncTimeoutSet::interval_</a></div><div class="ttdeci">std::chrono::milliseconds interval_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00212">AsyncTimeoutSet.h:212</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae3886b99e43d265f8bf9747e5da2dd75"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void proxygen::AsyncTimeoutSet::timeoutExpired </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AsyncTimeoutSet_8cpp_source.html#l00175">175</a> of file <a class="el" href="AsyncTimeoutSet_8cpp_source.html">AsyncTimeoutSet.cpp</a>.</p>

<p>References <a class="el" href="AsyncTimeoutSet_8h_source.html#l00070">proxygen::AsyncTimeoutSet::Callback::cancelTimeout()</a>, <a class="el" href="AsyncTimeoutSet_8h_source.html#l00098">proxygen::AsyncTimeoutSet::Callback::context_</a>, and <a class="el" href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html#a6c1534935d53209440d6b02c7a69e96c">proxygen::AsyncTimeoutSet::Callback::timeoutExpired()</a>.</p>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                                              {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="comment">// If destroy() is called inside timeoutExpired(), delay actual destruction</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="comment">// until timeoutExpired() returns</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  DestructorGuard dg(<span class="keyword">this</span>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="comment">// timeoutExpired() can only be invoked directly from the event base loop.</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="comment">// It should never be invoked recursively.</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="comment">// Set inTimeoutExpired_ to true, so that we won&#39;t bother rescheduling the</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="comment">// main AsyncTimeout inside timeoutExpired().  We&#39;ll always make sure this</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="comment">// is up-to-date before we return.  This simply prevents us from</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="comment">// unnecessarily modifying the main timeout heap multiple times before we</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">// return.</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  assert(!<a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#a9d5268d9fbc05770dc95530f1a0b5d8a">inTimeoutExpired_</a>);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#a9d5268d9fbc05770dc95530f1a0b5d8a">inTimeoutExpired_</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  SCOPE_EXIT { <a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#a9d5268d9fbc05770dc95530f1a0b5d8a">inTimeoutExpired_</a> = <span class="keyword">false</span>; };</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="comment">// Get the current time.</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="comment">// For now we only compute the current time at the start of the loop.</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="comment">// If a callback takes a very long time to execute its timeoutExpired()</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="comment">// method, this value could potentially get stale.</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="comment">// However, this should be rare, and it doesn&#39;t seem worth the overhead of</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="comment">// recomputing the current time each time around the loop.  If the value does</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="comment">// go stale, we won&#39;t invoke as many callbacks as we could.  They will have</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="comment">// to wait until the next call to timeoutExpired().  However, we could also</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="comment">// end up rescheduling the next timeoutExpired() call a bit late if now gets</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="comment">// stale.  If we find that this becomes a problem in practice we could be</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="comment">// more smart about when we recompute the current time.</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keyword">auto</span> now = <a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#a06c3f0dd7e387a0fb58dcd77f74a6ec3">timeoutClock_</a>.<a class="code" href="classproxygen_1_1AsyncTimeoutSet_1_1TimeoutClock.html#a316422f0a36fc58f2ef1a48c1a707177">millisecondsSinceEpoch</a>();</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#a8c9669e4c4e0829c867708cc95de2941">head_</a> != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    milliseconds delta = <a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#a8c9669e4c4e0829c867708cc95de2941">head_</a>-&gt;<a class="code" href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html#a1f3f31c99103709f658ce8b92d198f4e">getTimeRemaining</a>(now);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">if</span> (delta &gt; milliseconds(0)) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      <span class="keywordflow">if</span> (delta &lt; <a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#afe127bd607f5e9333e98fa6e85d1829d">atMostEveryN_</a>) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        delta = <a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#afe127bd607f5e9333e98fa6e85d1829d">atMostEveryN_</a>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      this-&gt;folly::AsyncTimeout::scheduleTimeout(delta.count());</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="comment">// Remember the callback to invoke, since calling cancelTimeout()</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">// on it will modify head_.</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    Callback* cb = <a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#a8c9669e4c4e0829c867708cc95de2941">head_</a>;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="classproxygen_1_1AsyncTimeoutSet.html#a8c9669e4c4e0829c867708cc95de2941">head_</a>-&gt;<a class="code" href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html#ae35ff9307fec26ba32d0e85a0b07ef9b">cancelTimeout</a>();</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    folly::RequestContextScopeGuard rctxScopeGuard(cb-&gt;context_);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    cb-&gt;timeoutExpired();</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  }</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;}</div><div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_1_1TimeoutClock_html_a316422f0a36fc58f2ef1a48c1a707177"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet_1_1TimeoutClock.html#a316422f0a36fc58f2ef1a48c1a707177">proxygen::AsyncTimeoutSet::TimeoutClock::millisecondsSinceEpoch</a></div><div class="ttdeci">virtual std::chrono::milliseconds millisecondsSinceEpoch()=0</div></div>
<div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_html_afe127bd607f5e9333e98fa6e85d1829d"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet.html#afe127bd607f5e9333e98fa6e85d1829d">proxygen::AsyncTimeoutSet::atMostEveryN_</a></div><div class="ttdeci">std::chrono::milliseconds atMostEveryN_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00213">AsyncTimeoutSet.h:213</a></div></div>
<div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_html_a8c9669e4c4e0829c867708cc95de2941"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet.html#a8c9669e4c4e0829c867708cc95de2941">proxygen::AsyncTimeoutSet::head_</a></div><div class="ttdeci">Callback * head_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00210">AsyncTimeoutSet.h:210</a></div></div>
<div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_html_a9d5268d9fbc05770dc95530f1a0b5d8a"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet.html#a9d5268d9fbc05770dc95530f1a0b5d8a">proxygen::AsyncTimeoutSet::inTimeoutExpired_</a></div><div class="ttdeci">bool inTimeoutExpired_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00214">AsyncTimeoutSet.h:214</a></div></div>
<div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_1_1Callback_html_a1f3f31c99103709f658ce8b92d198f4e"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html#a1f3f31c99103709f658ce8b92d198f4e">proxygen::AsyncTimeoutSet::Callback::getTimeRemaining</a></div><div class="ttdeci">std::chrono::milliseconds getTimeRemaining(std::chrono::milliseconds now) const </div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00087">AsyncTimeoutSet.h:87</a></div></div>
<div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_1_1Callback_html_ae35ff9307fec26ba32d0e85a0b07ef9b"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html#ae35ff9307fec26ba32d0e85a0b07ef9b">proxygen::AsyncTimeoutSet::Callback::cancelTimeout</a></div><div class="ttdeci">void cancelTimeout()</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00070">AsyncTimeoutSet.h:70</a></div></div>
<div class="ttc" id="classproxygen_1_1AsyncTimeoutSet_html_a06c3f0dd7e387a0fb58dcd77f74a6ec3"><div class="ttname"><a href="classproxygen_1_1AsyncTimeoutSet.html#a06c3f0dd7e387a0fb58dcd77f74a6ec3">proxygen::AsyncTimeoutSet::timeoutClock_</a></div><div class="ttdeci">TimeoutClock &amp; timeoutClock_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeoutSet_8h_source.html#l00209">AsyncTimeoutSet.h:209</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="afe127bd607f5e9333e98fa6e85d1829d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::chrono::milliseconds proxygen::AsyncTimeoutSet::atMostEveryN_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AsyncTimeoutSet_8h_source.html#l00213">213</a> of file <a class="el" href="AsyncTimeoutSet_8h_source.html">AsyncTimeoutSet.h</a>.</p>

<p>Referenced by <a class="el" href="AsyncTimeoutSet_8h_source.html#l00179">fireAtMostEvery()</a>.</p>

</div>
</div>
<a class="anchor" id="a8c9669e4c4e0829c867708cc95de2941"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html">Callback</a>* proxygen::AsyncTimeoutSet::head_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AsyncTimeoutSet_8h_source.html#l00210">210</a> of file <a class="el" href="AsyncTimeoutSet_8h_source.html">AsyncTimeoutSet.h</a>.</p>

<p>Referenced by <a class="el" href="AsyncTimeoutSet_8h_source.html#l00186">front()</a>.</p>

</div>
</div>
<a class="anchor" id="aa1a9da62448a39b9f478b5e675a5893b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::chrono::milliseconds proxygen::AsyncTimeoutSet::interval_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AsyncTimeoutSet_8h_source.html#l00212">212</a> of file <a class="el" href="AsyncTimeoutSet_8h_source.html">AsyncTimeoutSet.h</a>.</p>

<p>Referenced by <a class="el" href="AsyncTimeoutSet_8h_source.html#l00163">getInterval()</a>.</p>

</div>
</div>
<a class="anchor" id="a9d5268d9fbc05770dc95530f1a0b5d8a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool proxygen::AsyncTimeoutSet::inTimeoutExpired_ {false}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AsyncTimeoutSet_8h_source.html#l00214">214</a> of file <a class="el" href="AsyncTimeoutSet_8h_source.html">AsyncTimeoutSet.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac4ec32ea911001768191964bd822a5f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classproxygen_1_1AsyncTimeoutSet_1_1Callback.html">Callback</a>* proxygen::AsyncTimeoutSet::tail_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AsyncTimeoutSet_8h_source.html#l00211">211</a> of file <a class="el" href="AsyncTimeoutSet_8h_source.html">AsyncTimeoutSet.h</a>.</p>

</div>
</div>
<a class="anchor" id="a06c3f0dd7e387a0fb58dcd77f74a6ec3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classproxygen_1_1AsyncTimeoutSet_1_1TimeoutClock.html">TimeoutClock</a>&amp; proxygen::AsyncTimeoutSet::timeoutClock_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AsyncTimeoutSet_8h_source.html#l00209">209</a> of file <a class="el" href="AsyncTimeoutSet_8h_source.html">AsyncTimeoutSet.h</a>.</p>

<p>Referenced by <a class="el" href="AsyncTimeoutSet_8cpp_source.html#l00038">proxygen::AsyncTimeoutSet::Callback::setScheduled()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>proxygen/lib/utils/<a class="el" href="AsyncTimeoutSet_8h_source.html">AsyncTimeoutSet.h</a></li>
<li>proxygen/lib/utils/<a class="el" href="AsyncTimeoutSet_8cpp_source.html">AsyncTimeoutSet.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceproxygen.html">proxygen</a></li><li class="navelem"><a class="el" href="classproxygen_1_1AsyncTimeoutSet.html">AsyncTimeoutSet</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>

\section{proxygen/lib/utils/test/\+Parse\+U\+R\+L\+Test.cpp File Reference}
\label{ParseURLTest_8cpp}\index{proxygen/lib/utils/test/\+Parse\+U\+R\+L\+Test.\+cpp@{proxygen/lib/utils/test/\+Parse\+U\+R\+L\+Test.\+cpp}}
{\ttfamily \#include $<$folly/portability/\+G\+Test.\+h$>$}\\*
{\ttfamily \#include $<$proxygen/lib/utils/\+Parse\+U\+R\+L.\+h$>$}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void {\bf test\+Parse\+U\+RL} (const string \&url, const string \&expected\+Scheme, const string \&expected\+Path, const string \&expected\+Query, const string \&expected\+Host, const uint16\+\_\+t expected\+Port, const string \&expected\+Authority, const bool expected\+Valid=true)
\item 
void {\bf test\+Host\+Is\+Ip\+Address} (const string \&url, const bool expected)
\item 
{\bf T\+E\+ST} ({\bf Parse\+U\+RL}, Host\+No\+Brackets)
\item 
{\bf T\+E\+ST} ({\bf Parse\+U\+RL}, Fully\+Formed\+U\+RL)
\item 
{\bf T\+E\+ST} ({\bf Parse\+U\+RL}, Valid\+Non\+Http\+Scheme)
\item 
{\bf T\+E\+ST} ({\bf Parse\+U\+RL}, Invalid\+Scheme)
\item 
{\bf T\+E\+ST} ({\bf Parse\+U\+RL}, No\+Scheme)
\item 
{\bf T\+E\+ST} ({\bf Parse\+U\+RL}, No\+Scheme\+IP)
\item 
{\bf T\+E\+ST} ({\bf Parse\+U\+RL}, Path\+Only)
\item 
{\bf T\+E\+ST} ({\bf Parse\+U\+RL}, Query\+Is\+U\+RL)
\item 
{\bf T\+E\+ST} ({\bf Parse\+U\+RL}, Invalid\+U\+RL)
\item 
{\bf T\+E\+ST} ({\bf Parse\+U\+RL}, Is\+Host\+I\+P\+Address)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Parse\+U\+R\+L, Host\+No\+Brackets)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{{\bf Parse\+U\+RL}}]{, }
\item[{Host\+No\+Brackets}]{}
\end{DoxyParamCaption}
)}\label{ParseURLTest_8cpp_a59052ba3945307a656cb089cd38f3d3e}


Definition at line 46 of file Parse\+U\+R\+L\+Test.\+cpp.



References proxygen\+::\+Parse\+U\+R\+L\+::host(), and proxygen\+::\+Parse\+U\+R\+L\+::host\+No\+Brackets().


\begin{DoxyCode}
46                                \{
47   ParseURL p(\textcolor{stringliteral}{"/bar"});
48 
49   EXPECT\_EQ(\textcolor{stringliteral}{""}, p.host());
50   EXPECT\_EQ(\textcolor{stringliteral}{""}, p.hostNoBrackets());
51 \}
\end{DoxyCode}
\index{Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Parse\+U\+R\+L, Fully\+Formed\+U\+R\+L)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{{\bf Parse\+U\+RL}}]{, }
\item[{Fully\+Formed\+U\+RL}]{}
\end{DoxyParamCaption}
)}\label{ParseURLTest_8cpp_a138a392204a123a123e904f9535efbf6}


Definition at line 53 of file Parse\+U\+R\+L\+Test.\+cpp.



References test\+Parse\+U\+R\+L().


\begin{DoxyCode}
53                                \{
54   testParseURL(\textcolor{stringliteral}{"http://localhost:80/foo?bar#qqq"}, \textcolor{stringliteral}{"http"}, \textcolor{stringliteral}{"/foo"}, \textcolor{stringliteral}{"bar"},
55                \textcolor{stringliteral}{"localhost"}, 80, \textcolor{stringliteral}{"localhost:80"});
56   testParseURL(\textcolor{stringliteral}{"http://localhost:80/foo?bar"}, \textcolor{stringliteral}{"http"}, \textcolor{stringliteral}{"/foo"}, \textcolor{stringliteral}{"bar"},
57                \textcolor{stringliteral}{"localhost"}, 80, \textcolor{stringliteral}{"localhost:80"});
58   testParseURL(\textcolor{stringliteral}{"http://localhost:80/foo"}, \textcolor{stringliteral}{"http"}, \textcolor{stringliteral}{"/foo"}, \textcolor{stringliteral}{""},
59                \textcolor{stringliteral}{"localhost"}, 80, \textcolor{stringliteral}{"localhost:80"});
60   testParseURL(\textcolor{stringliteral}{"http://localhost:80/"}, \textcolor{stringliteral}{"http"},  \textcolor{stringliteral}{"/"}, \textcolor{stringliteral}{""},
61                \textcolor{stringliteral}{"localhost"}, 80, \textcolor{stringliteral}{"localhost:80"});
62   testParseURL(\textcolor{stringliteral}{"http://localhost:80"}, \textcolor{stringliteral}{"http"},  \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""},
63                \textcolor{stringliteral}{"localhost"}, 80, \textcolor{stringliteral}{"localhost:80"});
64   testParseURL(\textcolor{stringliteral}{"http://localhost"}, \textcolor{stringliteral}{"http"},  \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""},
65                \textcolor{stringliteral}{"localhost"}, 0, \textcolor{stringliteral}{"localhost"});
66   testParseURL(\textcolor{stringliteral}{"http://[2401:db00:2110:3051:face:0:3f:0]/"}, \textcolor{stringliteral}{"http"}, \textcolor{stringliteral}{"/"}, \textcolor{stringliteral}{""},
67                \textcolor{stringliteral}{"[2401:db00:2110:3051:face:0:3f:0]"}, 0,
68                \textcolor{stringliteral}{"[2401:db00:2110:3051:face:0:3f:0]"});
69 \}
\end{DoxyCode}
\index{Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Parse\+U\+R\+L, Valid\+Non\+Http\+Scheme)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{{\bf Parse\+U\+RL}}]{, }
\item[{Valid\+Non\+Http\+Scheme}]{}
\end{DoxyParamCaption}
)}\label{ParseURLTest_8cpp_a238f4532219b3a594d5d5b6826c541d2}


Definition at line 71 of file Parse\+U\+R\+L\+Test.\+cpp.



References test\+Parse\+U\+R\+L().


\begin{DoxyCode}
71                                    \{
72   testParseURL(\textcolor{stringliteral}{"https://localhost:80/foo?bar#qqq"}, \textcolor{stringliteral}{"https"}, \textcolor{stringliteral}{"/foo"}, \textcolor{stringliteral}{"bar"},
73                \textcolor{stringliteral}{"localhost"}, 80, \textcolor{stringliteral}{"localhost:80"});
74   testParseURL(\textcolor{stringliteral}{"rtmp://localhost:80/foo?bar#qqq"}, \textcolor{stringliteral}{"rtmp"}, \textcolor{stringliteral}{"/foo"}, \textcolor{stringliteral}{"bar"},
75                \textcolor{stringliteral}{"localhost"}, 80, \textcolor{stringliteral}{"localhost:80"});
76   testParseURL(\textcolor{stringliteral}{"ftp://localhost:80/foo?bar#qqq"}, \textcolor{stringliteral}{"ftp"}, \textcolor{stringliteral}{"/foo"}, \textcolor{stringliteral}{"bar"},
77                \textcolor{stringliteral}{"localhost"}, 80, \textcolor{stringliteral}{"localhost:80"});
78   testParseURL(\textcolor{stringliteral}{"proxygen://localhost:80/foo?bar#qqq"}, \textcolor{stringliteral}{"proxygen"}, \textcolor{stringliteral}{"/foo"}, \textcolor{stringliteral}{"bar"},
79                \textcolor{stringliteral}{"localhost"}, 80, \textcolor{stringliteral}{"localhost:80"});
80   testParseURL(\textcolor{stringliteral}{"test://localhost:80/foo?bar#qqq"}, \textcolor{stringliteral}{"test"}, \textcolor{stringliteral}{"/foo"}, \textcolor{stringliteral}{"bar"},
81                \textcolor{stringliteral}{"localhost"}, 80, \textcolor{stringliteral}{"localhost:80"});
82 \}
\end{DoxyCode}
\index{Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Parse\+U\+R\+L, Invalid\+Scheme)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{{\bf Parse\+U\+RL}}]{, }
\item[{Invalid\+Scheme}]{}
\end{DoxyParamCaption}
)}\label{ParseURLTest_8cpp_a80c9d707e12eb25a8e07fcb34865a7e2}


Definition at line 84 of file Parse\+U\+R\+L\+Test.\+cpp.



References test\+Parse\+U\+R\+L().


\begin{DoxyCode}
84                               \{
85   testParseURL(\textcolor{stringliteral}{"test123://localhost:80"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, 0, \textcolor{stringliteral}{""}, \textcolor{keyword}{false});
86   testParseURL(\textcolor{stringliteral}{"test.1://localhost:80"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, 0, \textcolor{stringliteral}{""}, \textcolor{keyword}{false});
87   testParseURL(\textcolor{stringliteral}{"://localhost:80"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, 0, \textcolor{stringliteral}{""}, \textcolor{keyword}{false});
88   testParseURL(\textcolor{stringliteral}{"123://localhost:80"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, 0, \textcolor{stringliteral}{""}, \textcolor{keyword}{false});
89   testParseURL(\textcolor{stringliteral}{"---://localhost:80"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, 0, \textcolor{stringliteral}{""}, \textcolor{keyword}{false});
90 \}
\end{DoxyCode}
\index{Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Parse\+U\+R\+L, No\+Scheme)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{{\bf Parse\+U\+RL}}]{, }
\item[{No\+Scheme}]{}
\end{DoxyParamCaption}
)}\label{ParseURLTest_8cpp_ae1586c47853dd067ec3df60a045243a5}


Definition at line 92 of file Parse\+U\+R\+L\+Test.\+cpp.



References test\+Parse\+U\+R\+L().


\begin{DoxyCode}
92                          \{
93   testParseURL(\textcolor{stringliteral}{"localhost:80/foo?bar#qqq"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{"/foo"}, \textcolor{stringliteral}{"bar"},
94                \textcolor{stringliteral}{"localhost"}, 80, \textcolor{stringliteral}{"localhost:80"});
95   testParseURL(\textcolor{stringliteral}{"localhost:80/foo?bar"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{"/foo"}, \textcolor{stringliteral}{"bar"},
96                \textcolor{stringliteral}{"localhost"}, 80, \textcolor{stringliteral}{"localhost:80"});
97   testParseURL(\textcolor{stringliteral}{"localhost:80/foo"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{"/foo"}, \textcolor{stringliteral}{""},
98                \textcolor{stringliteral}{"localhost"}, 80, \textcolor{stringliteral}{"localhost:80"});
99   testParseURL(\textcolor{stringliteral}{"localhost:80/"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{"/"}, \textcolor{stringliteral}{""},
100                \textcolor{stringliteral}{"localhost"}, 80, \textcolor{stringliteral}{"localhost:80"});
101   testParseURL(\textcolor{stringliteral}{"localhost:80"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""},
102                \textcolor{stringliteral}{"localhost"}, 80, \textcolor{stringliteral}{"localhost:80"});
103   testParseURL(\textcolor{stringliteral}{"localhost"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""},
104                \textcolor{stringliteral}{"localhost"}, 0, \textcolor{stringliteral}{"localhost"});
105 \}
\end{DoxyCode}
\index{Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Parse\+U\+R\+L, No\+Scheme\+I\+P)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{{\bf Parse\+U\+RL}}]{, }
\item[{No\+Scheme\+IP}]{}
\end{DoxyParamCaption}
)}\label{ParseURLTest_8cpp_a17d6b92865724317107ddc3e57dd0c6a}


Definition at line 107 of file Parse\+U\+R\+L\+Test.\+cpp.



References test\+Parse\+U\+R\+L().


\begin{DoxyCode}
107                            \{
108   testParseURL(\textcolor{stringliteral}{"1.2.3.4:54321/foo?bar#qqq"}, \textcolor{stringliteral}{""},
109                \textcolor{stringliteral}{"/foo"}, \textcolor{stringliteral}{"bar"}, \textcolor{stringliteral}{"1.2.3.4"}, 54321, \textcolor{stringliteral}{"1.2.3.4:54321"});
110   testParseURL(\textcolor{stringliteral}{"[::1]:80/foo?bar"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{"/foo"}, \textcolor{stringliteral}{"bar"}, \textcolor{stringliteral}{"[::1]"}, 80, \textcolor{stringliteral}{"[::1]:80"});
111   testParseURL(\textcolor{stringliteral}{"[::1]/foo?bar"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{"/foo"}, \textcolor{stringliteral}{"bar"}, \textcolor{stringliteral}{"[::1]"}, 0, \textcolor{stringliteral}{"[::1]"});
112 \}
\end{DoxyCode}
\index{Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Parse\+U\+R\+L, Path\+Only)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{{\bf Parse\+U\+RL}}]{, }
\item[{Path\+Only}]{}
\end{DoxyParamCaption}
)}\label{ParseURLTest_8cpp_a6a2703cd40f1d0285a94230dbd098e28}


Definition at line 114 of file Parse\+U\+R\+L\+Test.\+cpp.



References test\+Parse\+U\+R\+L().


\begin{DoxyCode}
114                          \{
115   testParseURL(\textcolor{stringliteral}{"/f/o/o?bar#qqq"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{"/f/o/o"}, \textcolor{stringliteral}{"bar"}, \textcolor{stringliteral}{""}, 0, \textcolor{stringliteral}{""});
116   testParseURL(\textcolor{stringliteral}{"/f/o/o?bar"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{"/f/o/o"}, \textcolor{stringliteral}{"bar"}, \textcolor{stringliteral}{""}, 0, \textcolor{stringliteral}{""});
117   testParseURL(\textcolor{stringliteral}{"/f/o/o"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{"/f/o/o"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, 0, \textcolor{stringliteral}{""});
118   testParseURL(\textcolor{stringliteral}{"/"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{"/"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, 0, \textcolor{stringliteral}{""});
119   testParseURL(\textcolor{stringliteral}{"?foo=bar"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{"foo=bar"}, \textcolor{stringliteral}{""}, 0, \textcolor{stringliteral}{""});
120   testParseURL(\textcolor{stringliteral}{"?#"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, 0, \textcolor{stringliteral}{""});
121   testParseURL(\textcolor{stringliteral}{"#/foo/bar"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, 0, \textcolor{stringliteral}{""});
122 \}
\end{DoxyCode}
\index{Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Parse\+U\+R\+L, Query\+Is\+U\+R\+L)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{{\bf Parse\+U\+RL}}]{, }
\item[{Query\+Is\+U\+RL}]{}
\end{DoxyParamCaption}
)}\label{ParseURLTest_8cpp_ac89d2fc817f1bb239de63e9812ad1ecd}


Definition at line 124 of file Parse\+U\+R\+L\+Test.\+cpp.



References test\+Parse\+U\+R\+L().


\begin{DoxyCode}
124                            \{
125   testParseURL(\textcolor{stringliteral}{"/?ids=http://vlc.afreecodec.com/download/"}, \textcolor{stringliteral}{""},
126                \textcolor{stringliteral}{"/"}, \textcolor{stringliteral}{"ids=http://vlc.afreecodec.com/download/"}, \textcolor{stringliteral}{""}, 0, \textcolor{stringliteral}{""});
127   testParseURL(\textcolor{stringliteral}{"/plugins/facepile.php?href=http://www.vakan.nl/hotels"},
128                \textcolor{stringliteral}{""}, \textcolor{stringliteral}{"/plugins/facepile.php"},
129                \textcolor{stringliteral}{"href=http://www.vakan.nl/hotels"}, \textcolor{stringliteral}{""}, 0, \textcolor{stringliteral}{""});
130 \}
\end{DoxyCode}
\index{Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Parse\+U\+R\+L, Invalid\+U\+R\+L)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{{\bf Parse\+U\+RL}}]{, }
\item[{Invalid\+U\+RL}]{}
\end{DoxyParamCaption}
)}\label{ParseURLTest_8cpp_a9f820d31ca1aae147e139b2be544802e}


Definition at line 132 of file Parse\+U\+R\+L\+Test.\+cpp.



References test\+Parse\+U\+R\+L().


\begin{DoxyCode}
132                            \{
133   testParseURL(\textcolor{stringliteral}{"http://tel:198433511/"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, 0, \textcolor{stringliteral}{""}, \textcolor{keyword}{false});
134   testParseURL(\textcolor{stringliteral}{"localhost:80/foo#bar?qqq"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, 0, \textcolor{stringliteral}{""}, \textcolor{keyword}{false});
135   testParseURL(\textcolor{stringliteral}{"#?"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, 0, \textcolor{stringliteral}{""}, \textcolor{keyword}{false});
136   testParseURL(\textcolor{stringliteral}{"#?hello"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, 0, \textcolor{stringliteral}{""}, \textcolor{keyword}{false});
137   testParseURL(\textcolor{stringliteral}{"[::1/foo?bar"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, 0, \textcolor{stringliteral}{""}, \textcolor{keyword}{false});
138   testParseURL(\textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, 0, \textcolor{stringliteral}{""}, \textcolor{keyword}{false});
139   testParseURL(\textcolor{stringliteral}{"http://tel:198433511/test\(\backslash\)n"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, 0, \textcolor{stringliteral}{""}, \textcolor{keyword}{false});
140   testParseURL(\textcolor{stringliteral}{"/test\(\backslash\)n"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{""}, 0, \textcolor{stringliteral}{""}, \textcolor{keyword}{false});
141 \}
\end{DoxyCode}
\index{Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Parse\+U\+R\+L, Is\+Host\+I\+P\+Address)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{{\bf Parse\+U\+RL}}]{, }
\item[{Is\+Host\+I\+P\+Address}]{}
\end{DoxyParamCaption}
)}\label{ParseURLTest_8cpp_a212c8aba7c252290f615c9d6035564cf}


Definition at line 143 of file Parse\+U\+R\+L\+Test.\+cpp.



References test\+Host\+Is\+Ip\+Address().


\begin{DoxyCode}
143                                 \{
144   testHostIsIpAddress(\textcolor{stringliteral}{"http://127.0.0.1:80"}, \textcolor{keyword}{true});
145   testHostIsIpAddress(\textcolor{stringliteral}{"127.0.0.1"}, \textcolor{keyword}{true});
146   testHostIsIpAddress(\textcolor{stringliteral}{"http://[::1]:80"}, \textcolor{keyword}{true});
147   testHostIsIpAddress(\textcolor{stringliteral}{"[::1]"}, \textcolor{keyword}{true});
148   testHostIsIpAddress(\textcolor{stringliteral}{"[::AB]"}, \textcolor{keyword}{true});
149 
150   testHostIsIpAddress(\textcolor{stringliteral}{"http://localhost:80"}, \textcolor{keyword}{false});
151   testHostIsIpAddress(\textcolor{stringliteral}{"http://localhost"}, \textcolor{keyword}{false});
152   testHostIsIpAddress(\textcolor{stringliteral}{"localhost"}, \textcolor{keyword}{false});
153   testHostIsIpAddress(\textcolor{stringliteral}{"1.2.3.-1"}, \textcolor{keyword}{false});
154   testHostIsIpAddress(\textcolor{stringliteral}{"1.2.3.999"}, \textcolor{keyword}{false});
155   testHostIsIpAddress(\textcolor{stringliteral}{"::1"}, \textcolor{keyword}{false});
156   testHostIsIpAddress(\textcolor{stringliteral}{"[::99999999]"}, \textcolor{keyword}{false});
157 
158   \textcolor{comment}{// invalid url}
159   testHostIsIpAddress(\textcolor{stringliteral}{""}, \textcolor{keyword}{false});
160   testHostIsIpAddress(\textcolor{stringliteral}{"127.0.0.1:80/foo#bar?qqq"}, \textcolor{keyword}{false});
161 \}
\end{DoxyCode}
\index{Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}!test\+Host\+Is\+Ip\+Address@{test\+Host\+Is\+Ip\+Address}}
\index{test\+Host\+Is\+Ip\+Address@{test\+Host\+Is\+Ip\+Address}!Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}}
\subsubsection[{test\+Host\+Is\+Ip\+Address(const string \&url, const bool expected)}]{\setlength{\rightskip}{0pt plus 5cm}void test\+Host\+Is\+Ip\+Address (
\begin{DoxyParamCaption}
\item[{const string \&}]{url, }
\item[{const bool}]{expected}
\end{DoxyParamCaption}
)}\label{ParseURLTest_8cpp_af0cc13bbf8815dd85f06aae725eb52ec}


Definition at line 41 of file Parse\+U\+R\+L\+Test.\+cpp.



References proxygen\+::\+Parse\+U\+R\+L\+::host\+Is\+I\+P\+Address().



Referenced by T\+E\+S\+T().


\begin{DoxyCode}
41                                                                  \{
42   ParseURL u(url);
43   EXPECT\_EQ(expected, u.hostIsIPAddress());
44 \}
\end{DoxyCode}
\index{Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}!test\+Parse\+U\+RL@{test\+Parse\+U\+RL}}
\index{test\+Parse\+U\+RL@{test\+Parse\+U\+RL}!Parse\+U\+R\+L\+Test.\+cpp@{Parse\+U\+R\+L\+Test.\+cpp}}
\subsubsection[{test\+Parse\+U\+R\+L(const string \&url, const string \&expected\+Scheme, const string \&expected\+Path, const string \&expected\+Query, const string \&expected\+Host, const uint16\+\_\+t expected\+Port, const string \&expected\+Authority, const bool expected\+Valid=true)}]{\setlength{\rightskip}{0pt plus 5cm}void test\+Parse\+U\+RL (
\begin{DoxyParamCaption}
\item[{const string \&}]{url, }
\item[{const string \&}]{expected\+Scheme, }
\item[{const string \&}]{expected\+Path, }
\item[{const string \&}]{expected\+Query, }
\item[{const string \&}]{expected\+Host, }
\item[{const uint16\+\_\+t}]{expected\+Port, }
\item[{const string \&}]{expected\+Authority, }
\item[{const bool}]{expected\+Valid = {\ttfamily true}}
\end{DoxyParamCaption}
)}\label{ParseURLTest_8cpp_adb5fcb1dec54505613795554faa35b2b}


Definition at line 16 of file Parse\+U\+R\+L\+Test.\+cpp.



References proxygen\+::\+Parse\+U\+R\+L\+::authority(), proxygen\+::\+Parse\+U\+R\+L\+::host(), proxygen\+::\+Parse\+U\+R\+L\+::path(), proxygen\+::\+Parse\+U\+R\+L\+::port(), proxygen\+::\+Parse\+U\+R\+L\+::query(), proxygen\+::\+Parse\+U\+R\+L\+::scheme(), proxygen\+::\+Parse\+U\+R\+L\+::url(), and proxygen\+::\+Parse\+U\+R\+L\+::valid().



Referenced by T\+E\+S\+T().


\begin{DoxyCode}
23                                                    \{
24   ParseURL u(url);
25 
26   \textcolor{keywordflow}{if} (expectedValid) \{
27     EXPECT\_EQ(url, u.url());
28     EXPECT\_EQ(expectedScheme, u.scheme());
29     EXPECT\_EQ(expectedPath, u.path());
30     EXPECT\_EQ(expectedQuery, u.query());
31     EXPECT\_EQ(expectedHost, u.host());
32     EXPECT\_EQ(expectedPort, u.port());
33     EXPECT\_EQ(expectedAuthority, u.authority());
34     EXPECT\_EQ(expectedValid, u.valid());
35   \} \textcolor{keywordflow}{else} \{
36     \textcolor{comment}{// invalid, do not need to test values}
37     EXPECT\_EQ(expectedValid, u.valid());
38   \}
39 \}
\end{DoxyCode}

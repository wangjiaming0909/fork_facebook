\section{proxygen\+:\+:Trace\+Event Class Reference}
\label{classproxygen_1_1TraceEvent}\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}


{\ttfamily \#include $<$Trace\+Event.\+h$>$}

\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class {\bf Iterator}
\item 
struct {\bf Meta\+Data}
\end{DoxyCompactItemize}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
using {\bf Meta\+Data\+Map} = std\+::map$<$ Trace\+Field\+Type, {\bf Meta\+Data} $>$
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf F\+B\+\_\+\+E\+X\+P\+O\+RT} {\bf Trace\+Event} (Trace\+Event\+Type type, uint32\+\_\+t parent\+ID=0)
\item 
void {\bf start} (const {\bf Time\+Util} \&tm)
\item 
void {\bf start} ({\bf Time\+Point} start\+Time)
\item 
void {\bf end} (const {\bf Time\+Util} \&tm)
\item 
void {\bf end} ({\bf Time\+Point} end\+Time)
\item 
bool {\bf has\+Started} () const 
\item 
bool {\bf has\+Ended} () const 
\item 
{\bf Time\+Point} {\bf get\+Start\+Time} () const 
\item 
{\bf Time\+Point} {\bf get\+End\+Time} () const 
\item 
Trace\+Event\+Type {\bf get\+Type} () const 
\item 
uint32\+\_\+t {\bf get\+ID} () const 
\item 
void {\bf set\+Parent\+ID} (uint32\+\_\+t parent)
\item 
uint32\+\_\+t {\bf get\+Parent\+ID} () const 
\item 
bool {\bf has\+Trace\+Field} (Trace\+Field\+Type field) const 
\item 
{\footnotesize template$<$typename T $>$ }\\{\bf T} {\bf get\+Trace\+Field\+Data\+As} (Trace\+Field\+Type field) const 
\item 
void {\bf set\+Meta\+Data} ({\bf Meta\+Data\+Map} \&\&input)
\item 
const {\bf Meta\+Data\+Map} \& {\bf get\+Meta\+Data} () const 
\item 
{\bf Iterator} {\bf get\+Meta\+Data\+Itr} () const 
\item 
{\footnotesize template$<$typename T $>$ }\\bool {\bf add\+Meta} (Trace\+Field\+Type key, {\bf T} \&\&value)
\item 
{\footnotesize template$<$typename T $>$ }\\bool {\bf add\+Meta} (Trace\+Field\+Type key, const {\bf T} \&value)
\item 
{\footnotesize template$<$typename T $>$ }\\bool {\bf read\+Int\+Meta} (Trace\+Field\+Type key, {\bf T} \&dest) const 
\item 
bool {\bf read\+Bool\+Meta} (Trace\+Field\+Type key, bool \&dest) const 
\item 
bool {\bf read\+Str\+Meta} (Trace\+Field\+Type key, std\+::string \&dest) const 
\item 
std\+::string {\bf to\+String} () const 
\end{DoxyCompactItemize}
\subsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
enum {\bf State} \{ {\bf N\+O\+T\+\_\+\+S\+T\+A\+R\+T\+ED} = 0, 
{\bf S\+T\+A\+R\+T\+ED} = 1, 
{\bf E\+N\+D\+ED} = 2
 \}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename T $>$ }\\bool {\bf read\+Meta} (Trace\+Field\+Type key, {\bf T} \&dest) const 
\item 
{\bf F\+B\+\_\+\+E\+X\+P\+O\+RT} bool {\bf add\+Meta\+Internal} (Trace\+Field\+Type key, {\bf Meta\+Data} \&\&val)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t {\bf state\+Flags\+\_\+} \{0\}
\item 
Trace\+Event\+Type {\bf type\+\_\+}
\item 
uint32\+\_\+t {\bf id\+\_\+}
\item 
uint32\+\_\+t {\bf parent\+I\+D\+\_\+}
\item 
{\bf Time\+Point} {\bf start\+\_\+}
\item 
{\bf Time\+Point} {\bf end\+\_\+}
\item 
{\bf Meta\+Data\+Map} {\bf meta\+Data\+\_\+}
\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class {\bf Iterator}
\item 
std\+::ostream \& {\bf operator$<$$<$} (std\+::ostream \&out, const {\bf Trace\+Event} \&event)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Simple structure to track timing of event in request flow then we can report back to the application. 

Definition at line 38 of file Trace\+Event.\+h.



\subsection{Member Typedef Documentation}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!Meta\+Data\+Map@{Meta\+Data\+Map}}
\index{Meta\+Data\+Map@{Meta\+Data\+Map}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{Meta\+Data\+Map}]{\setlength{\rightskip}{0pt plus 5cm}using {\bf proxygen\+::\+Trace\+Event\+::\+Meta\+Data\+Map} =  std\+::map$<$Trace\+Field\+Type, {\bf Meta\+Data}$>$}\label{classproxygen_1_1TraceEvent_a111fed81b9df34f7b57f64b63888f55b}


Definition at line 100 of file Trace\+Event.\+h.



\subsection{Member Enumeration Documentation}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!State@{State}}
\index{State@{State}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{State}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf proxygen\+::\+Trace\+Event\+::\+State}\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1TraceEvent_aa3ae757a4f7f23ec23d4236a9a09ed6e}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{N\+O\+T\+\_\+\+S\+T\+A\+R\+T\+ED@{N\+O\+T\+\_\+\+S\+T\+A\+R\+T\+ED}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!N\+O\+T\+\_\+\+S\+T\+A\+R\+T\+ED@{N\+O\+T\+\_\+\+S\+T\+A\+R\+T\+ED}}\item[{\em 
N\+O\+T\+\_\+\+S\+T\+A\+R\+T\+ED\label{classproxygen_1_1TraceEvent_aa3ae757a4f7f23ec23d4236a9a09ed6ea7773d2f74e3c1377ceca89eed2338fc6}
}]\index{S\+T\+A\+R\+T\+ED@{S\+T\+A\+R\+T\+ED}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!S\+T\+A\+R\+T\+ED@{S\+T\+A\+R\+T\+ED}}\item[{\em 
S\+T\+A\+R\+T\+ED\label{classproxygen_1_1TraceEvent_aa3ae757a4f7f23ec23d4236a9a09ed6ea815a3b46c8a0e10598583d86b8bf49d2}
}]\index{E\+N\+D\+ED@{E\+N\+D\+ED}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!E\+N\+D\+ED@{E\+N\+D\+ED}}\item[{\em 
E\+N\+D\+ED\label{classproxygen_1_1TraceEvent_aa3ae757a4f7f23ec23d4236a9a09ed6ea35b5d98fe271d6c020a72d6bc6c74a6f}
}]\end{description}
\end{Desc}


Definition at line 267 of file Trace\+Event.\+h.


\begin{DoxyCode}
267              \{
268     NOT_STARTED = 0,
269     STARTED = 1,
270     ENDED = 2,
271   \};
\end{DoxyCode}


\subsection{Constructor \& Destructor Documentation}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!Trace\+Event@{Trace\+Event}}
\index{Trace\+Event@{Trace\+Event}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{Trace\+Event(\+Trace\+Event\+Type type, uint32\+\_\+t parent\+I\+D=0)}]{\setlength{\rightskip}{0pt plus 5cm}proxygen\+::\+Trace\+Event\+::\+Trace\+Event (
\begin{DoxyParamCaption}
\item[{Trace\+Event\+Type}]{type, }
\item[{uint32\+\_\+t}]{parent\+ID = {\ttfamily 0}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [explicit]}}\label{classproxygen_1_1TraceEvent_ac780f17206934bb1dffcf652ee76dd36}


Definition at line 30 of file Trace\+Event.\+cpp.



References id\+\_\+.


\begin{DoxyCode}
30                                                             :
31   type_(type),
32   parentID_(parentID) \{
33   \textcolor{keyword}{static} std::atomic<uint32\_t> counter(0);
34   id_ = counter++;
35 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!add\+Meta@{add\+Meta}}
\index{add\+Meta@{add\+Meta}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{add\+Meta(\+Trace\+Field\+Type key, T \&\&value)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ bool proxygen\+::\+Trace\+Event\+::add\+Meta (
\begin{DoxyParamCaption}
\item[{Trace\+Field\+Type}]{key, }
\item[{{\bf T} \&\&}]{value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1TraceEvent_a7637bc2d2fb479322f3ec1c4daf5865f}


Definition at line 219 of file Trace\+Event.\+h.



References add\+Meta\+Internal().



Referenced by T\+E\+S\+T().


\begin{DoxyCode}
219                                               \{
220     MetaData val(std::forward<T>(value));
221     \textcolor{keywordflow}{return} addMetaInternal(key, std::move(val));
222   \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!add\+Meta@{add\+Meta}}
\index{add\+Meta@{add\+Meta}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{add\+Meta(\+Trace\+Field\+Type key, const T \&value)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ bool proxygen\+::\+Trace\+Event\+::add\+Meta (
\begin{DoxyParamCaption}
\item[{Trace\+Field\+Type}]{key, }
\item[{const {\bf T} \&}]{value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1TraceEvent_a694b0d714ff31a2b1837c60eeb99ae37}


Definition at line 225 of file Trace\+Event.\+h.



References add\+Meta\+Internal().


\begin{DoxyCode}
225                                                    \{
226     MetaData val(value);
227     \textcolor{keywordflow}{return} addMetaInternal(key, std::move(val));
228   \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!add\+Meta\+Internal@{add\+Meta\+Internal}}
\index{add\+Meta\+Internal@{add\+Meta\+Internal}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{add\+Meta\+Internal(\+Trace\+Field\+Type key, Meta\+Data \&\&val)}]{\setlength{\rightskip}{0pt plus 5cm}bool proxygen\+::\+Trace\+Event\+::add\+Meta\+Internal (
\begin{DoxyParamCaption}
\item[{Trace\+Field\+Type}]{key, }
\item[{{\bf Meta\+Data} \&\&}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1TraceEvent_ad1c308d6cc53bea62401edb72ed0c410}


Definition at line 72 of file Trace\+Event.\+cpp.



References meta\+Data\+\_\+.



Referenced by add\+Meta(), and read\+Meta().


\begin{DoxyCode}
72                                                                      \{
73   \textcolor{keyword}{auto} rc = metaData_.emplace(key, value);
74 
75   \textcolor{comment}{// replace if key already exist}
76   \textcolor{keywordflow}{if} (!rc.second) \{
77     rc.first->second = value;
78   \}
79 
80   \textcolor{keywordflow}{return} rc.second;
81 \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!end@{end}}
\index{end@{end}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{end(const Time\+Util \&tm)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Trace\+Event\+::end (
\begin{DoxyParamCaption}
\item[{const {\bf Time\+Util} \&}]{tm}
\end{DoxyParamCaption}
)}\label{classproxygen_1_1TraceEvent_a58c37cadbe3a37e9ccd24a6ebaadd27c}
Sets the end time to the current time according to the Time\+Util. 

Definition at line 47 of file Trace\+Event.\+cpp.



References end\+\_\+, proxygen\+::\+Time\+Util\+Generic$<$ Clock\+Type $>$\+::now(), and state\+Flags\+\_\+.



Referenced by T\+E\+S\+T().


\begin{DoxyCode}
47                                        \{
48   stateFlags_ |= State::ENDED;
49   end_ = tm.now();
50 \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!end@{end}}
\index{end@{end}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{end(\+Time\+Point end\+Time)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Trace\+Event\+::end (
\begin{DoxyParamCaption}
\item[{{\bf Time\+Point}}]{end\+Time}
\end{DoxyParamCaption}
)}\label{classproxygen_1_1TraceEvent_a2d36689f187331202942815bfebeba31}
Sets the end time to the given Time\+Point. 

Definition at line 52 of file Trace\+Event.\+cpp.



References end\+\_\+, and state\+Flags\+\_\+.


\begin{DoxyCode}
52                                       \{
53   stateFlags_ |= State::ENDED;
54   end_ = endTime;
55 \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!get\+End\+Time@{get\+End\+Time}}
\index{get\+End\+Time@{get\+End\+Time}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{get\+End\+Time() const }]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time\+Point} proxygen\+::\+Trace\+Event\+::get\+End\+Time (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1TraceEvent_af3a988e4df22537b5924872e76c69f45}


Definition at line 175 of file Trace\+Event.\+h.



References end\+\_\+.


\begin{DoxyCode}
175                                \{
176     \textcolor{keywordflow}{return} end_;
177   \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!get\+ID@{get\+ID}}
\index{get\+ID@{get\+ID}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{get\+I\+D() const }]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t proxygen\+::\+Trace\+Event\+::get\+ID (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1TraceEvent_a76c101ffbfb4dd3fb895985e92e98e2f}


Definition at line 183 of file Trace\+Event.\+h.



References id\+\_\+.



Referenced by T\+E\+S\+T().


\begin{DoxyCode}
183                          \{
184     \textcolor{keywordflow}{return} id_;
185   \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!get\+Meta\+Data@{get\+Meta\+Data}}
\index{get\+Meta\+Data@{get\+Meta\+Data}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{get\+Meta\+Data() const }]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Meta\+Data\+Map}\& proxygen\+::\+Trace\+Event\+::get\+Meta\+Data (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1TraceEvent_a55791301361759c9c7001971f571279f}


Definition at line 210 of file Trace\+Event.\+h.



References meta\+Data\+\_\+.


\begin{DoxyCode}
210                                          \{
211     \textcolor{keywordflow}{return} metaData_;
212   \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!get\+Meta\+Data\+Itr@{get\+Meta\+Data\+Itr}}
\index{get\+Meta\+Data\+Itr@{get\+Meta\+Data\+Itr}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{get\+Meta\+Data\+Itr() const }]{\setlength{\rightskip}{0pt plus 5cm}{\bf Iterator} proxygen\+::\+Trace\+Event\+::get\+Meta\+Data\+Itr (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1TraceEvent_a8174e5ee7a75b2d6ef442d0b4ec28207}


Definition at line 214 of file Trace\+Event.\+h.



References Iterator.



Referenced by T\+E\+S\+T(), and to\+String().


\begin{DoxyCode}
214                                   \{
215     \textcolor{keywordflow}{return} Iterator(*\textcolor{keyword}{this});
216   \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!get\+Parent\+ID@{get\+Parent\+ID}}
\index{get\+Parent\+ID@{get\+Parent\+ID}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{get\+Parent\+I\+D() const }]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t proxygen\+::\+Trace\+Event\+::get\+Parent\+ID (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1TraceEvent_a41616edda28627d273769acb70ce3649}


Definition at line 191 of file Trace\+Event.\+h.



References parent\+I\+D\+\_\+.


\begin{DoxyCode}
191                                \{
192     \textcolor{keywordflow}{return} parentID_;
193   \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!get\+Start\+Time@{get\+Start\+Time}}
\index{get\+Start\+Time@{get\+Start\+Time}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{get\+Start\+Time() const }]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time\+Point} proxygen\+::\+Trace\+Event\+::get\+Start\+Time (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1TraceEvent_a61bdf1b8ae0f2cc48d9e8cd1bad8af50}


Definition at line 171 of file Trace\+Event.\+h.



References start\+\_\+.


\begin{DoxyCode}
171                                  \{
172     \textcolor{keywordflow}{return} start_;
173   \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!get\+Trace\+Field\+Data\+As@{get\+Trace\+Field\+Data\+As}}
\index{get\+Trace\+Field\+Data\+As@{get\+Trace\+Field\+Data\+As}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{get\+Trace\+Field\+Data\+As(\+Trace\+Field\+Type field) const }]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ {\bf T} proxygen\+::\+Trace\+Event\+::get\+Trace\+Field\+Data\+As (
\begin{DoxyParamCaption}
\item[{Trace\+Field\+Type}]{field}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1TraceEvent_a6f80bb24c90304b62508dd7bd94ba748}


Definition at line 200 of file Trace\+Event.\+h.



References meta\+Data\+\_\+, and T.



Referenced by T\+E\+S\+T().


\begin{DoxyCode}
200                                                     \{
201     \textcolor{keyword}{const} \textcolor{keyword}{auto} itr = metaData_.find(field);
202     CHECK(itr != metaData_.end());
203     \textcolor{keywordflow}{return} itr->second.getValueAs<T>();
204   \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!get\+Type@{get\+Type}}
\index{get\+Type@{get\+Type}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{get\+Type() const }]{\setlength{\rightskip}{0pt plus 5cm}Trace\+Event\+Type proxygen\+::\+Trace\+Event\+::get\+Type (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1TraceEvent_ae5421964f5a0cd15443aeb4e02c0198a}


Definition at line 179 of file Trace\+Event.\+h.



References type\+\_\+.


\begin{DoxyCode}
179                                  \{
180     \textcolor{keywordflow}{return} type_;
181   \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!has\+Ended@{has\+Ended}}
\index{has\+Ended@{has\+Ended}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{has\+Ended() const }]{\setlength{\rightskip}{0pt plus 5cm}bool proxygen\+::\+Trace\+Event\+::has\+Ended (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\label{classproxygen_1_1TraceEvent_aef01b033ef493461120b906fba6f31a5}
true iff \doxyref{end()}{p.}{classproxygen_1_1TraceEvent_a58c37cadbe3a37e9ccd24a6ebaadd27c} has been called on this \doxyref{Trace\+Event}{p.}{classproxygen_1_1TraceEvent}. 

Definition at line 61 of file Trace\+Event.\+cpp.



References state\+Flags\+\_\+.


\begin{DoxyCode}
61                                 \{
62   \textcolor{keywordflow}{return} stateFlags_ & State::ENDED;
63 \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!has\+Started@{has\+Started}}
\index{has\+Started@{has\+Started}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{has\+Started() const }]{\setlength{\rightskip}{0pt plus 5cm}bool proxygen\+::\+Trace\+Event\+::has\+Started (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\label{classproxygen_1_1TraceEvent_a60d4af14972e10f740fa280ebc9dc708}
true iff \doxyref{start()}{p.}{classproxygen_1_1TraceEvent_a4c45338d18f07bfe1778665123dc1f01} has been called on this \doxyref{Trace\+Event}{p.}{classproxygen_1_1TraceEvent}. 

Definition at line 57 of file Trace\+Event.\+cpp.



References state\+Flags\+\_\+.


\begin{DoxyCode}
57                                   \{
58   \textcolor{keywordflow}{return} stateFlags_ & State::STARTED;
59 \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!has\+Trace\+Field@{has\+Trace\+Field}}
\index{has\+Trace\+Field@{has\+Trace\+Field}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{has\+Trace\+Field(\+Trace\+Field\+Type field) const }]{\setlength{\rightskip}{0pt plus 5cm}bool proxygen\+::\+Trace\+Event\+::has\+Trace\+Field (
\begin{DoxyParamCaption}
\item[{Trace\+Field\+Type}]{field}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1TraceEvent_aed13c000cfc0c250000ce80764d4890d}


Definition at line 195 of file Trace\+Event.\+h.



References meta\+Data\+\_\+.


\begin{DoxyCode}
195                                                  \{
196     \textcolor{keywordflow}{return} metaData_.count(field);
197   \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!read\+Bool\+Meta@{read\+Bool\+Meta}}
\index{read\+Bool\+Meta@{read\+Bool\+Meta}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{read\+Bool\+Meta(\+Trace\+Field\+Type key, bool \&dest) const }]{\setlength{\rightskip}{0pt plus 5cm}bool proxygen\+::\+Trace\+Event\+::read\+Bool\+Meta (
\begin{DoxyParamCaption}
\item[{Trace\+Field\+Type}]{key, }
\item[{bool \&}]{dest}
\end{DoxyParamCaption}
) const}\label{classproxygen_1_1TraceEvent_a8ae8f941a7b900ddcb1f19864b49a90f}


Definition at line 65 of file Trace\+Event.\+cpp.



References read\+Meta().



Referenced by read\+Int\+Meta().


\begin{DoxyCode}
65                                                                   \{
66   \textcolor{keywordflow}{return} readMeta(key, dest);
67 \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!read\+Int\+Meta@{read\+Int\+Meta}}
\index{read\+Int\+Meta@{read\+Int\+Meta}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{read\+Int\+Meta(\+Trace\+Field\+Type key, T \&dest) const }]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ bool proxygen\+::\+Trace\+Event\+::read\+Int\+Meta (
\begin{DoxyParamCaption}
\item[{Trace\+Field\+Type}]{key, }
\item[{{\bf T} \&}]{dest}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1TraceEvent_a1ba3060ba312e76b1937e0c35c0e8c24}


Definition at line 231 of file Trace\+Event.\+h.



References operator$<$$<$, read\+Bool\+Meta(), read\+Meta(), read\+Str\+Meta(), and to\+String().


\begin{DoxyCode}
231                                                       \{
232     static\_assert(std::is\_integral<T>::value && !std::is\_same<T, bool>::value,
233         \textcolor{stringliteral}{"readIntMeta should take an intergral type of paremeter"});
234     \textcolor{keywordflow}{return} readMeta(key, dest);
235   \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!read\+Meta@{read\+Meta}}
\index{read\+Meta@{read\+Meta}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{read\+Meta(\+Trace\+Field\+Type key, T \&dest) const }]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ bool proxygen\+::\+Trace\+Event\+::read\+Meta (
\begin{DoxyParamCaption}
\item[{Trace\+Field\+Type}]{key, }
\item[{{\bf T} \&}]{dest}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}\label{classproxygen_1_1TraceEvent_ab53481cc7a18db4bd684848ed85ec605}


Definition at line 250 of file Trace\+Event.\+h.



References add\+Meta\+Internal(), F\+B\+\_\+\+E\+X\+P\+O\+RT, meta\+Data\+\_\+, and T.



Referenced by read\+Bool\+Meta(), read\+Int\+Meta(), and read\+Str\+Meta().


\begin{DoxyCode}
250                                                    \{
251     \textcolor{keyword}{const} \textcolor{keyword}{auto} itr = metaData_.find(key);
252     \textcolor{keywordflow}{if} (itr != metaData_.end()) \{
253       \textcolor{keywordflow}{return} folly::catch\_exception<std::exception const&>(
254           [&]() -> \textcolor{keywordtype}{bool} \{
255             dest = itr->second.getValueAs<T>();
256             \textcolor{keywordflow}{return} \textcolor{keyword}{true};
257           \},
258           [](\textcolor{keyword}{auto}&&) -> \textcolor{keywordtype}{bool} \{
259             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
260           \});
261     \}
262     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
263   \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!read\+Str\+Meta@{read\+Str\+Meta}}
\index{read\+Str\+Meta@{read\+Str\+Meta}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{read\+Str\+Meta(\+Trace\+Field\+Type key, std\+::string \&dest) const }]{\setlength{\rightskip}{0pt plus 5cm}bool proxygen\+::\+Trace\+Event\+::read\+Str\+Meta (
\begin{DoxyParamCaption}
\item[{Trace\+Field\+Type}]{key, }
\item[{std\+::string \&}]{dest}
\end{DoxyParamCaption}
) const}\label{classproxygen_1_1TraceEvent_adcf903be3f268193cb548320ac69f653}


Definition at line 69 of file Trace\+Event.\+cpp.



References read\+Meta().



Referenced by read\+Int\+Meta().


\begin{DoxyCode}
69                                                                       \{
70   \textcolor{keywordflow}{return} readMeta(key, dest);
71 \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!set\+Meta\+Data@{set\+Meta\+Data}}
\index{set\+Meta\+Data@{set\+Meta\+Data}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{set\+Meta\+Data(\+Meta\+Data\+Map \&\&input)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Trace\+Event\+::set\+Meta\+Data (
\begin{DoxyParamCaption}
\item[{{\bf Meta\+Data\+Map} \&\&}]{input}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1TraceEvent_a1a6dd10b7c88c018ed7f801b8d9936ad}


Definition at line 206 of file Trace\+Event.\+h.



References meta\+Data\+\_\+.


\begin{DoxyCode}
206                                         \{
207     metaData_ = input;
208   \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!set\+Parent\+ID@{set\+Parent\+ID}}
\index{set\+Parent\+ID@{set\+Parent\+ID}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{set\+Parent\+I\+D(uint32\+\_\+t parent)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Trace\+Event\+::set\+Parent\+ID (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{parent}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1TraceEvent_a3efeaa629ee08f91c403ef1a375e4c10}


Definition at line 187 of file Trace\+Event.\+h.



References parent\+I\+D\+\_\+.


\begin{DoxyCode}
187                                     \{
188     parentID_ = parent;
189   \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!start@{start}}
\index{start@{start}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{start(const Time\+Util \&tm)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Trace\+Event\+::start (
\begin{DoxyParamCaption}
\item[{const {\bf Time\+Util} \&}]{tm}
\end{DoxyParamCaption}
)}\label{classproxygen_1_1TraceEvent_a4c45338d18f07bfe1778665123dc1f01}
Sets the start time to the current time according to the Time\+Util. 

Definition at line 37 of file Trace\+Event.\+cpp.



References proxygen\+::\+Time\+Util\+Generic$<$ Clock\+Type $>$\+::now(), start\+\_\+, and state\+Flags\+\_\+.



Referenced by T\+E\+S\+T().


\begin{DoxyCode}
37                                          \{
38   stateFlags_ |= State::STARTED;
39   start_ = tm.now();
40 \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!start@{start}}
\index{start@{start}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{start(\+Time\+Point start\+Time)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Trace\+Event\+::start (
\begin{DoxyParamCaption}
\item[{{\bf Time\+Point}}]{start\+Time}
\end{DoxyParamCaption}
)}\label{classproxygen_1_1TraceEvent_ae53323dc7fd2337a8bc8481057ba0a02}
Sets the start time to the given Time\+Point. 

Definition at line 42 of file Trace\+Event.\+cpp.



References start\+\_\+, and state\+Flags\+\_\+.


\begin{DoxyCode}
42                                           \{
43   stateFlags_ |= State::STARTED;
44   start_ = startTime;
45 \}
\end{DoxyCode}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!to\+String@{to\+String}}
\index{to\+String@{to\+String}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{to\+String() const }]{\setlength{\rightskip}{0pt plus 5cm}std\+::string proxygen\+::\+Trace\+Event\+::to\+String (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\label{classproxygen_1_1TraceEvent_a9b230ef84e79a240eddbbd11e8b1041b}


Definition at line 83 of file Trace\+Event.\+cpp.



References end\+\_\+, get\+Meta\+Data\+Itr(), id\+\_\+, parent\+I\+D\+\_\+, start\+\_\+, and type\+\_\+.



Referenced by read\+Int\+Meta(), and T\+E\+S\+T().


\begin{DoxyCode}
83                                      \{
84   std::ostringstream out;
85   \textcolor{keywordtype}{int} startSinceEpoch = std::chrono::duration\_cast<std::chrono::milliseconds>(
86     start_.time\_since\_epoch()).count();
87   \textcolor{keywordtype}{int} endSinceEpoch = std::chrono::duration\_cast<std::chrono::milliseconds>(
88     end_.time\_since\_epoch()).count();
89   out << \textcolor{stringliteral}{"TraceEvent("};
90   out << \textcolor{stringliteral}{"type='"} << getTraceEventTypeString(type_) << \textcolor{stringliteral}{"', "};
91   out << \textcolor{stringliteral}{"id='"} << id_ << \textcolor{stringliteral}{"', "};
92   out << \textcolor{stringliteral}{"parentID='"} << parentID_ << \textcolor{stringliteral}{"', "};
93   out << \textcolor{stringliteral}{"start='"} << startSinceEpoch << \textcolor{stringliteral}{"', "};
94   out << \textcolor{stringliteral}{"end='"} << endSinceEpoch << \textcolor{stringliteral}{"', "};
95   out << \textcolor{stringliteral}{"metaData='\{"};
96   \textcolor{keyword}{auto} itr = getMetaDataItr();
97   \textcolor{keywordflow}{while} (itr.isValid()) \{
98     out << getTraceFieldTypeString(itr.getKey()) << \textcolor{stringliteral}{": "}
99         << itr.getValueAs<std::string>() << \textcolor{stringliteral}{", "};
100     itr.next();
101   \}
102   out << \textcolor{stringliteral}{"\}')"};
103   \textcolor{keywordflow}{return} out.str();
104 \}
\end{DoxyCode}


\subsection{Friends And Related Function Documentation}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!Iterator@{Iterator}}
\index{Iterator@{Iterator}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{Iterator}]{\setlength{\rightskip}{0pt plus 5cm}friend class {\bf Iterator}\hspace{0.3cm}{\ttfamily [friend]}}\label{classproxygen_1_1TraceEvent_a9830fc407400559db7e7783cc10a9394}


Definition at line 246 of file Trace\+Event.\+h.



Referenced by get\+Meta\+Data\+Itr().

\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{operator$<$$<$}]{\setlength{\rightskip}{0pt plus 5cm}std\+::ostream\& operator$<$$<$ (
\begin{DoxyParamCaption}
\item[{std\+::ostream \&}]{out, }
\item[{const {\bf Trace\+Event} \&}]{event}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [friend]}}\label{classproxygen_1_1TraceEvent_a455e56037b82180cf61d2c34692b567a}


Definition at line 116 of file Trace\+Event.\+cpp.



Referenced by read\+Int\+Meta().


\begin{DoxyCode}
116                                                                    \{
117   out << \textcolor{keyword}{event}.toString();
118   \textcolor{keywordflow}{return} out;
119 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!end\+\_\+@{end\+\_\+}}
\index{end\+\_\+@{end\+\_\+}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{end\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time\+Point} proxygen\+::\+Trace\+Event\+::end\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1TraceEvent_a1bce0445b2f1b61c81f61e16e501ca50}


Definition at line 278 of file Trace\+Event.\+h.



Referenced by end(), get\+End\+Time(), and to\+String().

\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!id\+\_\+@{id\+\_\+}}
\index{id\+\_\+@{id\+\_\+}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{id\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t proxygen\+::\+Trace\+Event\+::id\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1TraceEvent_a7d0eee1d0babcb1333bc31c68881220d}


Definition at line 275 of file Trace\+Event.\+h.



Referenced by get\+I\+D(), to\+String(), and Trace\+Event().

\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!meta\+Data\+\_\+@{meta\+Data\+\_\+}}
\index{meta\+Data\+\_\+@{meta\+Data\+\_\+}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{meta\+Data\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Meta\+Data\+Map} proxygen\+::\+Trace\+Event\+::meta\+Data\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1TraceEvent_ad1e4268018af208728032a38b64b94b2}


Definition at line 279 of file Trace\+Event.\+h.



Referenced by add\+Meta\+Internal(), get\+Meta\+Data(), get\+Trace\+Field\+Data\+As(), has\+Trace\+Field(), read\+Meta(), and set\+Meta\+Data().

\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!parent\+I\+D\+\_\+@{parent\+I\+D\+\_\+}}
\index{parent\+I\+D\+\_\+@{parent\+I\+D\+\_\+}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{parent\+I\+D\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t proxygen\+::\+Trace\+Event\+::parent\+I\+D\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1TraceEvent_a84c8afb7b6f2b5129442406a09e54890}


Definition at line 276 of file Trace\+Event.\+h.



Referenced by get\+Parent\+I\+D(), set\+Parent\+I\+D(), and to\+String().

\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!start\+\_\+@{start\+\_\+}}
\index{start\+\_\+@{start\+\_\+}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{start\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time\+Point} proxygen\+::\+Trace\+Event\+::start\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1TraceEvent_a0702f41ec482cdced4eb1ebe743f08ea}


Definition at line 277 of file Trace\+Event.\+h.



Referenced by get\+Start\+Time(), start(), and to\+String().

\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!state\+Flags\+\_\+@{state\+Flags\+\_\+}}
\index{state\+Flags\+\_\+@{state\+Flags\+\_\+}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{state\+Flags\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t proxygen\+::\+Trace\+Event\+::state\+Flags\+\_\+ \{0\}\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1TraceEvent_a41b67be1c6fe4a7efb9704e22a68437d}


Definition at line 273 of file Trace\+Event.\+h.



Referenced by end(), has\+Ended(), has\+Started(), and start().

\index{proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}!type\+\_\+@{type\+\_\+}}
\index{type\+\_\+@{type\+\_\+}!proxygen\+::\+Trace\+Event@{proxygen\+::\+Trace\+Event}}
\subsubsection[{type\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}Trace\+Event\+Type proxygen\+::\+Trace\+Event\+::type\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1TraceEvent_a6febf566ea1c3ceb0de5a1da089afeca}


Definition at line 274 of file Trace\+Event.\+h.



Referenced by get\+Type(), and to\+String().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
proxygen/lib/utils/{\bf Trace\+Event.\+h}\item 
proxygen/lib/utils/{\bf Trace\+Event.\+cpp}\end{DoxyCompactItemize}

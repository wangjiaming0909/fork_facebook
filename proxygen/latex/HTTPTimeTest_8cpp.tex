\section{proxygen/lib/utils/test/\+H\+T\+T\+P\+Time\+Test.cpp File Reference}
\label{HTTPTimeTest_8cpp}\index{proxygen/lib/utils/test/\+H\+T\+T\+P\+Time\+Test.\+cpp@{proxygen/lib/utils/test/\+H\+T\+T\+P\+Time\+Test.\+cpp}}
{\ttfamily \#include $<$folly/portability/\+G\+Test.\+h$>$}\\*
{\ttfamily \#include $<$proxygen/lib/utils/\+H\+T\+T\+P\+Time.\+h$>$}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
{\bf T\+E\+ST} (H\+T\+T\+P\+Time\+Tests, Invalid\+Time\+Test)
\item 
{\bf T\+E\+ST} (H\+T\+T\+P\+Time\+Tests, Valid\+Time\+Test)
\item 
{\bf T\+E\+ST} (H\+T\+T\+P\+Time\+Tests, Equal\+Time\+Test)
\item 
{\bf T\+E\+ST} (H\+T\+T\+P\+Time\+Tests, Really\+Old\+Time\+Test)
\item 
{\bf T\+E\+ST} (H\+T\+T\+P\+Time\+Tests, Tz\+To\+Unix\+Ts\+Test)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{H\+T\+T\+P\+Time\+Test.\+cpp@{H\+T\+T\+P\+Time\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!H\+T\+T\+P\+Time\+Test.\+cpp@{H\+T\+T\+P\+Time\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+H\+T\+T\+P\+Time\+Tests, Invalid\+Time\+Test)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{H\+T\+T\+P\+Time\+Tests}]{, }
\item[{Invalid\+Time\+Test}]{}
\end{DoxyParamCaption}
)}\label{HTTPTimeTest_8cpp_adfd395943917d1ee856ccc99f5077410}


Definition at line 15 of file H\+T\+T\+P\+Time\+Test.\+cpp.



References proxygen\+::parse\+H\+T\+T\+P\+Date\+Time().


\begin{DoxyCode}
15                                      \{
16   EXPECT\_FALSE(parseHTTPDateTime(\textcolor{stringliteral}{"Hello, World"}).hasValue());
17   EXPECT\_FALSE(parseHTTPDateTime(\textcolor{stringliteral}{"Sun, 33 Nov 1994 08:49:37 GMT"}).hasValue());
18   EXPECT\_FALSE(parseHTTPDateTime(\textcolor{stringliteral}{"Sun, 06 Nov 1800"}).hasValue());
19 \}
\end{DoxyCode}
\index{H\+T\+T\+P\+Time\+Test.\+cpp@{H\+T\+T\+P\+Time\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!H\+T\+T\+P\+Time\+Test.\+cpp@{H\+T\+T\+P\+Time\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+H\+T\+T\+P\+Time\+Tests, Valid\+Time\+Test)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{H\+T\+T\+P\+Time\+Tests}]{, }
\item[{Valid\+Time\+Test}]{}
\end{DoxyParamCaption}
)}\label{HTTPTimeTest_8cpp_af9a6cbbd5434360b8cf19ad4fe95b343}


Definition at line 21 of file H\+T\+T\+P\+Time\+Test.\+cpp.



References proxygen\+::parse\+H\+T\+T\+P\+Date\+Time().


\begin{DoxyCode}
21                                    \{
22   \textcolor{comment}{// From http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3}
23   EXPECT\_TRUE(parseHTTPDateTime(\textcolor{stringliteral}{"Sun, 06 Nov 1994 08:49:37 GMT"}).hasValue());
24   EXPECT\_TRUE(parseHTTPDateTime(\textcolor{stringliteral}{"Sunday, 06-Nov-94 08:49:37 GMT"}).hasValue());
25   EXPECT\_TRUE(parseHTTPDateTime(\textcolor{stringliteral}{"Sun Nov  6 08:49:37 1994"}).hasValue());
26 \}
\end{DoxyCode}
\index{H\+T\+T\+P\+Time\+Test.\+cpp@{H\+T\+T\+P\+Time\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!H\+T\+T\+P\+Time\+Test.\+cpp@{H\+T\+T\+P\+Time\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+H\+T\+T\+P\+Time\+Tests, Equal\+Time\+Test)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{H\+T\+T\+P\+Time\+Tests}]{, }
\item[{Equal\+Time\+Test}]{}
\end{DoxyParamCaption}
)}\label{HTTPTimeTest_8cpp_a23f710021901503a6694844b0c80b9e6}


Definition at line 28 of file H\+T\+T\+P\+Time\+Test.\+cpp.



References proxygen\+::parse\+H\+T\+T\+P\+Date\+Time().


\begin{DoxyCode}
28                                    \{
29   \textcolor{keyword}{auto} a = parseHTTPDateTime(\textcolor{stringliteral}{"Thu, 07 Mar 2013 08:49:37 GMT"});
30   EXPECT\_TRUE(a.hasValue());
31   \textcolor{keyword}{auto} b = parseHTTPDateTime(\textcolor{stringliteral}{"Thursday, 07-Mar-13 08:49:37 GMT"});
32   EXPECT\_TRUE(b.hasValue());
33   \textcolor{keyword}{auto} c = parseHTTPDateTime(\textcolor{stringliteral}{"Thu Mar 7 08:49:37 2013"});
34   EXPECT\_TRUE(c.hasValue());
35 
36   EXPECT\_EQ(a.value(), b.value());
37   EXPECT\_EQ(a.value(), c.value());
38   EXPECT\_EQ(b.value(), c.value());
39 \}
\end{DoxyCode}
\index{H\+T\+T\+P\+Time\+Test.\+cpp@{H\+T\+T\+P\+Time\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!H\+T\+T\+P\+Time\+Test.\+cpp@{H\+T\+T\+P\+Time\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+H\+T\+T\+P\+Time\+Tests, Really\+Old\+Time\+Test)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{H\+T\+T\+P\+Time\+Tests}]{, }
\item[{Really\+Old\+Time\+Test}]{}
\end{DoxyParamCaption}
)}\label{HTTPTimeTest_8cpp_a1a83bf560dd9157bb4550a13e8b0b362}


Definition at line 41 of file H\+T\+T\+P\+Time\+Test.\+cpp.



References proxygen\+::parse\+H\+T\+T\+P\+Date\+Time().


\begin{DoxyCode}
41                                        \{
42   \textcolor{keyword}{auto} a = parseHTTPDateTime(\textcolor{stringliteral}{"Thu, 07 Mar 1770 08:49:37 GMT"});
43   EXPECT\_TRUE(a.hasValue());
44   \textcolor{keyword}{auto} b = parseHTTPDateTime(\textcolor{stringliteral}{"Thu, 07 Mar 1771 08:49:37 GMT"});
45   EXPECT\_TRUE(b.hasValue());
46   \textcolor{keyword}{auto} c = parseHTTPDateTime(\textcolor{stringliteral}{"Thu, 07 Mar 1980 08:49:37 GMT"});
47   EXPECT\_TRUE(c.hasValue());
48 
49   EXPECT\_LT(a, b);
50   EXPECT\_LT(a, c);
51   EXPECT\_LT(b, c);
52 \}
\end{DoxyCode}
\index{H\+T\+T\+P\+Time\+Test.\+cpp@{H\+T\+T\+P\+Time\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!H\+T\+T\+P\+Time\+Test.\+cpp@{H\+T\+T\+P\+Time\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+H\+T\+T\+P\+Time\+Tests, Tz\+To\+Unix\+Ts\+Test)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{H\+T\+T\+P\+Time\+Tests}]{, }
\item[{Tz\+To\+Unix\+Ts\+Test}]{}
\end{DoxyParamCaption}
)}\label{HTTPTimeTest_8cpp_aa177582eb9b89d1d986508787b74592d}


Definition at line 54 of file H\+T\+T\+P\+Time\+Test.\+cpp.



References proxygen\+::parse\+H\+T\+T\+P\+Date\+Time().


\begin{DoxyCode}
54                                     \{
55   \textcolor{keyword}{auto} a = parseHTTPDateTime(\textcolor{stringliteral}{"Wed, 13 Jun 2018 21:43:49 GMT"});
56   EXPECT\_EQ(a.value(), 1528926229);
57   \textcolor{keyword}{auto} b = parseHTTPDateTime(\textcolor{stringliteral}{"Wed, 31 Dec 1969 23:59:59 GMT"});
58   EXPECT\_EQ(b.value(), -1);
59   \textcolor{keyword}{auto} c = parseHTTPDateTime(\textcolor{stringliteral}{"Thu, 01 Jan 1970 00:00:00 GMT"});
60   EXPECT\_EQ(c.value(), 0);
61   \textcolor{keyword}{auto} d = parseHTTPDateTime(\textcolor{stringliteral}{"Thu, 01 Jan 1970 00:00:01 GMT"});
62   EXPECT\_EQ(d.value(), 1);
63 
64   \textcolor{keyword}{auto} e = parseHTTPDateTime(\textcolor{stringliteral}{"Wed, 13-Jun-18 21:43:49 GMT"});
65   EXPECT\_EQ(e.value(), 1528926229);
66   \textcolor{keyword}{auto} f = parseHTTPDateTime(\textcolor{stringliteral}{"Wed, 31-Dec-69 23:59:59 GMT"});
67   EXPECT\_EQ(f.value(), -1);
68   \textcolor{keyword}{auto} g = parseHTTPDateTime(\textcolor{stringliteral}{"Wed, 01-Jan-70 00:00:00 GMT"});
69   EXPECT\_EQ(g.value(), 0);
70   \textcolor{keyword}{auto} h = parseHTTPDateTime(\textcolor{stringliteral}{"Thu, 01-Jan-70 00:00:01 GMT"});
71   EXPECT\_EQ(h.value(), 1);
72 
73   \textcolor{keyword}{auto} i = parseHTTPDateTime(\textcolor{stringliteral}{"Wed Jun 13 21:43:49 2018"});
74   EXPECT\_EQ(i.value(), 1528926229);
75   \textcolor{keyword}{auto} j = parseHTTPDateTime(\textcolor{stringliteral}{"Wed Dec 31 23:59:59 1969"});
76   EXPECT\_EQ(j.value(), -1);
77   \textcolor{keyword}{auto} k = parseHTTPDateTime(\textcolor{stringliteral}{"Thu Jan 1 00:00:00 1970"});
78   EXPECT\_EQ(k.value(), 0);
79   \textcolor{keyword}{auto} l = parseHTTPDateTime(\textcolor{stringliteral}{"Thu Jan 1 00:00:01 1970"});
80   EXPECT\_EQ(l.value(), 1);
81 
82   \textcolor{keyword}{auto} m = parseHTTPDateTime(\textcolor{stringliteral}{"Tue, 19 Jan 2038 03:14:07 GMT"});
83   EXPECT\_EQ(m.value(), 2147483647);
84 
85   \textcolor{keyword}{auto} n = parseHTTPDateTime(\textcolor{stringliteral}{"Thu, 01 Jan 1970 00:00:01 PST"});
86   EXPECT\_FALSE(n.hasValue());
87   \textcolor{keyword}{auto} o = parseHTTPDateTime(\textcolor{stringliteral}{"Thu, 01 Jan 1970 00:00:01"});
88   EXPECT\_FALSE(o.hasValue());
89 \}
\end{DoxyCode}

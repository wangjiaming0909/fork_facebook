\section{Flow\+Control\+Filter\+Test$<$ init\+Size $>$ Class Template Reference}
\label{classFlowControlFilterTest}\index{Flow\+Control\+Filter\+Test$<$ init\+Size $>$@{Flow\+Control\+Filter\+Test$<$ init\+Size $>$}}
Inheritance diagram for Flow\+Control\+Filter\+Test$<$ init\+Size $>$\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classFlowControlFilterTest}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void {\bf Set\+Up} () override
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
Strict\+Mock$<$ {\bf Mock\+Flow\+Control\+Callback} $>$ {\bf flow\+Callback\+\_\+}
\item 
{\bf Flow\+Control\+Filter} $\ast$ {\bf filter\+\_\+}
\item 
int {\bf recv\+Window\+\_\+} \{init\+Size\}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
\subsubsection*{template$<$int init\+Size$>$\\*
class Flow\+Control\+Filter\+Test$<$ init\+Size $>$}



Definition at line 60 of file Filter\+Tests.\+cpp.



\subsection{Member Function Documentation}
\index{Flow\+Control\+Filter\+Test@{Flow\+Control\+Filter\+Test}!Set\+Up@{Set\+Up}}
\index{Set\+Up@{Set\+Up}!Flow\+Control\+Filter\+Test@{Flow\+Control\+Filter\+Test}}
\subsubsection[{Set\+Up() override}]{\setlength{\rightskip}{0pt plus 5cm}template$<$int init\+Size$>$ void {\bf Flow\+Control\+Filter\+Test}$<$ init\+Size $>$\+::Set\+Up (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}}\label{classFlowControlFilterTest_af3664754098cb88048758a098c09f221}


Definition at line 62 of file Filter\+Tests.\+cpp.



References proxygen\+::make\+Buf().


\begin{DoxyCode}
62                         \{
63     EXPECT\_CALL(*codec_, getDefaultWindowSize())
64       .WillRepeatedly(Return(kInitialCapacity));
65 
66     \textcolor{keywordflow}{if} (initSize > kInitialCapacity) \{
67       \textcolor{comment}{// If the initial size is bigger than the default, a window update}
68       \textcolor{comment}{// will immediately be generated}
69       EXPECT\_CALL(*codec_, generateWindowUpdate(\_, 0, initSize -
70                                                 kInitialCapacity))
71         .WillOnce(InvokeWithoutArgs([\textcolor{keyword}{this}] () \{
72               writeBuf_.append(makeBuf(10));
73               \textcolor{keywordflow}{return} 10;
74             \}));
75     \}
76     EXPECT\_CALL(*codec_, generateBody(\_, \_, \_, \_, \_))
77         .WillRepeatedly(Invoke([](folly::IOBufQueue& writeBuf,
78                                   HTTPCodec::StreamID \textcolor{comment}{/*stream*/},
79                                   std::shared\_ptr<folly::IOBuf> chain,
80                                   folly::Optional<uint8\_t> \textcolor{comment}{/*padding*/},
81                                   \textcolor{keywordtype}{bool} \textcolor{comment}{/*eom*/}) \{
82           \textcolor{keyword}{auto} len = chain->computeChainDataLength() + 4;
83           writeBuf.append(makeBuf(len));
84           \textcolor{keywordflow}{return} len;
85         \}));
86     EXPECT\_CALL(*codec_, isReusable()).WillRepeatedly(Return(\textcolor{keyword}{true}));
87 
88     \textcolor{comment}{// Construct flow control filter with capacity of 0, which will be}
89     \textcolor{comment}{// overridden to the codec default, which is the minimum}
90     filter_ = \textcolor{keyword}{new} FlowControlFilter(flowCallback_, writeBuf_, codec_,
91                                     initSize);
92     chain_.addFilters(std::unique\_ptr<FlowControlFilter>(filter_));
93   \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{Flow\+Control\+Filter\+Test@{Flow\+Control\+Filter\+Test}!filter\+\_\+@{filter\+\_\+}}
\index{filter\+\_\+@{filter\+\_\+}!Flow\+Control\+Filter\+Test@{Flow\+Control\+Filter\+Test}}
\subsubsection[{filter\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}template$<$int init\+Size$>$ {\bf Flow\+Control\+Filter}$\ast$ {\bf Flow\+Control\+Filter\+Test}$<$ init\+Size $>$\+::filter\+\_\+}\label{classFlowControlFilterTest_a42b971d7053e6fb7b0c64ec8b00ff64a}


Definition at line 95 of file Filter\+Tests.\+cpp.

\index{Flow\+Control\+Filter\+Test@{Flow\+Control\+Filter\+Test}!flow\+Callback\+\_\+@{flow\+Callback\+\_\+}}
\index{flow\+Callback\+\_\+@{flow\+Callback\+\_\+}!Flow\+Control\+Filter\+Test@{Flow\+Control\+Filter\+Test}}
\subsubsection[{flow\+Callback\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}template$<$int init\+Size$>$ Strict\+Mock$<${\bf Mock\+Flow\+Control\+Callback}$>$ {\bf Flow\+Control\+Filter\+Test}$<$ init\+Size $>$\+::flow\+Callback\+\_\+}\label{classFlowControlFilterTest_ac100cbc3c6c3115d88037061bc1a220d}


Definition at line 94 of file Filter\+Tests.\+cpp.

\index{Flow\+Control\+Filter\+Test@{Flow\+Control\+Filter\+Test}!recv\+Window\+\_\+@{recv\+Window\+\_\+}}
\index{recv\+Window\+\_\+@{recv\+Window\+\_\+}!Flow\+Control\+Filter\+Test@{Flow\+Control\+Filter\+Test}}
\subsubsection[{recv\+Window\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}template$<$int init\+Size$>$ int {\bf Flow\+Control\+Filter\+Test}$<$ init\+Size $>$\+::recv\+Window\+\_\+ \{init\+Size\}}\label{classFlowControlFilterTest_a7c31bfec35dd326f64047f0acf5629fc}


Definition at line 96 of file Filter\+Tests.\+cpp.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
proxygen/lib/http/codec/test/{\bf Filter\+Tests.\+cpp}\end{DoxyCompactItemize}

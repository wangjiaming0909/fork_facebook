\section{proxygen/lib/utils/test/\+Trace\+Event\+Test.cpp File Reference}
\label{TraceEventTest_8cpp}\index{proxygen/lib/utils/test/\+Trace\+Event\+Test.\+cpp@{proxygen/lib/utils/test/\+Trace\+Event\+Test.\+cpp}}
{\ttfamily \#include $<$proxygen/lib/utils/\+Exception.\+h$>$}\\*
{\ttfamily \#include $<$proxygen/lib/utils/\+Trace\+Event.\+h$>$}\\*
{\ttfamily \#include $<$proxygen/lib/utils/\+Trace\+Event\+Type.\+h$>$}\\*
{\ttfamily \#include $<$proxygen/lib/utils/\+Trace\+Field\+Type.\+h$>$}\\*
{\ttfamily \#include $<$folly/portability/\+G\+Test.\+h$>$}\\*
{\ttfamily \#include $<$folly/portability/\+G\+Mock.\+h$>$}\\*
{\ttfamily \#include $<$string$>$}\\*
{\ttfamily \#include $<$vector$>$}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
{\bf T\+E\+ST} (Trace\+Event\+Test, Integral\+Data\+Integral\+Value)
\item 
{\bf T\+E\+ST} (Trace\+Event\+Test, Integral\+Data\+String\+Value)
\item 
{\bf T\+E\+ST} (Trace\+Event\+Test, Integral\+Data\+Vector\+Value)
\item 
{\bf T\+E\+ST} (Trace\+Event\+Test, String\+Data\+Integral\+Value\+Convertible)
\item 
{\bf T\+E\+ST} (Trace\+Event\+Test, String\+Data\+Integral\+Value\+Non\+Convertible)
\item 
{\bf T\+E\+ST} (Trace\+Event\+Test, String\+Data\+String\+Value)
\item 
{\bf T\+E\+ST} (Trace\+Event\+Test, String\+Data\+Vector\+Value)
\item 
{\bf T\+E\+ST} (Trace\+Event\+Test, Vector\+Data\+Integral\+Value)
\item 
{\bf T\+E\+ST} (Trace\+Event\+Test, Vector\+Data\+String\+Value)
\item 
{\bf T\+E\+ST} (Trace\+Event\+Test, Vector\+Data\+Vector\+Value)
\item 
{\bf T\+E\+ST} (Trace\+Event\+Test, Iterator\+Value\+Type\+Check\+Integer)
\item 
{\bf T\+E\+ST} (Trace\+Event\+Test, Iterator\+Value\+Type\+Check\+String)
\item 
{\bf T\+E\+ST} (Trace\+Event\+Test, Iterator\+Value\+Type\+Check\+String\+Array)
\item 
{\bf T\+E\+ST} (Trace\+Event\+Test, Integer\+Value\+To\+String)
\item 
{\bf T\+E\+ST} (Trace\+Event\+Test, String\+Value\+To\+String)
\item 
{\bf T\+E\+ST} (Trace\+Event\+Test, String\+Array\+Value\+To\+String)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Trace\+Event\+Test, Integral\+Data\+Integral\+Value)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{Trace\+Event\+Test}]{, }
\item[{Integral\+Data\+Integral\+Value}]{}
\end{DoxyParamCaption}
)}\label{TraceEventTest_8cpp_a979b981246864a02198356404148fa30}


Definition at line 23 of file Trace\+Event\+Test.\+cpp.



References proxygen\+::\+Trace\+Event\+::add\+Meta(), proxygen\+::\+Trace\+Event\+::get\+Trace\+Field\+Data\+As(), and Total\+Request.


\begin{DoxyCode}
23                                                 \{
24   TraceEvent traceEvent( (TraceEventType::TotalRequest) );
25 
26   int64\_t data(13);
27   traceEvent.addMeta(TraceFieldType::Protocol, data);
28 
29   ASSERT\_EQ(data,
30       traceEvent.getTraceFieldDataAs<int64\_t>(TraceFieldType::Protocol));
31 \}
\end{DoxyCode}
\index{Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Trace\+Event\+Test, Integral\+Data\+String\+Value)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{Trace\+Event\+Test}]{, }
\item[{Integral\+Data\+String\+Value}]{}
\end{DoxyParamCaption}
)}\label{TraceEventTest_8cpp_a1cd73d1b5e0f8a0533576e6bbb0296f9}


Definition at line 33 of file Trace\+Event\+Test.\+cpp.



References proxygen\+::\+Trace\+Event\+::add\+Meta(), proxygen\+::\+Trace\+Event\+::get\+Trace\+Field\+Data\+As(), and Total\+Request.


\begin{DoxyCode}
33                                               \{
34   TraceEvent traceEvent( (TraceEventType::TotalRequest) );
35 
36   int64\_t intData(13);
37   traceEvent.addMeta(TraceFieldType::Protocol, intData);
38 
39   std::string strData(std::to\_string(intData));
40 
41   ASSERT\_EQ(strData,
42       traceEvent.getTraceFieldDataAs<std::string>(TraceFieldType::Protocol));
43 \}
\end{DoxyCode}
\index{Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Trace\+Event\+Test, Integral\+Data\+Vector\+Value)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{Trace\+Event\+Test}]{, }
\item[{Integral\+Data\+Vector\+Value}]{}
\end{DoxyParamCaption}
)}\label{TraceEventTest_8cpp_aa86f51ae4a7872086565bdf9717694f0}


Definition at line 45 of file Trace\+Event\+Test.\+cpp.



References proxygen\+::\+Trace\+Event\+::add\+Meta(), proxygen\+::\+Trace\+Event\+::get\+Trace\+Field\+Data\+As(), and Total\+Request.


\begin{DoxyCode}
45                                               \{
46   TraceEvent traceEvent( (TraceEventType::TotalRequest) );
47 
48   int64\_t data(13);
49   traceEvent.addMeta(TraceFieldType::Protocol, data);
50 
51   ASSERT\_THROW(
52       traceEvent.getTraceFieldDataAs<std::vector<std::string>>(
53           TraceFieldType::Protocol),
54       Exception);
55 \}
\end{DoxyCode}
\index{Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Trace\+Event\+Test, String\+Data\+Integral\+Value\+Convertible)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{Trace\+Event\+Test}]{, }
\item[{String\+Data\+Integral\+Value\+Convertible}]{}
\end{DoxyParamCaption}
)}\label{TraceEventTest_8cpp_ab8308199e72f9b93f2fdd6bda1c0d7cc}


Definition at line 57 of file Trace\+Event\+Test.\+cpp.



References proxygen\+::\+Trace\+Event\+::add\+Meta(), proxygen\+::\+Trace\+Event\+::get\+Trace\+Field\+Data\+As(), and Total\+Request.


\begin{DoxyCode}
57                                                          \{
58   TraceEvent traceEvent( (TraceEventType::TotalRequest) );
59 
60   int64\_t intData(13);
61   std::string strData(std::to\_string(intData));
62   traceEvent.addMeta(TraceFieldType::Protocol, strData);
63 
64   ASSERT\_EQ(intData,
65       traceEvent.getTraceFieldDataAs<int64\_t>(TraceFieldType::Protocol));
66 \}
\end{DoxyCode}
\index{Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Trace\+Event\+Test, String\+Data\+Integral\+Value\+Non\+Convertible)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{Trace\+Event\+Test}]{, }
\item[{String\+Data\+Integral\+Value\+Non\+Convertible}]{}
\end{DoxyParamCaption}
)}\label{TraceEventTest_8cpp_a1140ef8522c4326ace6842b04189a8da}


Definition at line 68 of file Trace\+Event\+Test.\+cpp.



References proxygen\+::\+Trace\+Event\+::add\+Meta(), proxygen\+::\+Trace\+Event\+::get\+Trace\+Field\+Data\+As(), and Total\+Request.


\begin{DoxyCode}
68                                                             \{
69   TraceEvent traceEvent( (TraceEventType::TotalRequest) );
70 
71   std::string data(\textcolor{stringliteral}{"Abc"});
72   traceEvent.addMeta(TraceFieldType::Protocol, data);
73 
74   ASSERT\_ANY\_THROW(
75       traceEvent.getTraceFieldDataAs<int64\_t>(TraceFieldType::Protocol));
76 \}
\end{DoxyCode}
\index{Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Trace\+Event\+Test, String\+Data\+String\+Value)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{Trace\+Event\+Test}]{, }
\item[{String\+Data\+String\+Value}]{}
\end{DoxyParamCaption}
)}\label{TraceEventTest_8cpp_ad073564e36d690f263fca88fcc888356}


Definition at line 78 of file Trace\+Event\+Test.\+cpp.



References proxygen\+::\+Trace\+Event\+::add\+Meta(), proxygen\+::\+Trace\+Event\+::get\+Trace\+Field\+Data\+As(), and Total\+Request.


\begin{DoxyCode}
78                                             \{
79   TraceEvent traceEvent( (TraceEventType::TotalRequest) );
80 
81   std::string data(\textcolor{stringliteral}{"Abc"});
82   traceEvent.addMeta(TraceFieldType::Protocol, data);
83 
84   ASSERT\_EQ(data,
85       traceEvent.getTraceFieldDataAs<std::string>(TraceFieldType::Protocol));
86 \}
\end{DoxyCode}
\index{Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Trace\+Event\+Test, String\+Data\+Vector\+Value)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{Trace\+Event\+Test}]{, }
\item[{String\+Data\+Vector\+Value}]{}
\end{DoxyParamCaption}
)}\label{TraceEventTest_8cpp_aed68d1cf222101ea3066c117a0f1bb6e}


Definition at line 89 of file Trace\+Event\+Test.\+cpp.



References proxygen\+::\+Trace\+Event\+::add\+Meta(), proxygen\+::\+Trace\+Event\+::get\+Trace\+Field\+Data\+As(), and Total\+Request.


\begin{DoxyCode}
89                                             \{
90   TraceEvent traceEvent( (TraceEventType::TotalRequest) );
91 
92   std::string data(\textcolor{stringliteral}{"Abc"});
93   traceEvent.addMeta(TraceFieldType::Protocol, data);
94 
95   ASSERT\_THROW(
96       traceEvent.getTraceFieldDataAs<std::vector<std::string>>(
97           TraceFieldType::Protocol),
98       Exception);
99 \}
\end{DoxyCode}
\index{Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Trace\+Event\+Test, Vector\+Data\+Integral\+Value)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{Trace\+Event\+Test}]{, }
\item[{Vector\+Data\+Integral\+Value}]{}
\end{DoxyParamCaption}
)}\label{TraceEventTest_8cpp_a3175950aaa409ae03015c819dc96cc2d}


Definition at line 101 of file Trace\+Event\+Test.\+cpp.



References proxygen\+::\+Trace\+Event\+::add\+Meta(), proxygen\+::\+Trace\+Event\+::get\+Trace\+Field\+Data\+As(), and Total\+Request.


\begin{DoxyCode}
101                                               \{
102   TraceEvent traceEvent( (TraceEventType::TotalRequest) );
103 
104   std::vector<std::string> data;
105   data.push\_back(\textcolor{stringliteral}{"Abc"});
106   data.push\_back(\textcolor{stringliteral}{"Hij"});
107   data.push\_back(\textcolor{stringliteral}{"Xyz"});
108   traceEvent.addMeta(TraceFieldType::Protocol, data);
109 
110   ASSERT\_THROW(
111       traceEvent.getTraceFieldDataAs<int64\_t>(TraceFieldType::Protocol),
112       Exception);
113 \}
\end{DoxyCode}
\index{Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Trace\+Event\+Test, Vector\+Data\+String\+Value)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{Trace\+Event\+Test}]{, }
\item[{Vector\+Data\+String\+Value}]{}
\end{DoxyParamCaption}
)}\label{TraceEventTest_8cpp_a8f25f1dec6224d312921273b186f6aa3}


Definition at line 115 of file Trace\+Event\+Test.\+cpp.



References proxygen\+::\+Trace\+Event\+::add\+Meta(), proxygen\+::\+Trace\+Event\+::get\+Trace\+Field\+Data\+As(), and Total\+Request.


\begin{DoxyCode}
115                                             \{
116   TraceEvent traceEvent( (TraceEventType::TotalRequest) );
117 
118   std::vector<std::string> data;
119   data.push\_back(\textcolor{stringliteral}{"A"});
120   data.push\_back(\textcolor{stringliteral}{"B"});
121   data.push\_back(\textcolor{stringliteral}{"C"});
122   traceEvent.addMeta(TraceFieldType::Protocol, data);
123 
124   ASSERT\_EQ(
125       \textcolor{stringliteral}{"[\(\backslash\)"A\(\backslash\)",\(\backslash\)"B\(\backslash\)",\(\backslash\)"C\(\backslash\)"]"},
126       traceEvent.getTraceFieldDataAs<std::string>(TraceFieldType::Protocol));
127 \}
\end{DoxyCode}
\index{Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Trace\+Event\+Test, Vector\+Data\+Vector\+Value)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{Trace\+Event\+Test}]{, }
\item[{Vector\+Data\+Vector\+Value}]{}
\end{DoxyParamCaption}
)}\label{TraceEventTest_8cpp_a634b8275e1f61a4bedc54db963658257}


Definition at line 129 of file Trace\+Event\+Test.\+cpp.



References proxygen\+::\+Trace\+Event\+::add\+Meta(), proxygen\+::\+Trace\+Event\+::get\+Trace\+Field\+Data\+As(), and Total\+Request.


\begin{DoxyCode}
129                                             \{
130   TraceEvent traceEvent( (TraceEventType::TotalRequest) );
131 
132   std::vector<std::string> data;
133   data.push\_back(\textcolor{stringliteral}{"A"});
134   data.push\_back(\textcolor{stringliteral}{"B"});
135   data.push\_back(\textcolor{stringliteral}{"C"});
136   traceEvent.addMeta(TraceFieldType::Protocol, data);
137 
138   std::vector<std::string> extractedData(
139       traceEvent.getTraceFieldDataAs<std::vector<std::string>>(
140           TraceFieldType::Protocol));
141 
142   EXPECT\_THAT(extractedData, testing::ContainerEq(data));
143 \}
\end{DoxyCode}
\index{Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Trace\+Event\+Test, Iterator\+Value\+Type\+Check\+Integer)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{Trace\+Event\+Test}]{, }
\item[{Iterator\+Value\+Type\+Check\+Integer}]{}
\end{DoxyParamCaption}
)}\label{TraceEventTest_8cpp_aae2eb0dbcdd0ced51f5a3045f6280293}


Definition at line 145 of file Trace\+Event\+Test.\+cpp.



References proxygen\+::\+Trace\+Event\+::add\+Meta(), proxygen\+::\+Trace\+Event\+::get\+Meta\+Data\+Itr(), proxygen\+::\+Trace\+Event\+::\+Iterator\+::next(), and Total\+Request.


\begin{DoxyCode}
145                                                     \{
146   TraceEvent traceEvent( (TraceEventType::TotalRequest) );
147   int64\_t intData(13);
148   traceEvent.addMeta(TraceFieldType::Protocol, intData);
149 
150   \textcolor{keyword}{auto} itr = traceEvent.getMetaDataItr();
151   ASSERT\_TRUE(itr.isValid());
152   ASSERT\_EQ(TraceFieldType::Protocol, itr.getKey());
153   ASSERT\_EQ(\textcolor{keyword}{typeid}(int64\_t), itr.type());
154 
155   itr.next();
156   ASSERT\_FALSE(itr.isValid());
157 \}
\end{DoxyCode}
\index{Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Trace\+Event\+Test, Iterator\+Value\+Type\+Check\+String)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{Trace\+Event\+Test}]{, }
\item[{Iterator\+Value\+Type\+Check\+String}]{}
\end{DoxyParamCaption}
)}\label{TraceEventTest_8cpp_a57c392019d384f080fc2c776a9a67ea7}


Definition at line 159 of file Trace\+Event\+Test.\+cpp.



References proxygen\+::\+Trace\+Event\+::add\+Meta(), proxygen\+::\+Trace\+Event\+::get\+Meta\+Data\+Itr(), proxygen\+::\+Trace\+Event\+::\+Iterator\+::next(), and Total\+Request.


\begin{DoxyCode}
159                                                    \{
160   TraceEvent traceEvent( (TraceEventType::TotalRequest) );
161   std::string strData(\textcolor{stringliteral}{"abc"});
162   traceEvent.addMeta(TraceFieldType::Protocol, strData);
163 
164   \textcolor{keyword}{auto} itr = traceEvent.getMetaDataItr();
165   ASSERT\_TRUE(itr.isValid());
166   ASSERT\_EQ(TraceFieldType::Protocol, itr.getKey());
167   ASSERT\_EQ(\textcolor{keyword}{typeid}(std::string), itr.type());
168 
169   itr.next();
170   ASSERT\_FALSE(itr.isValid());
171 \}
\end{DoxyCode}
\index{Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Trace\+Event\+Test, Iterator\+Value\+Type\+Check\+String\+Array)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{Trace\+Event\+Test}]{, }
\item[{Iterator\+Value\+Type\+Check\+String\+Array}]{}
\end{DoxyParamCaption}
)}\label{TraceEventTest_8cpp_abd79bcaaab43d0c3af70d8e10cde9c34}


Definition at line 173 of file Trace\+Event\+Test.\+cpp.



References proxygen\+::\+Trace\+Event\+::add\+Meta(), proxygen\+::\+Trace\+Event\+::get\+Meta\+Data\+Itr(), proxygen\+::\+Trace\+Event\+::\+Iterator\+::next(), and Total\+Request.


\begin{DoxyCode}
173                                                         \{
174   TraceEvent traceEvent( (TraceEventType::TotalRequest) );
175   std::vector<std::string> arrData;
176   arrData.push\_back(\textcolor{stringliteral}{"A"});
177   arrData.push\_back(\textcolor{stringliteral}{"B"});
178   arrData.push\_back(\textcolor{stringliteral}{"C"});
179   traceEvent.addMeta(TraceFieldType::Protocol, arrData);
180 
181   \textcolor{keyword}{auto} itr = traceEvent.getMetaDataItr();
182   ASSERT\_TRUE(itr.isValid());
183   ASSERT\_EQ(TraceFieldType::Protocol, itr.getKey());
184   ASSERT\_EQ(\textcolor{keyword}{typeid}(std::vector<std::string>), itr.type());
185 
186   itr.next();
187   ASSERT\_FALSE(itr.isValid());
188 \}
\end{DoxyCode}
\index{Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Trace\+Event\+Test, Integer\+Value\+To\+String)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{Trace\+Event\+Test}]{, }
\item[{Integer\+Value\+To\+String}]{}
\end{DoxyParamCaption}
)}\label{TraceEventTest_8cpp_a3bbd42ca2aa119510ef5b14842b3f7cc}


Definition at line 191 of file Trace\+Event\+Test.\+cpp.



References proxygen\+::\+Trace\+Event\+::add\+Meta(), proxygen\+::\+Trace\+Event\+::end(), proxygen\+::\+Trace\+Event\+::get\+I\+D(), proxygen\+::\+Trace\+Event\+::start(), proxygen\+::\+Trace\+Event\+::to\+String(), and Total\+Request.


\begin{DoxyCode}
191                                            \{
192   TraceEvent traceEvent(TraceEventType::TotalRequest, 1);
193   traceEvent.start(TimePoint(std::chrono::milliseconds(100)));
194   traceEvent.end(TimePoint(std::chrono::milliseconds(200)));
195   int64\_t intData(13);
196   traceEvent.addMeta(TraceFieldType::Protocol, intData);
197 
198   std::ostringstream out;
199   out << \textcolor{stringliteral}{"TraceEvent("};
200   out << \textcolor{stringliteral}{"type='TotalRequest', "};
201   out << \textcolor{stringliteral}{"id='"} << traceEvent.getID() << \textcolor{stringliteral}{"', "};
202   out << \textcolor{stringliteral}{"parentID='1', "};
203   out << \textcolor{stringliteral}{"start='100', "};
204   out << \textcolor{stringliteral}{"end='200', "};
205   out << \textcolor{stringliteral}{"metaData='\{protocol: 13, \}')"};
206 
207   ASSERT\_EQ(out.str(), traceEvent.toString());
208 \}
\end{DoxyCode}
\index{Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Trace\+Event\+Test, String\+Value\+To\+String)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{Trace\+Event\+Test}]{, }
\item[{String\+Value\+To\+String}]{}
\end{DoxyParamCaption}
)}\label{TraceEventTest_8cpp_acbeb957b5ea1ba60ab3668a0fc711e12}


Definition at line 210 of file Trace\+Event\+Test.\+cpp.



References proxygen\+::\+Trace\+Event\+::add\+Meta(), proxygen\+::\+Trace\+Event\+::end(), proxygen\+::\+Trace\+Event\+::get\+I\+D(), proxygen\+::\+Trace\+Event\+::start(), proxygen\+::\+Trace\+Event\+::to\+String(), and Total\+Request.


\begin{DoxyCode}
210                                           \{
211   TraceEvent traceEvent(TraceEventType::TotalRequest, 1);
212   traceEvent.start(TimePoint(std::chrono::milliseconds(100)));
213   traceEvent.end(TimePoint(std::chrono::milliseconds(200)));
214   std::string strData(\textcolor{stringliteral}{"abc"});
215   traceEvent.addMeta(TraceFieldType::Protocol, strData);
216 
217   std::ostringstream out;
218   out << \textcolor{stringliteral}{"TraceEvent("};
219   out << \textcolor{stringliteral}{"type='TotalRequest', "};
220   out << \textcolor{stringliteral}{"id='"} << traceEvent.getID() << \textcolor{stringliteral}{"', "};
221   out << \textcolor{stringliteral}{"parentID='1', "};
222   out << \textcolor{stringliteral}{"start='100', "};
223   out << \textcolor{stringliteral}{"end='200', "};
224   out << \textcolor{stringliteral}{"metaData='\{protocol: abc, \}')"};
225 
226   ASSERT\_EQ(out.str(), traceEvent.toString());
227 \}
\end{DoxyCode}
\index{Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}!T\+E\+ST@{T\+E\+ST}}
\index{T\+E\+ST@{T\+E\+ST}!Trace\+Event\+Test.\+cpp@{Trace\+Event\+Test.\+cpp}}
\subsubsection[{T\+E\+S\+T(\+Trace\+Event\+Test, String\+Array\+Value\+To\+String)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+ST (
\begin{DoxyParamCaption}
\item[{Trace\+Event\+Test}]{, }
\item[{String\+Array\+Value\+To\+String}]{}
\end{DoxyParamCaption}
)}\label{TraceEventTest_8cpp_a9cf07588ffdd7acb60bab858c1a8b13b}


Definition at line 229 of file Trace\+Event\+Test.\+cpp.



References proxygen\+::\+Trace\+Event\+::add\+Meta(), proxygen\+::\+Trace\+Event\+::end(), proxygen\+::\+Trace\+Event\+::get\+I\+D(), proxygen\+::\+Trace\+Event\+::start(), proxygen\+::\+Trace\+Event\+::to\+String(), and Total\+Request.


\begin{DoxyCode}
229                                                \{
230   TraceEvent traceEvent(TraceEventType::TotalRequest, 1);
231   traceEvent.start(TimePoint(std::chrono::milliseconds(100)));
232   traceEvent.end(TimePoint(std::chrono::milliseconds(200)));
233   std::vector<std::string> arrData;
234   arrData.push\_back(\textcolor{stringliteral}{"A"});
235   arrData.push\_back(\textcolor{stringliteral}{"B"});
236   arrData.push\_back(\textcolor{stringliteral}{"C"});
237   traceEvent.addMeta(TraceFieldType::Protocol, arrData);
238 
239   std::ostringstream out;
240   out << \textcolor{stringliteral}{"TraceEvent("};
241   out << \textcolor{stringliteral}{"type='TotalRequest', "};
242   out << \textcolor{stringliteral}{"id='"} << traceEvent.getID() << \textcolor{stringliteral}{"', "};
243   out << \textcolor{stringliteral}{"parentID='1', "};
244   out << \textcolor{stringliteral}{"start='100', "};
245   out << \textcolor{stringliteral}{"end='200', "};
246   out << \textcolor{stringliteral}{"metaData='\{protocol: [\(\backslash\)"A\(\backslash\)",\(\backslash\)"B\(\backslash\)",\(\backslash\)"C\(\backslash\)"], \}')"};
247 
248   ASSERT\_EQ(out.str(), traceEvent.toString());
249 \}
\end{DoxyCode}

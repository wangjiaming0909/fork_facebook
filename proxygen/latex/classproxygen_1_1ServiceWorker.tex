\section{proxygen\+:\+:Service\+Worker Class Reference}
\label{classproxygen_1_1ServiceWorker}\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}


{\ttfamily \#include $<$Service\+Worker.\+h$>$}

\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
using {\bf Acceptor\+Map} = std\+::map$<$ {\bf Acceptor\+Address}, std\+::unique\+\_\+ptr$<$ wangle\+::\+Acceptor $>$$>$
\item 
using {\bf Named\+Address\+Map} = std\+::map$<$ std\+::string, {\bf Acceptor\+Address} $>$
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf Service\+Worker} ({\bf Service} $\ast$service, {\bf Request\+Worker} $\ast$worker)
\item 
virtual {\bf $\sim$\+Service\+Worker} ()
\item 
{\bf Service} $\ast$ {\bf get\+Service} () const 
\item 
void {\bf add\+Service\+Acceptor} (const folly\+::\+Socket\+Address \&address, std\+::unique\+\_\+ptr$<$ wangle\+::\+Acceptor $>$ acceptor)
\item 
void {\bf add\+Service\+Acceptor} (const {\bf Acceptor\+Address} \&acc\+Address, std\+::unique\+\_\+ptr$<$ wangle\+::\+Acceptor $>$ acceptor)
\item 
void {\bf drain\+Service\+Acceptor} (const folly\+::\+Socket\+Address \&address)
\item 
void {\bf drain\+Service\+Acceptor} (const {\bf Acceptor\+Address} \&acc\+Address)
\item 
{\bf Request\+Worker} $\ast$ {\bf get\+Request\+Worker} () const 
\item 
const {\bf Acceptor\+Map} \& {\bf get\+Acceptors} ()
\item 
wangle\+::\+Acceptor $\ast$ {\bf get\+Acceptor\+By\+Name} (std\+::string {\bf name}) const 
\item 
const {\bf Acceptor\+Map} \& {\bf get\+Draining\+Acceptors} ()
\item 
virtual void {\bf flush\+Stats} ()
\item 
virtual void {\bf clear\+Acceptors} ()
\item 
virtual void {\bf clear\+Draining\+Acceptors} ()
\item 
wangle\+::\+I\+Connection\+Counter $\ast$ {\bf get\+Connection\+Counter} ()
\item 
virtual void {\bf force\+Stop} ()
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
wangle\+::\+Simple\+Connection\+Counter {\bf connection\+Counter\+\_\+}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf Service\+Worker} ({\bf Service\+Worker} const \&)=delete
\item 
{\bf Service\+Worker} \& {\bf operator=} ({\bf Service\+Worker} const \&)=delete
\item 
void {\bf add\+Acceptor} (const {\bf Acceptor\+Address} \&acc\+Address, std\+::unique\+\_\+ptr$<$ wangle\+::\+Acceptor $>$ acceptor, {\bf Acceptor\+Map} \&acceptors)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
{\bf Service} $\ast$ {\bf service\+\_\+}
\item 
{\bf Request\+Worker} $\ast$ {\bf worker\+\_\+}
\item 
{\bf Acceptor\+Map} {\bf acceptors\+\_\+}
\item 
{\bf Named\+Address\+Map} {\bf named\+Address\+\_\+}
\item 
{\bf Acceptor\+Map} {\bf draining\+Acceptors\+\_\+}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\doxyref{Service\+Worker}{p.}{classproxygen_1_1ServiceWorker} contains all of the per-\/thread information for a \doxyref{Service}{p.}{classproxygen_1_1Service}.

\doxyref{Service\+Worker}{p.}{classproxygen_1_1ServiceWorker} contains a pointer back to the single global \doxyref{Service}{p.}{classproxygen_1_1Service}. It contains a list of Proxy\+Acceptor objects for this worker thread, one per V\+IP.

\doxyref{Service\+Worker}{p.}{classproxygen_1_1ServiceWorker} fits into the Proxygen object hierarchy as follows\+:


\begin{DoxyItemize}
\item \doxyref{Service}{p.}{classproxygen_1_1Service}\+: one instance (globally across the entire program)
\item \doxyref{Service\+Worker}{p.}{classproxygen_1_1ServiceWorker}\+: one instance per thread
\item Service\+Acceptor\+: one instance per V\+IP per thread 
\end{DoxyItemize}

Definition at line 37 of file Service\+Worker.\+h.



\subsection{Member Typedef Documentation}
\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!Acceptor\+Map@{Acceptor\+Map}}
\index{Acceptor\+Map@{Acceptor\+Map}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{Acceptor\+Map}]{\setlength{\rightskip}{0pt plus 5cm}using {\bf proxygen\+::\+Service\+Worker\+::\+Acceptor\+Map} =  std\+::map$<${\bf Acceptor\+Address}, std\+::unique\+\_\+ptr$<$wangle\+::\+Acceptor$>$$>$}\label{classproxygen_1_1ServiceWorker_a1817920c1424f9c2ecc6c3add35c6c79}


Definition at line 40 of file Service\+Worker.\+h.

\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!Named\+Address\+Map@{Named\+Address\+Map}}
\index{Named\+Address\+Map@{Named\+Address\+Map}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{Named\+Address\+Map}]{\setlength{\rightskip}{0pt plus 5cm}using {\bf proxygen\+::\+Service\+Worker\+::\+Named\+Address\+Map} =  std\+::map$<$std\+::string, {\bf Acceptor\+Address}$>$}\label{classproxygen_1_1ServiceWorker_a363e69ca51179ec2baae07ddea40d62d}


Definition at line 42 of file Service\+Worker.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!Service\+Worker@{Service\+Worker}}
\index{Service\+Worker@{Service\+Worker}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{Service\+Worker(\+Service $\ast$service, Request\+Worker $\ast$worker)}]{\setlength{\rightskip}{0pt plus 5cm}proxygen\+::\+Service\+Worker\+::\+Service\+Worker (
\begin{DoxyParamCaption}
\item[{{\bf Service} $\ast$}]{service, }
\item[{{\bf Request\+Worker} $\ast$}]{worker}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1ServiceWorker_ae32ba4133bfc855800964e1fc8d37b65}


Definition at line 44 of file Service\+Worker.\+h.


\begin{DoxyCode}
45       : service_(service), worker_(worker) \{
46   \}
\end{DoxyCode}
\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!````~Service\+Worker@{$\sim$\+Service\+Worker}}
\index{````~Service\+Worker@{$\sim$\+Service\+Worker}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{$\sim$\+Service\+Worker()}]{\setlength{\rightskip}{0pt plus 5cm}virtual proxygen\+::\+Service\+Worker\+::$\sim$\+Service\+Worker (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\label{classproxygen_1_1ServiceWorker_ab95ed27025b867b6e443c8679b4a2551}


Definition at line 48 of file Service\+Worker.\+h.


\begin{DoxyCode}
48                            \{
49   \}
\end{DoxyCode}
\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!Service\+Worker@{Service\+Worker}}
\index{Service\+Worker@{Service\+Worker}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{Service\+Worker(\+Service\+Worker const \&)=delete}]{\setlength{\rightskip}{0pt plus 5cm}proxygen\+::\+Service\+Worker\+::\+Service\+Worker (
\begin{DoxyParamCaption}
\item[{{\bf Service\+Worker} const \&}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [delete]}}\label{classproxygen_1_1ServiceWorker_ab0916bd938cbdc94801020cc58ea79a3}


\subsection{Member Function Documentation}
\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!add\+Acceptor@{add\+Acceptor}}
\index{add\+Acceptor@{add\+Acceptor}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{add\+Acceptor(const Acceptor\+Address \&acc\+Address, std\+::unique\+\_\+ptr$<$ wangle\+::\+Acceptor $>$ acceptor, Acceptor\+Map \&acceptors)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Service\+Worker\+::add\+Acceptor (
\begin{DoxyParamCaption}
\item[{const {\bf Acceptor\+Address} \&}]{acc\+Address, }
\item[{std\+::unique\+\_\+ptr$<$ wangle\+::\+Acceptor $>$}]{acceptor, }
\item[{{\bf Acceptor\+Map} \&}]{acceptors}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}\label{classproxygen_1_1ServiceWorker_a65e3af6a2a5df051506a36c79c778cc3}


Definition at line 140 of file Service\+Worker.\+h.



Referenced by add\+Service\+Acceptor(), and drain\+Service\+Acceptor().


\begin{DoxyCode}
142                                            \{
143     CHECK(acceptors.find(accAddress) == acceptors.end());
144     acceptors.insert(std::make\_pair(accAddress, std::move(acceptor)));
145   \}
\end{DoxyCode}
\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!add\+Service\+Acceptor@{add\+Service\+Acceptor}}
\index{add\+Service\+Acceptor@{add\+Service\+Acceptor}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{add\+Service\+Acceptor(const folly\+::\+Socket\+Address \&address, std\+::unique\+\_\+ptr$<$ wangle\+::\+Acceptor $>$ acceptor)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Service\+Worker\+::add\+Service\+Acceptor (
\begin{DoxyParamCaption}
\item[{const folly\+::\+Socket\+Address \&}]{address, }
\item[{std\+::unique\+\_\+ptr$<$ wangle\+::\+Acceptor $>$}]{acceptor}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1ServiceWorker_a69a7775554b0728a5297f6ce90dc5014}


Definition at line 55 of file Service\+Worker.\+h.



References proxygen\+::\+Acceptor\+Address\+::\+T\+CP.


\begin{DoxyCode}
56                                                                   \{
57     addServiceAcceptor(
58         AcceptorAddress(address, AcceptorAddress::AcceptorType::TCP),
59         std::move(acceptor));
60   \}
\end{DoxyCode}
\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!add\+Service\+Acceptor@{add\+Service\+Acceptor}}
\index{add\+Service\+Acceptor@{add\+Service\+Acceptor}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{add\+Service\+Acceptor(const Acceptor\+Address \&acc\+Address, std\+::unique\+\_\+ptr$<$ wangle\+::\+Acceptor $>$ acceptor)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Service\+Worker\+::add\+Service\+Acceptor (
\begin{DoxyParamCaption}
\item[{const {\bf Acceptor\+Address} \&}]{acc\+Address, }
\item[{std\+::unique\+\_\+ptr$<$ wangle\+::\+Acceptor $>$}]{acceptor}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1ServiceWorker_aa60d26524e7788c2914d85a31cc84430}


Definition at line 62 of file Service\+Worker.\+h.



References acceptors\+\_\+, add\+Acceptor(), and named\+Address\+\_\+.


\begin{DoxyCode}
63                                                                   \{
64     namedAddress_.emplace(acceptor->getName(), accAddress);
65     addAcceptor(accAddress, std::move(acceptor), acceptors_);
66   \}
\end{DoxyCode}
\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!clear\+Acceptors@{clear\+Acceptors}}
\index{clear\+Acceptors@{clear\+Acceptors}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{clear\+Acceptors()}]{\setlength{\rightskip}{0pt plus 5cm}virtual void proxygen\+::\+Service\+Worker\+::clear\+Acceptors (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\label{classproxygen_1_1ServiceWorker_ae6bfd268235a8e77f87f5ade0b9e27bb}


Definition at line 115 of file Service\+Worker.\+h.



References acceptors\+\_\+, draining\+Acceptors\+\_\+, and named\+Address\+\_\+.


\begin{DoxyCode}
115                                 \{
116     acceptors_.clear();
117     namedAddress_.clear();
118     drainingAcceptors_.clear();
119   \}
\end{DoxyCode}
\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!clear\+Draining\+Acceptors@{clear\+Draining\+Acceptors}}
\index{clear\+Draining\+Acceptors@{clear\+Draining\+Acceptors}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{clear\+Draining\+Acceptors()}]{\setlength{\rightskip}{0pt plus 5cm}virtual void proxygen\+::\+Service\+Worker\+::clear\+Draining\+Acceptors (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\label{classproxygen_1_1ServiceWorker_aaea02188aa9ba33b0668be53228e436c}


Definition at line 121 of file Service\+Worker.\+h.



References draining\+Acceptors\+\_\+.


\begin{DoxyCode}
121                                         \{
122     drainingAcceptors_.clear();
123   \}
\end{DoxyCode}
\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!drain\+Service\+Acceptor@{drain\+Service\+Acceptor}}
\index{drain\+Service\+Acceptor@{drain\+Service\+Acceptor}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{drain\+Service\+Acceptor(const folly\+::\+Socket\+Address \&address)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Service\+Worker\+::drain\+Service\+Acceptor (
\begin{DoxyParamCaption}
\item[{const folly\+::\+Socket\+Address \&}]{address}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1ServiceWorker_a16a4156e3c6f1348fb64f7f7ea48d275}


Definition at line 68 of file Service\+Worker.\+h.



References proxygen\+::\+Acceptor\+Address\+::\+T\+CP.


\begin{DoxyCode}
68                                                                \{
69     drainServiceAcceptor(
70         AcceptorAddress(address, AcceptorAddress::AcceptorType::TCP));
71   \}
\end{DoxyCode}
\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!drain\+Service\+Acceptor@{drain\+Service\+Acceptor}}
\index{drain\+Service\+Acceptor@{drain\+Service\+Acceptor}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{drain\+Service\+Acceptor(const Acceptor\+Address \&acc\+Address)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Service\+Worker\+::drain\+Service\+Acceptor (
\begin{DoxyParamCaption}
\item[{const {\bf Acceptor\+Address} \&}]{acc\+Address}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1ServiceWorker_a13e802789b4fa4f2513d3442f1d780a6}


Definition at line 73 of file Service\+Worker.\+h.



References acceptors\+\_\+, add\+Acceptor(), draining\+Acceptors\+\_\+, name, and named\+Address\+\_\+.


\begin{DoxyCode}
73                                                                \{
74     \textcolor{comment}{// Move the old acceptor to drainingAcceptors\_ if present}
75     \textcolor{keyword}{const} \textcolor{keyword}{auto}& it = acceptors_.find(accAddress);
76     \textcolor{keywordflow}{if} (it != acceptors_.end()) \{
77       \textcolor{keyword}{auto} name = it->second->getName();
78       addAcceptor(accAddress, std::move(it->second), drainingAcceptors_);
79       acceptors_.erase(it);
80       namedAddress_.erase(name);
81     \}
82   \}
\end{DoxyCode}
\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!flush\+Stats@{flush\+Stats}}
\index{flush\+Stats@{flush\+Stats}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{flush\+Stats()}]{\setlength{\rightskip}{0pt plus 5cm}virtual void proxygen\+::\+Service\+Worker\+::flush\+Stats (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\label{classproxygen_1_1ServiceWorker_a052f1eacf929f853ca5479bb223c12be}


Definition at line 111 of file Service\+Worker.\+h.


\begin{DoxyCode}
111                             \{
112   \}
\end{DoxyCode}
\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!force\+Stop@{force\+Stop}}
\index{force\+Stop@{force\+Stop}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{force\+Stop()}]{\setlength{\rightskip}{0pt plus 5cm}virtual void proxygen\+::\+Service\+Worker\+::force\+Stop (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\label{classproxygen_1_1ServiceWorker_a4643644f9c5453503f6ff4bd0cf49ed3}


Definition at line 129 of file Service\+Worker.\+h.


\begin{DoxyCode}
129                            \{
130   \}
\end{DoxyCode}
\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!get\+Acceptor\+By\+Name@{get\+Acceptor\+By\+Name}}
\index{get\+Acceptor\+By\+Name@{get\+Acceptor\+By\+Name}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{get\+Acceptor\+By\+Name(std\+::string name) const }]{\setlength{\rightskip}{0pt plus 5cm}wangle\+::\+Acceptor$\ast$ proxygen\+::\+Service\+Worker\+::get\+Acceptor\+By\+Name (
\begin{DoxyParamCaption}
\item[{std\+::string}]{name}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1ServiceWorker_acb6f512a87d5d302875afe1df9d3a5d8}
Find an acceptor by name running in the same request worker. 

Definition at line 95 of file Service\+Worker.\+h.



References acceptors\+\_\+, and named\+Address\+\_\+.


\begin{DoxyCode}
95                                                           \{
96     \textcolor{keyword}{auto} it = namedAddress_.find(name);
97     \textcolor{keywordflow}{if} (it != namedAddress_.end()) \{
98       \textcolor{keyword}{auto} it2 = acceptors_.find(it->second);
99       \textcolor{keywordflow}{if} (it2 != acceptors_.end()) \{
100         \textcolor{keywordflow}{return} it2->second.get();
101       \}
102     \}
103     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};
104   \}
\end{DoxyCode}
\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!get\+Acceptors@{get\+Acceptors}}
\index{get\+Acceptors@{get\+Acceptors}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{get\+Acceptors()}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Acceptor\+Map}\& proxygen\+::\+Service\+Worker\+::get\+Acceptors (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1ServiceWorker_a2a35d0ccc8651d6f592424c74f31a407}


Definition at line 88 of file Service\+Worker.\+h.



References acceptors\+\_\+.


\begin{DoxyCode}
88                                     \{
89     \textcolor{keywordflow}{return} acceptors_;
90   \}
\end{DoxyCode}
\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!get\+Connection\+Counter@{get\+Connection\+Counter}}
\index{get\+Connection\+Counter@{get\+Connection\+Counter}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{get\+Connection\+Counter()}]{\setlength{\rightskip}{0pt plus 5cm}wangle\+::\+I\+Connection\+Counter$\ast$ proxygen\+::\+Service\+Worker\+::get\+Connection\+Counter (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1ServiceWorker_a75cc7b5bb5165f472793153684e9501b}


Definition at line 125 of file Service\+Worker.\+h.



References connection\+Counter\+\_\+.


\begin{DoxyCode}
125                                                    \{
126     \textcolor{keywordflow}{return} &connectionCounter_;
127   \}
\end{DoxyCode}
\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!get\+Draining\+Acceptors@{get\+Draining\+Acceptors}}
\index{get\+Draining\+Acceptors@{get\+Draining\+Acceptors}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{get\+Draining\+Acceptors()}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Acceptor\+Map}\& proxygen\+::\+Service\+Worker\+::get\+Draining\+Acceptors (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1ServiceWorker_a5c0af851fc519000032ec5fcc5c82585}


Definition at line 106 of file Service\+Worker.\+h.



References draining\+Acceptors\+\_\+.


\begin{DoxyCode}
106                                             \{
107     \textcolor{keywordflow}{return} drainingAcceptors_;
108   \}
\end{DoxyCode}
\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!get\+Request\+Worker@{get\+Request\+Worker}}
\index{get\+Request\+Worker@{get\+Request\+Worker}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{get\+Request\+Worker() const }]{\setlength{\rightskip}{0pt plus 5cm}{\bf Request\+Worker}$\ast$ proxygen\+::\+Service\+Worker\+::get\+Request\+Worker (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1ServiceWorker_af343b7bbd3be577c15b53cede3348aa8}


Definition at line 84 of file Service\+Worker.\+h.



References worker\+\_\+.


\begin{DoxyCode}
84                                           \{
85     \textcolor{keywordflow}{return} worker_;
86   \}
\end{DoxyCode}
\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!get\+Service@{get\+Service}}
\index{get\+Service@{get\+Service}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{get\+Service() const }]{\setlength{\rightskip}{0pt plus 5cm}{\bf Service}$\ast$ proxygen\+::\+Service\+Worker\+::get\+Service (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1ServiceWorker_a6554697840b25c8687e9ca4b9efeabaa}


Definition at line 51 of file Service\+Worker.\+h.



References service\+\_\+.


\begin{DoxyCode}
51                               \{
52     \textcolor{keywordflow}{return} service_;
53   \}
\end{DoxyCode}
\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!operator=@{operator=}}
\index{operator=@{operator=}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{operator=(\+Service\+Worker const \&)=delete}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Service\+Worker}\& proxygen\+::\+Service\+Worker\+::operator= (
\begin{DoxyParamCaption}
\item[{{\bf Service\+Worker} const \&}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [delete]}}\label{classproxygen_1_1ServiceWorker_afdd673ef59152a591ff48ad1b4b6d5f4}


\subsection{Member Data Documentation}
\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!acceptors\+\_\+@{acceptors\+\_\+}}
\index{acceptors\+\_\+@{acceptors\+\_\+}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{acceptors\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Acceptor\+Map} proxygen\+::\+Service\+Worker\+::acceptors\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1ServiceWorker_a0d8098d909362b5641b93d64a0bc696d}
A list of the Acceptor objects specific to this worker thread, one Acceptor per V\+IP. 

Definition at line 162 of file Service\+Worker.\+h.



Referenced by add\+Service\+Acceptor(), clear\+Acceptors(), drain\+Service\+Acceptor(), get\+Acceptor\+By\+Name(), and get\+Acceptors().

\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!connection\+Counter\+\_\+@{connection\+Counter\+\_\+}}
\index{connection\+Counter\+\_\+@{connection\+Counter\+\_\+}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{connection\+Counter\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}wangle\+::\+Simple\+Connection\+Counter proxygen\+::\+Service\+Worker\+::connection\+Counter\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}\label{classproxygen_1_1ServiceWorker_a0a292ef0c149cb5f5b7f9361827bfb38}


Definition at line 133 of file Service\+Worker.\+h.



Referenced by get\+Connection\+Counter().

\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!draining\+Acceptors\+\_\+@{draining\+Acceptors\+\_\+}}
\index{draining\+Acceptors\+\_\+@{draining\+Acceptors\+\_\+}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{draining\+Acceptors\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Acceptor\+Map} proxygen\+::\+Service\+Worker\+::draining\+Acceptors\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1ServiceWorker_aed0b69dfdf0b7eac1ccb70bd40efd6ab}
A list of Acceptors that are being drained and will be deleted soon. 

Definition at line 173 of file Service\+Worker.\+h.



Referenced by clear\+Acceptors(), clear\+Draining\+Acceptors(), drain\+Service\+Acceptor(), and get\+Draining\+Acceptors().

\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!named\+Address\+\_\+@{named\+Address\+\_\+}}
\index{named\+Address\+\_\+@{named\+Address\+\_\+}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{named\+Address\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Named\+Address\+Map} proxygen\+::\+Service\+Worker\+::named\+Address\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1ServiceWorker_abd1ab56c682ccd1d407ad9158da26fdf}
A list of the addresses indexed by name, used to look up an acceptor by name 

Definition at line 168 of file Service\+Worker.\+h.



Referenced by add\+Service\+Acceptor(), clear\+Acceptors(), drain\+Service\+Acceptor(), and get\+Acceptor\+By\+Name().

\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!service\+\_\+@{service\+\_\+}}
\index{service\+\_\+@{service\+\_\+}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{service\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Service}$\ast$ proxygen\+::\+Service\+Worker\+::service\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1ServiceWorker_a732dbb3f8ef16ba2c860eea789df5705}
The global \doxyref{Service}{p.}{classproxygen_1_1Service} object. 

Definition at line 150 of file Service\+Worker.\+h.



Referenced by get\+Service().

\index{proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}!worker\+\_\+@{worker\+\_\+}}
\index{worker\+\_\+@{worker\+\_\+}!proxygen\+::\+Service\+Worker@{proxygen\+::\+Service\+Worker}}
\subsubsection[{worker\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Request\+Worker}$\ast$ proxygen\+::\+Service\+Worker\+::worker\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1ServiceWorker_ad3a1e64b5fce9d62a539c348ea65bbed}
The \doxyref{Request\+Worker}{p.}{classproxygen_1_1RequestWorker} that is actually responsible for running the Event\+Base loop in this thread. 

Definition at line 156 of file Service\+Worker.\+h.



Referenced by get\+Request\+Worker().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
proxygen/lib/services/{\bf Service\+Worker.\+h}\end{DoxyCompactItemize}

\section{proxygen\+:\+:Codec\+Error\+Response\+Handler Class Reference}
\label{classproxygen_1_1CodecErrorResponseHandler}\index{proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}}


{\ttfamily \#include $<$Codec\+Error\+Response\+Handler.\+h$>$}

Inheritance diagram for proxygen\+:\+:Codec\+Error\+Response\+Handler\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classproxygen_1_1CodecErrorResponseHandler}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf Codec\+Error\+Response\+Handler} ({\bf Error\+Code} {\bf status\+Code})
\item 
void {\bf set\+Transaction} ({\bf H\+T\+T\+P\+Transaction} $\ast$txn) noexceptoverride
\item 
void {\bf detach\+Transaction} () noexceptoverride
\item 
void {\bf on\+Headers\+Complete} (std\+::unique\+\_\+ptr$<$ {\bf H\+T\+T\+P\+Message} $>$ msg) noexceptoverride
\item 
void {\bf on\+Body} (std\+::unique\+\_\+ptr$<$ folly\+::\+I\+O\+Buf $>$ chain) noexceptoverride
\item 
void {\bf on\+Trailers} (std\+::unique\+\_\+ptr$<$ {\bf H\+T\+T\+P\+Headers} $>$ trailers) noexceptoverride
\item 
void {\bf on\+E\+OM} () noexceptoverride
\item 
void {\bf on\+Upgrade} ({\bf Upgrade\+Protocol} protocol) noexceptoverride
\item 
void {\bf on\+Error} (const {\bf H\+T\+T\+P\+Exception} \&error) noexceptoverride
\item 
void {\bf on\+Egress\+Paused} () noexceptoverride
\item 
void {\bf on\+Egress\+Resumed} () noexceptoverride
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf $\sim$\+Codec\+Error\+Response\+Handler} () override
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
{\bf H\+T\+T\+P\+Transaction} $\ast$ {\bf txn\+\_\+}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 18 of file Codec\+Error\+Response\+Handler.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}!Codec\+Error\+Response\+Handler@{Codec\+Error\+Response\+Handler}}
\index{Codec\+Error\+Response\+Handler@{Codec\+Error\+Response\+Handler}!proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}}
\subsubsection[{Codec\+Error\+Response\+Handler(\+Error\+Code status\+Code)}]{\setlength{\rightskip}{0pt plus 5cm}proxygen\+::\+Codec\+Error\+Response\+Handler\+::\+Codec\+Error\+Response\+Handler (
\begin{DoxyParamCaption}
\item[{{\bf Error\+Code}}]{status\+Code}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [explicit]}}\label{classproxygen_1_1CodecErrorResponseHandler_a408606f53c689950306a1af013351527}


Definition at line 20 of file Codec\+Error\+Response\+Handler.\+cpp.


\begin{DoxyCode}
21     : txn_(\textcolor{keyword}{nullptr}) \{\}
\end{DoxyCode}
\index{proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}!````~Codec\+Error\+Response\+Handler@{$\sim$\+Codec\+Error\+Response\+Handler}}
\index{````~Codec\+Error\+Response\+Handler@{$\sim$\+Codec\+Error\+Response\+Handler}!proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}}
\subsubsection[{$\sim$\+Codec\+Error\+Response\+Handler() override}]{\setlength{\rightskip}{0pt plus 5cm}proxygen\+::\+Codec\+Error\+Response\+Handler\+::$\sim$\+Codec\+Error\+Response\+Handler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [private]}}\label{classproxygen_1_1CodecErrorResponseHandler_adad4e656ad69bf040bb2e5a1bafbb39d}


Definition at line 23 of file Codec\+Error\+Response\+Handler.\+cpp.



Referenced by on\+Egress\+Resumed().


\begin{DoxyCode}
23                                                       \{
24 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}!detach\+Transaction@{detach\+Transaction}}
\index{detach\+Transaction@{detach\+Transaction}!proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}}
\subsubsection[{detach\+Transaction() noexceptoverride}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Codec\+Error\+Response\+Handler\+::detach\+Transaction (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1CodecErrorResponseHandler_af9d9d69d23411943857745fa7e8a5bf7}
Called once after a transaction successfully completes. It will be called even if a read or write error happened earlier. This is a terminal callback, which means that the \doxyref{H\+T\+T\+P\+Transaction}{p.}{classproxygen_1_1HTTPTransaction} object that gives this call will be invalid after this function completes. 

Implements {\bf proxygen\+::\+H\+T\+T\+P\+Transaction\+Handler} \doxyref{}{p.}{classproxygen_1_1HTTPTransactionHandler_a67eb253d121a26772f4caa56847ed7cd}.



Definition at line 32 of file Codec\+Error\+Response\+Handler.\+cpp.


\begin{DoxyCode}
32                                                       \{
33   \textcolor{keyword}{delete} \textcolor{keyword}{this};
34 \}
\end{DoxyCode}
\index{proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}!on\+Body@{on\+Body}}
\index{on\+Body@{on\+Body}!proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}}
\subsubsection[{on\+Body(std\+::unique\+\_\+ptr$<$ folly\+::\+I\+O\+Buf $>$ chain) noexceptoverride}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Codec\+Error\+Response\+Handler\+::on\+Body (
\begin{DoxyParamCaption}
\item[{std\+::unique\+\_\+ptr$<$ folly\+::\+I\+O\+Buf $>$}]{chain}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1CodecErrorResponseHandler_a6954568eda49450938d616b74095d5da}
Can be called multiple times per transaction. If you had previously called pause\+Ingress(), this callback will be delayed until you call resume\+Ingress(). 

Implements {\bf proxygen\+::\+H\+T\+T\+P\+Transaction\+Handler} \doxyref{}{p.}{classproxygen_1_1HTTPTransactionHandler_a56a25d7fb8ac5ddf1ed5b16eaca3c5df}.



Definition at line 41 of file Codec\+Error\+Response\+Handler.\+cpp.


\begin{DoxyCode}
41                                                                    \{
42   VLOG(4) << \textcolor{stringliteral}{"discarding request body"};
43 \}
\end{DoxyCode}
\index{proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}!on\+Egress\+Paused@{on\+Egress\+Paused}}
\index{on\+Egress\+Paused@{on\+Egress\+Paused}!proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}}
\subsubsection[{on\+Egress\+Paused() noexceptoverride}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Codec\+Error\+Response\+Handler\+::on\+Egress\+Paused (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1CodecErrorResponseHandler_a11978d258bea9a4c3b66d00f51abb085}
If the remote side\textquotesingle{}s receive buffer fills up, this callback will be invoked so you can attempt to stop sending to the remote side. 

Implements {\bf proxygen\+::\+H\+T\+T\+P\+Transaction\+Handler} \doxyref{}{p.}{classproxygen_1_1HTTPTransactionHandler_a0a50acdb32cb51ecbf6a72730053a36b}.



Definition at line 33 of file Codec\+Error\+Response\+Handler.\+h.


\begin{DoxyCode}
33 \{\};
\end{DoxyCode}
\index{proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}!on\+Egress\+Resumed@{on\+Egress\+Resumed}}
\index{on\+Egress\+Resumed@{on\+Egress\+Resumed}!proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}}
\subsubsection[{on\+Egress\+Resumed() noexceptoverride}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Codec\+Error\+Response\+Handler\+::on\+Egress\+Resumed (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1CodecErrorResponseHandler_a14f5d408dd0540be026594f9ffc71258}
This callback lets you know that the remote side has resumed reading and you can now continue to send data. 

Implements {\bf proxygen\+::\+H\+T\+T\+P\+Transaction\+Handler} \doxyref{}{p.}{classproxygen_1_1HTTPTransactionHandler_a7715b02e413859c26426adbbde7e53d8}.



Definition at line 34 of file Codec\+Error\+Response\+Handler.\+h.



References $\sim$\+Codec\+Error\+Response\+Handler().


\begin{DoxyCode}
34 \{\};
\end{DoxyCode}
\index{proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}!on\+E\+OM@{on\+E\+OM}}
\index{on\+E\+OM@{on\+E\+OM}!proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}}
\subsubsection[{on\+E\+O\+M() noexceptoverride}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Codec\+Error\+Response\+Handler\+::on\+E\+OM (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1CodecErrorResponseHandler_a478113c15632fd80373ba1568d67ebea}
Can be called once per transaction. If you had previously called pause\+Ingress(), this callback will be delayed until you call resume\+Ingress(). After this callback is received, there will be no more normal ingress callbacks received (on\+Egress$\ast$() and \doxyref{on\+Error()}{p.}{classproxygen_1_1CodecErrorResponseHandler_a528f7a698e0c1651dc1138f8a5cce25b} may still be invoked). The Handler should consider ingress complete after receiving this message. This Transaction is still valid, and work may still occur on it until detach\+Transaction is called. 

Implements {\bf proxygen\+::\+H\+T\+T\+P\+Transaction\+Handler} \doxyref{}{p.}{classproxygen_1_1HTTPTransactionHandler_afdc4d4dec715841ba0c5bb5e58b1d53c}.



Definition at line 51 of file Codec\+Error\+Response\+Handler.\+cpp.


\begin{DoxyCode}
51                                           \{
52 \}
\end{DoxyCode}
\index{proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}!on\+Error@{on\+Error}}
\index{on\+Error@{on\+Error}!proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}}
\subsubsection[{on\+Error(const H\+T\+T\+P\+Exception \&error) noexceptoverride}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Codec\+Error\+Response\+Handler\+::on\+Error (
\begin{DoxyParamCaption}
\item[{const {\bf H\+T\+T\+P\+Exception} \&}]{error}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1CodecErrorResponseHandler_a528f7a698e0c1651dc1138f8a5cce25b}
Can be called at any time before \doxyref{detach\+Transaction()}{p.}{classproxygen_1_1CodecErrorResponseHandler_af9d9d69d23411943857745fa7e8a5bf7}. This callback implies that an error has occurred. To determine if ingress or egress is affected, check the direciont on the \doxyref{H\+T\+T\+P\+Exception}{p.}{classproxygen_1_1HTTPException}. If the direction is I\+N\+G\+R\+E\+SS, it M\+AY still be possible to send egress. 

Implements {\bf proxygen\+::\+H\+T\+T\+P\+Transaction\+Handler} \doxyref{}{p.}{classproxygen_1_1HTTPTransactionHandler_a585c21327eb30ab85ebdb84f663dab3b}.



Definition at line 57 of file Codec\+Error\+Response\+Handler.\+cpp.



References proxygen\+::\+H\+T\+T\+P\+Transaction\+::send\+Abort(), and txn\+\_\+.


\begin{DoxyCode}
57                                                                            \{
58   VLOG(4) << \textcolor{stringliteral}{"processing error "} << error;
59   txn_->sendAbort();
60 \}
\end{DoxyCode}
\index{proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}!on\+Headers\+Complete@{on\+Headers\+Complete}}
\index{on\+Headers\+Complete@{on\+Headers\+Complete}!proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}}
\subsubsection[{on\+Headers\+Complete(std\+::unique\+\_\+ptr$<$ H\+T\+T\+P\+Message $>$ msg) noexceptoverride}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Codec\+Error\+Response\+Handler\+::on\+Headers\+Complete (
\begin{DoxyParamCaption}
\item[{std\+::unique\+\_\+ptr$<$ {\bf H\+T\+T\+P\+Message} $>$}]{msg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1CodecErrorResponseHandler_a53f53233df1aa329d58c6e4c25792b21}
Called at most once per transaction. This is usually the first ingress callback. It is possible to get a read error before this however. If you had previously called pause\+Ingress(), this callback will be delayed until you call resume\+Ingress(). 

Implements {\bf proxygen\+::\+H\+T\+T\+P\+Transaction\+Handler} \doxyref{}{p.}{classproxygen_1_1HTTPTransactionHandler_a5e431cbb4c065285c5ad65acaceb0b22}.



Definition at line 36 of file Codec\+Error\+Response\+Handler.\+cpp.


\begin{DoxyCode}
37                                            \{
38   VLOG(4) << \textcolor{stringliteral}{"discarding headers"};
39 \}
\end{DoxyCode}
\index{proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}!on\+Trailers@{on\+Trailers}}
\index{on\+Trailers@{on\+Trailers}!proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}}
\subsubsection[{on\+Trailers(std\+::unique\+\_\+ptr$<$ H\+T\+T\+P\+Headers $>$ trailers) noexceptoverride}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Codec\+Error\+Response\+Handler\+::on\+Trailers (
\begin{DoxyParamCaption}
\item[{std\+::unique\+\_\+ptr$<$ {\bf H\+T\+T\+P\+Headers} $>$}]{trailers}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1CodecErrorResponseHandler_a0d1ffa7ca3489d9cb76a1f1015eb8d9f}
Can be called any number of times per transaction. If you had previously called pause\+Ingress(), this callback will be delayed until you call resume\+Ingress(). Trailers can be received once right before the E\+OM of a chunked H\+T\+T\+P/1.\+1 reponse or multiple times per transaction from S\+P\+DY and H\+T\+T\+P/2.\+0 H\+E\+A\+D\+E\+RS frames. 

Implements {\bf proxygen\+::\+H\+T\+T\+P\+Transaction\+Handler} \doxyref{}{p.}{classproxygen_1_1HTTPTransactionHandler_a219de67110f915deda30d18327f26393}.



Definition at line 45 of file Codec\+Error\+Response\+Handler.\+cpp.


\begin{DoxyCode}
46                                         \{
47   VLOG(4) << \textcolor{stringliteral}{"discarding request trailers"};
48 \}
\end{DoxyCode}
\index{proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}!on\+Upgrade@{on\+Upgrade}}
\index{on\+Upgrade@{on\+Upgrade}!proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}}
\subsubsection[{on\+Upgrade(\+Upgrade\+Protocol protocol) noexceptoverride}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Codec\+Error\+Response\+Handler\+::on\+Upgrade (
\begin{DoxyParamCaption}
\item[{{\bf Upgrade\+Protocol}}]{protocol}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1CodecErrorResponseHandler_a85661a89d97edc0e729ab79a48dfd7e1}
Can be called once per transaction. If you had previously called pause\+Ingress(), this callback will be delayed until you call resume\+Ingress(). After this callback is invoked, further data will be forwarded using the \doxyref{on\+Body()}{p.}{classproxygen_1_1CodecErrorResponseHandler_a6954568eda49450938d616b74095d5da} callback. Once the data transfer is completed (E\+OF recevied in case of C\+O\+N\+N\+E\+CT), \doxyref{on\+E\+O\+M()}{p.}{classproxygen_1_1CodecErrorResponseHandler_a478113c15632fd80373ba1568d67ebea} callback will be invoked. 

Implements {\bf proxygen\+::\+H\+T\+T\+P\+Transaction\+Handler} \doxyref{}{p.}{classproxygen_1_1HTTPTransactionHandler_acda954bf78c4d2aad951698e78c40a0f}.



Definition at line 54 of file Codec\+Error\+Response\+Handler.\+cpp.


\begin{DoxyCode}
55                                 \{\}
\end{DoxyCode}
\index{proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}!set\+Transaction@{set\+Transaction}}
\index{set\+Transaction@{set\+Transaction}!proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}}
\subsubsection[{set\+Transaction(\+H\+T\+T\+P\+Transaction $\ast$txn) noexceptoverride}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Codec\+Error\+Response\+Handler\+::set\+Transaction (
\begin{DoxyParamCaption}
\item[{{\bf H\+T\+T\+P\+Transaction} $\ast$}]{txn}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1CodecErrorResponseHandler_aef0fd13f2c1b669bf81502ea0a10e5c3}
Called once per transaction. This notifies the handler of which transaction it should talk to and will receive callbacks from. 

Implements {\bf proxygen\+::\+H\+T\+T\+P\+Transaction\+Handler} \doxyref{}{p.}{classproxygen_1_1HTTPTransactionHandler_a4eb50d5627d26f6ca0d8e8283259d8a4}.



Definition at line 27 of file Codec\+Error\+Response\+Handler.\+cpp.



References txn\+\_\+.


\begin{DoxyCode}
27                                                                        \{
28   txn_ = txn;
29 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}!txn\+\_\+@{txn\+\_\+}}
\index{txn\+\_\+@{txn\+\_\+}!proxygen\+::\+Codec\+Error\+Response\+Handler@{proxygen\+::\+Codec\+Error\+Response\+Handler}}
\subsubsection[{txn\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}{\bf H\+T\+T\+P\+Transaction}$\ast$ proxygen\+::\+Codec\+Error\+Response\+Handler\+::txn\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1CodecErrorResponseHandler_accc9a7b16388971897c9d6a52806bae7}


Definition at line 39 of file Codec\+Error\+Response\+Handler.\+h.



Referenced by on\+Error(), and set\+Transaction().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
proxygen/lib/http/session/{\bf Codec\+Error\+Response\+Handler.\+h}\item 
proxygen/lib/http/session/{\bf Codec\+Error\+Response\+Handler.\+cpp}\end{DoxyCompactItemize}

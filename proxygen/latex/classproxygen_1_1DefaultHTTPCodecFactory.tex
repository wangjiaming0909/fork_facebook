\section{proxygen\+:\+:Default\+H\+T\+T\+P\+Codec\+Factory Class Reference}
\label{classproxygen_1_1DefaultHTTPCodecFactory}\index{proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory@{proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory}}


{\ttfamily \#include $<$Default\+H\+T\+T\+P\+Codec\+Factory.\+h$>$}

Inheritance diagram for proxygen\+:\+:Default\+H\+T\+T\+P\+Codec\+Factory\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classproxygen_1_1DefaultHTTPCodecFactory}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf Default\+H\+T\+T\+P\+Codec\+Factory} (bool force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1)
\item 
{\bf $\sim$\+Default\+H\+T\+T\+P\+Codec\+Factory} () override=default
\item 
std\+::unique\+\_\+ptr$<$ {\bf H\+T\+T\+P\+Codec} $>$ {\bf get\+Codec} (const std\+::string \&next\+Protocol, {\bf Transport\+Direction} direction, bool is\+T\+LS) override
\item 
void {\bf set\+Force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1} (bool force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
bool {\bf force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1\+\_\+} \{false\}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}


Definition at line 15 of file Default\+H\+T\+T\+P\+Codec\+Factory.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory@{proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory}!Default\+H\+T\+T\+P\+Codec\+Factory@{Default\+H\+T\+T\+P\+Codec\+Factory}}
\index{Default\+H\+T\+T\+P\+Codec\+Factory@{Default\+H\+T\+T\+P\+Codec\+Factory}!proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory@{proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory}}
\subsubsection[{Default\+H\+T\+T\+P\+Codec\+Factory(bool force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1)}]{\setlength{\rightskip}{0pt plus 5cm}proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory\+::\+Default\+H\+T\+T\+P\+Codec\+Factory (
\begin{DoxyParamCaption}
\item[{bool}]{force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [explicit]}}\label{classproxygen_1_1DefaultHTTPCodecFactory_a6aec151abe51ff173ff66c4a971e7bbd}


Definition at line 19 of file Default\+H\+T\+T\+P\+Codec\+Factory.\+cpp.


\begin{DoxyCode}
21     : forceHTTP1xCodecTo1_1_(forceHTTP1xCodecTo1\_1) \{
22 \}
\end{DoxyCode}
\index{proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory@{proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory}!````~Default\+H\+T\+T\+P\+Codec\+Factory@{$\sim$\+Default\+H\+T\+T\+P\+Codec\+Factory}}
\index{````~Default\+H\+T\+T\+P\+Codec\+Factory@{$\sim$\+Default\+H\+T\+T\+P\+Codec\+Factory}!proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory@{proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory}}
\subsubsection[{$\sim$\+Default\+H\+T\+T\+P\+Codec\+Factory() override=default}]{\setlength{\rightskip}{0pt plus 5cm}proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory\+::$\sim$\+Default\+H\+T\+T\+P\+Codec\+Factory (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [default]}}\label{classproxygen_1_1DefaultHTTPCodecFactory_aba86335aea44dd00fb5778372029791c}


\subsection{Member Function Documentation}
\index{proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory@{proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory}!get\+Codec@{get\+Codec}}
\index{get\+Codec@{get\+Codec}!proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory@{proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory}}
\subsubsection[{get\+Codec(const std\+::string \&next\+Protocol, Transport\+Direction direction, bool is\+T\+L\+S) override}]{\setlength{\rightskip}{0pt plus 5cm}std\+::unique\+\_\+ptr$<$ {\bf H\+T\+T\+P\+Codec} $>$ proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory\+::get\+Codec (
\begin{DoxyParamCaption}
\item[{const std\+::string \&}]{next\+Protocol, }
\item[{{\bf Transport\+Direction}}]{direction, }
\item[{bool}]{is\+T\+LS}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\label{classproxygen_1_1DefaultHTTPCodecFactory_ad87f587d94ea757a1db0e3863bf8b643}
Get a codec instance 

Implements {\bf proxygen\+::\+H\+T\+T\+P\+Codec\+Factory} \doxyref{}{p.}{classproxygen_1_1HTTPCodecFactory_ab0d8d25513603c7d4bd0d7036ab78066}.



Definition at line 24 of file Default\+H\+T\+T\+P\+Codec\+Factory.\+cpp.



References proxygen\+::\+E\+R\+R\+OR, force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1\+\_\+, proxygen\+::\+S\+P\+D\+Y\+Codec\+::get\+Version(), proxygen\+::http2\+::k\+Protocol\+Cleartext\+String, proxygen\+::http2\+::k\+Protocol\+Draft\+String, proxygen\+::http2\+::k\+Protocol\+Experimental\+String, proxygen\+::http2\+::k\+Protocol\+String, and proxygen\+::\+H\+T\+T\+P1x\+Codec\+::supports\+Next\+Protocol().



Referenced by T\+E\+S\+T().


\begin{DoxyCode}
27             \{
28 
29     \textcolor{keyword}{auto} spdyVersion = SPDYCodec::getVersion(chosenProto);
30     \textcolor{keywordflow}{if} (spdyVersion) \{
31       \textcolor{keywordflow}{return} std::make\_unique<SPDYCodec>(direction,
32                                            *spdyVersion);
33     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (chosenProto == proxygen::http2::kProtocolString ||
34                chosenProto == proxygen::http2::kProtocolCleartextString ||
35                chosenProto == proxygen::http2::kProtocolDraftString ||
36                chosenProto == proxygen::http2::kProtocolExperimentalString) \{
37       \textcolor{keywordflow}{return} std::make\_unique<HTTP2Codec>(direction);
38     \} \textcolor{keywordflow}{else} \{
39       \textcolor{keywordflow}{if} (!chosenProto.empty() &&
40           !HTTP1xCodec::supportsNextProtocol(chosenProto)) \{
41         LOG(ERROR) << \textcolor{stringliteral}{"Chosen upstream protocol "} <<
42           \textcolor{stringliteral}{"\(\backslash\)""} << chosenProto << \textcolor{stringliteral}{"\(\backslash\)" is unimplemented. "} <<
43           \textcolor{stringliteral}{"Attempting to use HTTP/1.1"};
44       \}
45 
46       \textcolor{keywordflow}{return} std::make\_unique<HTTP1xCodec>(direction,
47                                              forceHTTP1xCodecTo1_1_);
48     \}
49 \}
\end{DoxyCode}
\index{proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory@{proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory}!set\+Force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1@{set\+Force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1}}
\index{set\+Force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1@{set\+Force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1}!proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory@{proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory}}
\subsubsection[{set\+Force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1(bool force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory\+::set\+Force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1 (
\begin{DoxyParamCaption}
\item[{bool}]{force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1DefaultHTTPCodecFactory_a6687c037bff66a077fe05555a5edc2a5}


Definition at line 27 of file Default\+H\+T\+T\+P\+Codec\+Factory.\+h.



References force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1\+\_\+.


\begin{DoxyCode}
27                                                             \{
28     forceHTTP1xCodecTo1_1_ = forceHTTP1xCodecTo1\_1;
29   \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory@{proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory}!force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1\+\_\+@{force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1\+\_\+}}
\index{force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1\+\_\+@{force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1\+\_\+}!proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory@{proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory}}
\subsubsection[{force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}bool proxygen\+::\+Default\+H\+T\+T\+P\+Codec\+Factory\+::force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1\+\_\+ \{false\}\hspace{0.3cm}{\ttfamily [protected]}}\label{classproxygen_1_1DefaultHTTPCodecFactory_a9d307f887cc96b95f0c0270984316388}


Definition at line 31 of file Default\+H\+T\+T\+P\+Codec\+Factory.\+h.



Referenced by get\+Codec(), and set\+Force\+H\+T\+T\+P1x\+Codec\+To1\+\_\+1().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
proxygen/lib/http/codec/{\bf Default\+H\+T\+T\+P\+Codec\+Factory.\+h}\item 
proxygen/lib/http/codec/{\bf Default\+H\+T\+T\+P\+Codec\+Factory.\+cpp}\end{DoxyCompactItemize}

\section{proxygen/lib/http/codec/compress/test/\+Header\+Piece\+Tests.cpp File Reference}
\label{HeaderPieceTests_8cpp}\index{proxygen/lib/http/codec/compress/test/\+Header\+Piece\+Tests.\+cpp@{proxygen/lib/http/codec/compress/test/\+Header\+Piece\+Tests.\+cpp}}
{\ttfamily \#include $<$glog/logging.\+h$>$}\\*
{\ttfamily \#include $<$folly/portability/\+G\+Test.\+h$>$}\\*
{\ttfamily \#include $<$proxygen/lib/http/codec/compress/\+Header\+Piece.\+h$>$}\\*
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class {\bf Header\+Piece\+Tests}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
{\bf T\+E\+S\+T\+\_\+F} ({\bf Header\+Piece\+Tests}, Basic)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{Header\+Piece\+Tests.\+cpp@{Header\+Piece\+Tests.\+cpp}!T\+E\+S\+T\+\_\+F@{T\+E\+S\+T\+\_\+F}}
\index{T\+E\+S\+T\+\_\+F@{T\+E\+S\+T\+\_\+F}!Header\+Piece\+Tests.\+cpp@{Header\+Piece\+Tests.\+cpp}}
\subsubsection[{T\+E\+S\+T\+\_\+\+F(\+Header\+Piece\+Tests, Basic)}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+S\+T\+\_\+F (
\begin{DoxyParamCaption}
\item[{{\bf Header\+Piece\+Tests}}]{, }
\item[{Basic}]{}
\end{DoxyParamCaption}
)}\label{HeaderPieceTests_8cpp_a69d4f0b0e17d9380b82caf0ee1d33290}


Definition at line 19 of file Header\+Piece\+Tests.\+cpp.



References proxygen\+::compress\+::\+Header\+Piece\+::is\+Multi\+Valued().


\begin{DoxyCode}
19                                 \{
20   HeaderPiece *hp;
21 
22   \textcolor{comment}{// creating non-owner piece with null pointer}
23   hp = \textcolor{keyword}{new} HeaderPiece(\textcolor{keyword}{nullptr}, 0, \textcolor{keyword}{false}, \textcolor{keyword}{true});
24   EXPECT\_TRUE(hp->isMultiValued());
25   \textcolor{comment}{// destructing this should be fine, since will not try to release the memory}
26   \textcolor{keyword}{delete} hp;
27 
28   \textcolor{keywordtype}{char} *buf = \textcolor{keyword}{new} \textcolor{keywordtype}{char}[16];
29   hp = \textcolor{keyword}{new} HeaderPiece(buf, 16, \textcolor{keyword}{true}, \textcolor{keyword}{true});
30   EXPECT\_EQ(hp->str.data(), buf);
31   EXPECT\_EQ(hp->str.size(), 16);
32   \textcolor{comment}{// this should release the mem}
33   \textcolor{keyword}{delete} hp;
34 \}
\end{DoxyCode}

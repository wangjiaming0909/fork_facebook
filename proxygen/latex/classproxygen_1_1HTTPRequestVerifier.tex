\section{proxygen\+:\+:H\+T\+T\+P\+Request\+Verifier Class Reference}
\label{classproxygen_1_1HTTPRequestVerifier}\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}


{\ttfamily \#include $<$H\+T\+T\+P\+Request\+Verifier.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf H\+T\+T\+P\+Request\+Verifier} ()
\item 
void {\bf reset} ({\bf H\+T\+T\+P\+Message} $\ast$msg)
\item 
bool {\bf set\+Method} (folly\+::\+String\+Piece method)
\item 
bool {\bf set\+Path} (folly\+::\+String\+Piece path)
\item 
bool {\bf set\+Scheme} (folly\+::\+String\+Piece scheme)
\item 
bool {\bf set\+Authority} (folly\+::\+String\+Piece authority)
\item 
bool {\bf set\+Upgrade\+Protocol} (folly\+::\+String\+Piece protocol)
\item 
bool {\bf validate} ()
\item 
void {\bf set\+Message} ({\bf H\+T\+T\+P\+Message} $\ast$msg)
\item 
void {\bf set\+Has\+Method} (bool has\+Method)
\item 
void {\bf set\+Has\+Path} (bool has\+Path)
\item 
void {\bf set\+Has\+Scheme} (bool has\+Scheme)
\item 
void {\bf set\+Has\+Authority} (bool has\+Authority)
\item 
void {\bf set\+Has\+Upgrade\+Protocol} (bool val)
\item 
bool {\bf has\+Upgrade\+Protocol} ()
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::string {\bf error}
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
{\bf H\+T\+T\+P\+Message} $\ast$ {\bf msg\+\_\+} \{{\bf nullptr}\}
\item 
bool {\bf has\+Method\+\_\+} \{false\}
\item 
bool {\bf has\+Path\+\_\+} \{false\}
\item 
bool {\bf has\+Scheme\+\_\+} \{false\}
\item 
bool {\bf has\+Authority\+\_\+} \{false\}
\item 
bool {\bf has\+Upgrade\+Protocol\+\_\+} \{false\}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 18 of file H\+T\+T\+P\+Request\+Verifier.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}!H\+T\+T\+P\+Request\+Verifier@{H\+T\+T\+P\+Request\+Verifier}}
\index{H\+T\+T\+P\+Request\+Verifier@{H\+T\+T\+P\+Request\+Verifier}!proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}
\subsubsection[{H\+T\+T\+P\+Request\+Verifier()}]{\setlength{\rightskip}{0pt plus 5cm}proxygen\+::\+H\+T\+T\+P\+Request\+Verifier\+::\+H\+T\+T\+P\+Request\+Verifier (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}\label{classproxygen_1_1HTTPRequestVerifier_a79df986b906e353dc5648c4c48fe03a2}


Definition at line 20 of file H\+T\+T\+P\+Request\+Verifier.\+h.


\begin{DoxyCode}
20 \{\}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}!has\+Upgrade\+Protocol@{has\+Upgrade\+Protocol}}
\index{has\+Upgrade\+Protocol@{has\+Upgrade\+Protocol}!proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}
\subsubsection[{has\+Upgrade\+Protocol()}]{\setlength{\rightskip}{0pt plus 5cm}bool proxygen\+::\+H\+T\+T\+P\+Request\+Verifier\+::has\+Upgrade\+Protocol (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HTTPRequestVerifier_a1fdcb132f19d470d520e18f1ec7094e2}


Definition at line 150 of file H\+T\+T\+P\+Request\+Verifier.\+h.



References has\+Upgrade\+Protocol\+\_\+.



Referenced by proxygen\+::\+H\+T\+T\+P2\+Codec\+::on\+Headers\+Complete().


\begin{DoxyCode}
150                             \{
151     \textcolor{keywordflow}{return} hasUpgradeProtocol_;
152   \}
\end{DoxyCode}
\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}!reset@{reset}}
\index{reset@{reset}!proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}
\subsubsection[{reset(\+H\+T\+T\+P\+Message $\ast$msg)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+H\+T\+T\+P\+Request\+Verifier\+::reset (
\begin{DoxyParamCaption}
\item[{{\bf H\+T\+T\+P\+Message} $\ast$}]{msg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HTTPRequestVerifier_ac9e060a16e21e9f10671f6829a1d8103}


Definition at line 22 of file H\+T\+T\+P\+Request\+Verifier.\+h.



References error, has\+Authority\+\_\+, has\+Method\+\_\+, has\+Path\+\_\+, has\+Scheme\+\_\+, has\+Upgrade\+Protocol\+\_\+, and msg\+\_\+.



Referenced by proxygen\+::\+Header\+Decode\+Info\+::init().


\begin{DoxyCode}
22                                \{
23     msg_ = msg;
24     error = \textcolor{stringliteral}{""};
25     hasMethod_ = \textcolor{keyword}{false};
26     hasPath_ = \textcolor{keyword}{false};
27     hasScheme_ = \textcolor{keyword}{false};
28     hasAuthority_ = \textcolor{keyword}{false};
29     hasUpgradeProtocol_ = \textcolor{keyword}{false};
30   \}
\end{DoxyCode}
\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}!set\+Authority@{set\+Authority}}
\index{set\+Authority@{set\+Authority}!proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}
\subsubsection[{set\+Authority(folly\+::\+String\+Piece authority)}]{\setlength{\rightskip}{0pt plus 5cm}bool proxygen\+::\+H\+T\+T\+P\+Request\+Verifier\+::set\+Authority (
\begin{DoxyParamCaption}
\item[{folly\+::\+String\+Piece}]{authority}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HTTPRequestVerifier_aa44829ce939ccb3394457ad6c52618cb}


Definition at line 81 of file H\+T\+T\+P\+Request\+Verifier.\+h.



References proxygen\+::\+H\+T\+T\+P\+Headers\+::add(), error, proxygen\+::\+H\+T\+T\+P\+Message\+::get\+Headers(), has\+Authority\+\_\+, msg\+\_\+, proxygen\+::\+Codec\+Util\+::\+S\+T\+R\+I\+CT, and proxygen\+::\+Codec\+Util\+::validate\+Header\+Value().



Referenced by proxygen\+::\+Header\+Decode\+Info\+::on\+Header().


\begin{DoxyCode}
81                                                 \{
82     \textcolor{keywordflow}{if} (hasAuthority_) \{
83       error = \textcolor{stringliteral}{"Duplicate authority"};
84       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
85     \}
86     \textcolor{keywordflow}{if} (!CodecUtil::validateHeaderValue(authority, CodecUtil::STRICT)) \{
87       error = \textcolor{stringliteral}{"Invalid authority"};
88       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
89     \}
90     hasAuthority_ = \textcolor{keyword}{true};
91     assert(msg_ != \textcolor{keyword}{nullptr});
92     msg_->getHeaders().add(HTTP\_HEADER\_HOST, authority.str());
93     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
94   \}
\end{DoxyCode}
\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}!set\+Has\+Authority@{set\+Has\+Authority}}
\index{set\+Has\+Authority@{set\+Has\+Authority}!proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}
\subsubsection[{set\+Has\+Authority(bool has\+Authority)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+H\+T\+T\+P\+Request\+Verifier\+::set\+Has\+Authority (
\begin{DoxyParamCaption}
\item[{bool}]{has\+Authority}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HTTPRequestVerifier_a92878c3958025c1aca44bd7cc15f1da2}


Definition at line 142 of file H\+T\+T\+P\+Request\+Verifier.\+h.



References has\+Authority\+\_\+.


\begin{DoxyCode}
142                                           \{
143     hasAuthority_ = hasAuthority;
144   \}
\end{DoxyCode}
\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}!set\+Has\+Method@{set\+Has\+Method}}
\index{set\+Has\+Method@{set\+Has\+Method}!proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}
\subsubsection[{set\+Has\+Method(bool has\+Method)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+H\+T\+T\+P\+Request\+Verifier\+::set\+Has\+Method (
\begin{DoxyParamCaption}
\item[{bool}]{has\+Method}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HTTPRequestVerifier_adb4fd21a8c9148f465c74e82b7498939}


Definition at line 130 of file H\+T\+T\+P\+Request\+Verifier.\+h.



References has\+Method\+\_\+.


\begin{DoxyCode}
130                                     \{
131     hasMethod_ = hasMethod;
132   \}
\end{DoxyCode}
\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}!set\+Has\+Path@{set\+Has\+Path}}
\index{set\+Has\+Path@{set\+Has\+Path}!proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}
\subsubsection[{set\+Has\+Path(bool has\+Path)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+H\+T\+T\+P\+Request\+Verifier\+::set\+Has\+Path (
\begin{DoxyParamCaption}
\item[{bool}]{has\+Path}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HTTPRequestVerifier_a0a64f4843e8a412b056c43bbc5a00b21}


Definition at line 134 of file H\+T\+T\+P\+Request\+Verifier.\+h.



References has\+Path\+\_\+.


\begin{DoxyCode}
134                                 \{
135     hasPath_ = hasPath;
136   \}
\end{DoxyCode}
\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}!set\+Has\+Scheme@{set\+Has\+Scheme}}
\index{set\+Has\+Scheme@{set\+Has\+Scheme}!proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}
\subsubsection[{set\+Has\+Scheme(bool has\+Scheme)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+H\+T\+T\+P\+Request\+Verifier\+::set\+Has\+Scheme (
\begin{DoxyParamCaption}
\item[{bool}]{has\+Scheme}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HTTPRequestVerifier_aaed152c9816632c07f7e6b75a9af0127}


Definition at line 138 of file H\+T\+T\+P\+Request\+Verifier.\+h.



References has\+Scheme\+\_\+.


\begin{DoxyCode}
138                                     \{
139     hasScheme_ = hasScheme;
140   \}
\end{DoxyCode}
\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}!set\+Has\+Upgrade\+Protocol@{set\+Has\+Upgrade\+Protocol}}
\index{set\+Has\+Upgrade\+Protocol@{set\+Has\+Upgrade\+Protocol}!proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}
\subsubsection[{set\+Has\+Upgrade\+Protocol(bool val)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+H\+T\+T\+P\+Request\+Verifier\+::set\+Has\+Upgrade\+Protocol (
\begin{DoxyParamCaption}
\item[{bool}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HTTPRequestVerifier_a3cf321486b07dd28e686eb8465fed10d}


Definition at line 146 of file H\+T\+T\+P\+Request\+Verifier.\+h.



References has\+Upgrade\+Protocol\+\_\+.



Referenced by set\+Upgrade\+Protocol().


\begin{DoxyCode}
146                                        \{
147     hasUpgradeProtocol_ = val;
148   \}
\end{DoxyCode}
\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}!set\+Message@{set\+Message}}
\index{set\+Message@{set\+Message}!proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}
\subsubsection[{set\+Message(\+H\+T\+T\+P\+Message $\ast$msg)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+H\+T\+T\+P\+Request\+Verifier\+::set\+Message (
\begin{DoxyParamCaption}
\item[{{\bf H\+T\+T\+P\+Message} $\ast$}]{msg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HTTPRequestVerifier_a33d728c8c33ec91e4bb478aa2220a7d2}


Definition at line 126 of file H\+T\+T\+P\+Request\+Verifier.\+h.



References msg\+\_\+.


\begin{DoxyCode}
126                                     \{
127     msg_ = msg;
128   \}
\end{DoxyCode}
\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}!set\+Method@{set\+Method}}
\index{set\+Method@{set\+Method}!proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}
\subsubsection[{set\+Method(folly\+::\+String\+Piece method)}]{\setlength{\rightskip}{0pt plus 5cm}bool proxygen\+::\+H\+T\+T\+P\+Request\+Verifier\+::set\+Method (
\begin{DoxyParamCaption}
\item[{folly\+::\+String\+Piece}]{method}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HTTPRequestVerifier_a82982848946b941052a31d64ae8a2853}


Definition at line 32 of file H\+T\+T\+P\+Request\+Verifier.\+h.



References error, has\+Method\+\_\+, msg\+\_\+, proxygen\+::\+H\+T\+T\+P\+Message\+::set\+Method(), and proxygen\+::\+Codec\+Util\+::validate\+Method().



Referenced by proxygen\+::\+Header\+Decode\+Info\+::on\+Header().


\begin{DoxyCode}
32                                           \{
33     \textcolor{keywordflow}{if} (hasMethod_) \{
34       error = \textcolor{stringliteral}{"Duplicate method"};
35       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
36     \}
37     \textcolor{keywordflow}{if} (!CodecUtil::validateMethod(method)) \{
38       error = \textcolor{stringliteral}{"Invalid method"};
39       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
40     \}
41     hasMethod_ = \textcolor{keyword}{true};
42     assert(msg_ != \textcolor{keyword}{nullptr});
43     msg_->setMethod(method);
44     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
45   \}
\end{DoxyCode}
\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}!set\+Path@{set\+Path}}
\index{set\+Path@{set\+Path}!proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}
\subsubsection[{set\+Path(folly\+::\+String\+Piece path)}]{\setlength{\rightskip}{0pt plus 5cm}bool proxygen\+::\+H\+T\+T\+P\+Request\+Verifier\+::set\+Path (
\begin{DoxyParamCaption}
\item[{folly\+::\+String\+Piece}]{path}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HTTPRequestVerifier_a308f74a79be60de4b5bd4ae288e7841a}


Definition at line 47 of file H\+T\+T\+P\+Request\+Verifier.\+h.



References error, has\+Path\+\_\+, msg\+\_\+, proxygen\+::\+H\+T\+T\+P\+Message\+::set\+U\+R\+L(), and proxygen\+::\+Codec\+Util\+::validate\+U\+R\+L().



Referenced by proxygen\+::\+Header\+Decode\+Info\+::on\+Header().


\begin{DoxyCode}
47                                       \{
48     \textcolor{keywordflow}{if} (hasPath_) \{
49       error = \textcolor{stringliteral}{"Duplicate path"};
50       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
51     \}
52     \textcolor{keywordflow}{if} (!CodecUtil::validateURL(path)) \{
53       error = \textcolor{stringliteral}{"Invalid url"};
54       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
55     \}
56     hasPath_ = \textcolor{keyword}{true};
57     assert(msg_ != \textcolor{keyword}{nullptr});
58     msg_->setURL(path.str());
59     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
60   \}
\end{DoxyCode}
\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}!set\+Scheme@{set\+Scheme}}
\index{set\+Scheme@{set\+Scheme}!proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}
\subsubsection[{set\+Scheme(folly\+::\+String\+Piece scheme)}]{\setlength{\rightskip}{0pt plus 5cm}bool proxygen\+::\+H\+T\+T\+P\+Request\+Verifier\+::set\+Scheme (
\begin{DoxyParamCaption}
\item[{folly\+::\+String\+Piece}]{scheme}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HTTPRequestVerifier_a8c8702ef76f970bc9806f47ac68c51d4}


Definition at line 62 of file H\+T\+T\+P\+Request\+Verifier.\+h.



References error, has\+Scheme\+\_\+, proxygen\+::headers\+::k\+Https, msg\+\_\+, proxygen\+::\+H\+T\+T\+P\+Message\+::set\+Secure(), and proxygen\+::\+Codec\+Util\+::validate\+Method().



Referenced by proxygen\+::\+Header\+Decode\+Info\+::on\+Header().


\begin{DoxyCode}
62                                           \{
63     \textcolor{keywordflow}{if} (hasScheme_) \{
64       error = \textcolor{stringliteral}{"Duplicate scheme"};
65       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
66     \}
67     \textcolor{comment}{// This just checks for alpha chars}
68     \textcolor{keywordflow}{if} (!CodecUtil::validateMethod(scheme)) \{
69       error = \textcolor{stringliteral}{"Invalid scheme"};
70       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
71     \}
72     hasScheme_ = \textcolor{keyword}{true};
73     \textcolor{comment}{// TODO support non http/https schemes}
74     \textcolor{keywordflow}{if} (scheme == headers::kHttps) \{
75       assert(msg_ != \textcolor{keyword}{nullptr});
76       msg_->setSecure(\textcolor{keyword}{true});
77     \}
78     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
79   \}
\end{DoxyCode}
\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}!set\+Upgrade\+Protocol@{set\+Upgrade\+Protocol}}
\index{set\+Upgrade\+Protocol@{set\+Upgrade\+Protocol}!proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}
\subsubsection[{set\+Upgrade\+Protocol(folly\+::\+String\+Piece protocol)}]{\setlength{\rightskip}{0pt plus 5cm}bool proxygen\+::\+H\+T\+T\+P\+Request\+Verifier\+::set\+Upgrade\+Protocol (
\begin{DoxyParamCaption}
\item[{folly\+::\+String\+Piece}]{protocol}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HTTPRequestVerifier_a40eae6996ab3f5e61175ff46829d23f4}


Definition at line 96 of file H\+T\+T\+P\+Request\+Verifier.\+h.



References error, has\+Upgrade\+Protocol\+\_\+, msg\+\_\+, set\+Has\+Upgrade\+Protocol(), and proxygen\+::\+H\+T\+T\+P\+Message\+::set\+Upgrade\+Protocol().



Referenced by proxygen\+::\+Header\+Decode\+Info\+::on\+Header().


\begin{DoxyCode}
96                                                      \{
97     \textcolor{keywordflow}{if} (hasUpgradeProtocol_) \{
98       error = \textcolor{stringliteral}{"Duplicate protocol"};
99       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
100     \}
101     setHasUpgradeProtocol(\textcolor{keyword}{true});
102     msg_->setUpgradeProtocol(folly::to<std::string>(protocol));
103     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
104   \}
\end{DoxyCode}
\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}!validate@{validate}}
\index{validate@{validate}!proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}
\subsubsection[{validate()}]{\setlength{\rightskip}{0pt plus 5cm}bool proxygen\+::\+H\+T\+T\+P\+Request\+Verifier\+::validate (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HTTPRequestVerifier_aeeaa436b10df633b1f70c1e04b9d52e5}


Definition at line 106 of file H\+T\+T\+P\+Request\+Verifier.\+h.



References proxygen\+::\+C\+O\+N\+N\+E\+CT, error, proxygen\+::\+H\+T\+T\+P\+Message\+::get\+Method(), has\+Authority\+\_\+, has\+Method\+\_\+, has\+Path\+\_\+, has\+Scheme\+\_\+, has\+Upgrade\+Protocol\+\_\+, and msg\+\_\+.



Referenced by proxygen\+::\+Header\+Decode\+Info\+::on\+Headers\+Complete().


\begin{DoxyCode}
106                   \{
107     \textcolor{keywordflow}{if} (error.size()) \{
108       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
109     \}
110     \textcolor{keywordflow}{if} (msg_->getMethod() == HTTPMethod::CONNECT) \{
111       \textcolor{keywordflow}{if} ((!hasUpgradeProtocol_ &&
112            (!hasMethod_ || !hasAuthority_ || hasScheme_ || hasPath_)) ||
113           (hasUpgradeProtocol_ && (!hasScheme_ || !hasPath_))) \{
114         error = folly::to<std::string>(\textcolor{stringliteral}{"Malformed CONNECT request m/a/s/pa/pr="},
115                                 hasMethod_, hasAuthority_,
116                                 hasScheme_, hasPath_, hasUpgradeProtocol_);
117       \}
118     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hasUpgradeProtocol_ || !hasMethod_ || !hasScheme_ || !hasPath_) \{
119       error = folly::to<std::string>(\textcolor{stringliteral}{"Malformed request m/a/s/pa/pr="},
120                                 hasMethod_, hasAuthority_,
121                                 hasScheme_, hasPath_, hasUpgradeProtocol_);
122     \}
123     \textcolor{keywordflow}{return} error.empty();
124   \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}!error@{error}}
\index{error@{error}!proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}
\subsubsection[{error}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string proxygen\+::\+H\+T\+T\+P\+Request\+Verifier\+::error}\label{classproxygen_1_1HTTPRequestVerifier_a57c0c90d3bcce09f42cf495379cb75ff}


Definition at line 154 of file H\+T\+T\+P\+Request\+Verifier.\+h.



Referenced by proxygen\+::\+Header\+Decode\+Info\+::on\+Headers\+Complete(), reset(), set\+Authority(), set\+Method(), set\+Path(), set\+Scheme(), set\+Upgrade\+Protocol(), and validate().

\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}!has\+Authority\+\_\+@{has\+Authority\+\_\+}}
\index{has\+Authority\+\_\+@{has\+Authority\+\_\+}!proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}
\subsubsection[{has\+Authority\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}bool proxygen\+::\+H\+T\+T\+P\+Request\+Verifier\+::has\+Authority\+\_\+ \{false\}\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1HTTPRequestVerifier_aa68702559a077ae01ce2833e4cda0b56}


Definition at line 161 of file H\+T\+T\+P\+Request\+Verifier.\+h.



Referenced by reset(), set\+Authority(), set\+Has\+Authority(), and validate().

\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}!has\+Method\+\_\+@{has\+Method\+\_\+}}
\index{has\+Method\+\_\+@{has\+Method\+\_\+}!proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}
\subsubsection[{has\+Method\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}bool proxygen\+::\+H\+T\+T\+P\+Request\+Verifier\+::has\+Method\+\_\+ \{false\}\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1HTTPRequestVerifier_a2b2f9f831a7bcb27066e9e80b84d608a}


Definition at line 158 of file H\+T\+T\+P\+Request\+Verifier.\+h.



Referenced by reset(), set\+Has\+Method(), set\+Method(), and validate().

\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}!has\+Path\+\_\+@{has\+Path\+\_\+}}
\index{has\+Path\+\_\+@{has\+Path\+\_\+}!proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}
\subsubsection[{has\+Path\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}bool proxygen\+::\+H\+T\+T\+P\+Request\+Verifier\+::has\+Path\+\_\+ \{false\}\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1HTTPRequestVerifier_a197ced6d781b39828924761d75c96dc3}


Definition at line 159 of file H\+T\+T\+P\+Request\+Verifier.\+h.



Referenced by reset(), set\+Has\+Path(), set\+Path(), and validate().

\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}!has\+Scheme\+\_\+@{has\+Scheme\+\_\+}}
\index{has\+Scheme\+\_\+@{has\+Scheme\+\_\+}!proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}
\subsubsection[{has\+Scheme\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}bool proxygen\+::\+H\+T\+T\+P\+Request\+Verifier\+::has\+Scheme\+\_\+ \{false\}\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1HTTPRequestVerifier_aab566322873864c9affe8deea9741188}


Definition at line 160 of file H\+T\+T\+P\+Request\+Verifier.\+h.



Referenced by reset(), set\+Has\+Scheme(), set\+Scheme(), and validate().

\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}!has\+Upgrade\+Protocol\+\_\+@{has\+Upgrade\+Protocol\+\_\+}}
\index{has\+Upgrade\+Protocol\+\_\+@{has\+Upgrade\+Protocol\+\_\+}!proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}
\subsubsection[{has\+Upgrade\+Protocol\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}bool proxygen\+::\+H\+T\+T\+P\+Request\+Verifier\+::has\+Upgrade\+Protocol\+\_\+ \{false\}\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1HTTPRequestVerifier_a4f9a07b5661010f94425c3d72ecec48f}


Definition at line 162 of file H\+T\+T\+P\+Request\+Verifier.\+h.



Referenced by has\+Upgrade\+Protocol(), reset(), set\+Has\+Upgrade\+Protocol(), set\+Upgrade\+Protocol(), and validate().

\index{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}!msg\+\_\+@{msg\+\_\+}}
\index{msg\+\_\+@{msg\+\_\+}!proxygen\+::\+H\+T\+T\+P\+Request\+Verifier@{proxygen\+::\+H\+T\+T\+P\+Request\+Verifier}}
\subsubsection[{msg\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}{\bf H\+T\+T\+P\+Message}$\ast$ proxygen\+::\+H\+T\+T\+P\+Request\+Verifier\+::msg\+\_\+ \{{\bf nullptr}\}\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1HTTPRequestVerifier_afa4759839543503b5abc455c55457a28}


Definition at line 157 of file H\+T\+T\+P\+Request\+Verifier.\+h.



Referenced by reset(), set\+Authority(), set\+Message(), set\+Method(), set\+Path(), set\+Scheme(), set\+Upgrade\+Protocol(), and validate().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
proxygen/lib/http/codec/{\bf H\+T\+T\+P\+Request\+Verifier.\+h}\end{DoxyCompactItemize}

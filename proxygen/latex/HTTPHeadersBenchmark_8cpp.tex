\section{proxygen/lib/http/test/\+H\+T\+T\+P\+Headers\+Benchmark.cpp File Reference}
\label{HTTPHeadersBenchmark_8cpp}\index{proxygen/lib/http/test/\+H\+T\+T\+P\+Headers\+Benchmark.\+cpp@{proxygen/lib/http/test/\+H\+T\+T\+P\+Headers\+Benchmark.\+cpp}}
{\ttfamily \#include $<$algorithm$>$}\\*
{\ttfamily \#include $<$folly/\+Benchmark.\+h$>$}\\*
{\ttfamily \#include $<$proxygen/lib/http/\+H\+T\+T\+P\+Common\+Headers.\+h$>$}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void {\bf H\+T\+T\+P\+Common\+Headers\+Hash\+Bench} (int iters)
\item 
void {\bf H\+T\+T\+P\+Common\+Headers\+Get\+Header\+Code\+From\+Table\+Common\+Header\+Name\+Bench} (int iters)
\item 
{\bf B\+E\+N\+C\+H\+M\+A\+RK} (H\+T\+T\+P\+Common\+Headers\+Hash, iters)
\item 
{\bf B\+E\+N\+C\+H\+M\+A\+RK} (H\+T\+T\+P\+Common\+Headers\+Get\+Header\+Code\+From\+Table\+Common\+Header\+Name, iters)
\item 
void {\bf memchr\+Bench} (int iters)
\item 
void {\bf std\+Find\+Bench} (int iters)
\item 
{\bf B\+E\+N\+C\+H\+M\+A\+RK} (memchr, iters)
\item 
{\bf B\+E\+N\+C\+H\+M\+A\+RK} (std\+Find, iters)
\item 
int {\bf main} (int argc, char $\ast$$\ast$argv)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{H\+T\+T\+P\+Headers\+Benchmark.\+cpp@{H\+T\+T\+P\+Headers\+Benchmark.\+cpp}!B\+E\+N\+C\+H\+M\+A\+RK@{B\+E\+N\+C\+H\+M\+A\+RK}}
\index{B\+E\+N\+C\+H\+M\+A\+RK@{B\+E\+N\+C\+H\+M\+A\+RK}!H\+T\+T\+P\+Headers\+Benchmark.\+cpp@{H\+T\+T\+P\+Headers\+Benchmark.\+cpp}}
\subsubsection[{B\+E\+N\+C\+H\+M\+A\+R\+K(\+H\+T\+T\+P\+Common\+Headers\+Hash, iters)}]{\setlength{\rightskip}{0pt plus 5cm}B\+E\+N\+C\+H\+M\+A\+RK (
\begin{DoxyParamCaption}
\item[{H\+T\+T\+P\+Common\+Headers\+Hash}]{, }
\item[{iters}]{}
\end{DoxyParamCaption}
)}\label{HTTPHeadersBenchmark_8cpp_a9fdce97a7656798f173f411791bf955e}


Definition at line 78 of file H\+T\+T\+P\+Headers\+Benchmark.\+cpp.



References H\+T\+T\+P\+Common\+Headers\+Hash\+Bench().


\begin{DoxyCode}
78                                         \{
79   HTTPCommonHeadersHashBench(iters);
80 \}
\end{DoxyCode}
\index{H\+T\+T\+P\+Headers\+Benchmark.\+cpp@{H\+T\+T\+P\+Headers\+Benchmark.\+cpp}!B\+E\+N\+C\+H\+M\+A\+RK@{B\+E\+N\+C\+H\+M\+A\+RK}}
\index{B\+E\+N\+C\+H\+M\+A\+RK@{B\+E\+N\+C\+H\+M\+A\+RK}!H\+T\+T\+P\+Headers\+Benchmark.\+cpp@{H\+T\+T\+P\+Headers\+Benchmark.\+cpp}}
\subsubsection[{B\+E\+N\+C\+H\+M\+A\+R\+K(\+H\+T\+T\+P\+Common\+Headers\+Get\+Header\+Code\+From\+Table\+Common\+Header\+Name, iters)}]{\setlength{\rightskip}{0pt plus 5cm}B\+E\+N\+C\+H\+M\+A\+RK (
\begin{DoxyParamCaption}
\item[{H\+T\+T\+P\+Common\+Headers\+Get\+Header\+Code\+From\+Table\+Common\+Header\+Name}]{, }
\item[{iters}]{}
\end{DoxyParamCaption}
)}\label{HTTPHeadersBenchmark_8cpp_a77af38fe269565976993127965a1814e}


Definition at line 82 of file H\+T\+T\+P\+Headers\+Benchmark.\+cpp.



References H\+T\+T\+P\+Common\+Headers\+Get\+Header\+Code\+From\+Table\+Common\+Header\+Name\+Bench().


\begin{DoxyCode}
82                                                                           \{
83   HTTPCommonHeadersGetHeaderCodeFromTableCommonHeaderNameBench(iters);
84 \}
\end{DoxyCode}
\index{H\+T\+T\+P\+Headers\+Benchmark.\+cpp@{H\+T\+T\+P\+Headers\+Benchmark.\+cpp}!B\+E\+N\+C\+H\+M\+A\+RK@{B\+E\+N\+C\+H\+M\+A\+RK}}
\index{B\+E\+N\+C\+H\+M\+A\+RK@{B\+E\+N\+C\+H\+M\+A\+RK}!H\+T\+T\+P\+Headers\+Benchmark.\+cpp@{H\+T\+T\+P\+Headers\+Benchmark.\+cpp}}
\subsubsection[{B\+E\+N\+C\+H\+M\+A\+R\+K(memchr, iters)}]{\setlength{\rightskip}{0pt plus 5cm}B\+E\+N\+C\+H\+M\+A\+RK (
\begin{DoxyParamCaption}
\item[{memchr}]{, }
\item[{iters}]{}
\end{DoxyParamCaption}
)}\label{HTTPHeadersBenchmark_8cpp_a2645b5c7dda3a2e652fd09a25cf223dd}


Definition at line 112 of file H\+T\+T\+P\+Headers\+Benchmark.\+cpp.



References memchr\+Bench().


\begin{DoxyCode}
112                          \{
113   memchrBench(iters);
114 \}
\end{DoxyCode}
\index{H\+T\+T\+P\+Headers\+Benchmark.\+cpp@{H\+T\+T\+P\+Headers\+Benchmark.\+cpp}!B\+E\+N\+C\+H\+M\+A\+RK@{B\+E\+N\+C\+H\+M\+A\+RK}}
\index{B\+E\+N\+C\+H\+M\+A\+RK@{B\+E\+N\+C\+H\+M\+A\+RK}!H\+T\+T\+P\+Headers\+Benchmark.\+cpp@{H\+T\+T\+P\+Headers\+Benchmark.\+cpp}}
\subsubsection[{B\+E\+N\+C\+H\+M\+A\+R\+K(std\+Find, iters)}]{\setlength{\rightskip}{0pt plus 5cm}B\+E\+N\+C\+H\+M\+A\+RK (
\begin{DoxyParamCaption}
\item[{std\+Find}]{, }
\item[{iters}]{}
\end{DoxyParamCaption}
)}\label{HTTPHeadersBenchmark_8cpp_a122a15f7a9c7997bb980695372e5a352}


Definition at line 116 of file H\+T\+T\+P\+Headers\+Benchmark.\+cpp.



References std\+Find\+Bench().


\begin{DoxyCode}
116                           \{
117   stdFindBench(iters);
118 \}
\end{DoxyCode}
\index{H\+T\+T\+P\+Headers\+Benchmark.\+cpp@{H\+T\+T\+P\+Headers\+Benchmark.\+cpp}!H\+T\+T\+P\+Common\+Headers\+Get\+Header\+Code\+From\+Table\+Common\+Header\+Name\+Bench@{H\+T\+T\+P\+Common\+Headers\+Get\+Header\+Code\+From\+Table\+Common\+Header\+Name\+Bench}}
\index{H\+T\+T\+P\+Common\+Headers\+Get\+Header\+Code\+From\+Table\+Common\+Header\+Name\+Bench@{H\+T\+T\+P\+Common\+Headers\+Get\+Header\+Code\+From\+Table\+Common\+Header\+Name\+Bench}!H\+T\+T\+P\+Headers\+Benchmark.\+cpp@{H\+T\+T\+P\+Headers\+Benchmark.\+cpp}}
\subsubsection[{H\+T\+T\+P\+Common\+Headers\+Get\+Header\+Code\+From\+Table\+Common\+Header\+Name\+Bench(int iters)}]{\setlength{\rightskip}{0pt plus 5cm}void H\+T\+T\+P\+Common\+Headers\+Get\+Header\+Code\+From\+Table\+Common\+Header\+Name\+Bench (
\begin{DoxyParamCaption}
\item[{int}]{iters}
\end{DoxyParamCaption}
)}\label{HTTPHeadersBenchmark_8cpp_a30d7484d8fdd3035b9d1f5f5df55a268}


Definition at line 68 of file H\+T\+T\+P\+Headers\+Benchmark.\+cpp.



References proxygen\+::\+H\+T\+T\+P\+Header\+Code\+Common\+Offset, and proxygen\+::\+T\+A\+B\+L\+E\+\_\+\+C\+A\+M\+E\+L\+C\+A\+SE.



Referenced by B\+E\+N\+C\+H\+M\+A\+R\+K().


\begin{DoxyCode}
68                                                                              \{
69   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < iters; ++i) \{
70     \textcolor{keywordflow}{for} (uint64\_t j = HTTPHeaderCodeCommonOffset;
71          j < HTTPCommonHeaders::num\_header\_codes; ++j) \{
72       HTTPCommonHeaders::getHeaderCodeFromTableCommonHeaderName(
73         &testHeaderNames[j], TABLE_CAMELCASE);
74     \}
75   \}
76 \}
\end{DoxyCode}
\index{H\+T\+T\+P\+Headers\+Benchmark.\+cpp@{H\+T\+T\+P\+Headers\+Benchmark.\+cpp}!H\+T\+T\+P\+Common\+Headers\+Hash\+Bench@{H\+T\+T\+P\+Common\+Headers\+Hash\+Bench}}
\index{H\+T\+T\+P\+Common\+Headers\+Hash\+Bench@{H\+T\+T\+P\+Common\+Headers\+Hash\+Bench}!H\+T\+T\+P\+Headers\+Benchmark.\+cpp@{H\+T\+T\+P\+Headers\+Benchmark.\+cpp}}
\subsubsection[{H\+T\+T\+P\+Common\+Headers\+Hash\+Bench(int iters)}]{\setlength{\rightskip}{0pt plus 5cm}void H\+T\+T\+P\+Common\+Headers\+Hash\+Bench (
\begin{DoxyParamCaption}
\item[{int}]{iters}
\end{DoxyParamCaption}
)}\label{HTTPHeadersBenchmark_8cpp_ac432e9f72cbd4babf387bc78a5ce51ec}


Definition at line 60 of file H\+T\+T\+P\+Headers\+Benchmark.\+cpp.



Referenced by B\+E\+N\+C\+H\+M\+A\+R\+K().


\begin{DoxyCode}
60                                            \{
61   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < iters; ++i) \{
62     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \textcolor{keyword}{const}& testHeaderString: testHeaderStrings) \{
63       HTTPCommonHeaders::hash(*testHeaderString);
64     \}
65   \}
66 \}
\end{DoxyCode}
\index{H\+T\+T\+P\+Headers\+Benchmark.\+cpp@{H\+T\+T\+P\+Headers\+Benchmark.\+cpp}!main@{main}}
\index{main@{main}!H\+T\+T\+P\+Headers\+Benchmark.\+cpp@{H\+T\+T\+P\+Headers\+Benchmark.\+cpp}}
\subsubsection[{main(int argc, char $\ast$$\ast$argv)}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$$\ast$}]{argv}
\end{DoxyParamCaption}
)}\label{HTTPHeadersBenchmark_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}


Definition at line 120 of file H\+T\+T\+P\+Headers\+Benchmark.\+cpp.


\begin{DoxyCode}
120                                 \{
121   gflags::ParseCommandLineFlags(&argc, &argv, \textcolor{keyword}{true});
122   folly::runBenchmarks();
123   \textcolor{keywordflow}{return} 0;
124 \}
\end{DoxyCode}
\index{H\+T\+T\+P\+Headers\+Benchmark.\+cpp@{H\+T\+T\+P\+Headers\+Benchmark.\+cpp}!memchr\+Bench@{memchr\+Bench}}
\index{memchr\+Bench@{memchr\+Bench}!H\+T\+T\+P\+Headers\+Benchmark.\+cpp@{H\+T\+T\+P\+Headers\+Benchmark.\+cpp}}
\subsubsection[{memchr\+Bench(int iters)}]{\setlength{\rightskip}{0pt plus 5cm}void memchr\+Bench (
\begin{DoxyParamCaption}
\item[{int}]{iters}
\end{DoxyParamCaption}
)}\label{HTTPHeadersBenchmark_8cpp_a487072896f8ef620a2024d280fd7aecc}


Definition at line 86 of file H\+T\+T\+P\+Headers\+Benchmark.\+cpp.



References proxygen\+::\+H\+T\+T\+P\+Header\+Code\+Common\+Offset.



Referenced by B\+E\+N\+C\+H\+M\+A\+R\+K().


\begin{DoxyCode}
86                             \{
87   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < iters; ++i) \{
88     \textcolor{keywordflow}{for} (uint64\_t j = HTTPHeaderCodeCommonOffset;
89          j < HTTPCommonHeaders::num\_header\_codes; ++j) \{
90       CHECK(
91         memchr(
92           (\textcolor{keywordtype}{void}*)testHeaderCodes.data(), \textcolor{keyword}{static\_cast<}HTTPHeaderCode\textcolor{keyword}{>}(j),
93           testHeaderCodes.size()) != \textcolor{keyword}{nullptr});
94     \}
95   \}
96 \}
\end{DoxyCode}
\index{H\+T\+T\+P\+Headers\+Benchmark.\+cpp@{H\+T\+T\+P\+Headers\+Benchmark.\+cpp}!std\+Find\+Bench@{std\+Find\+Bench}}
\index{std\+Find\+Bench@{std\+Find\+Bench}!H\+T\+T\+P\+Headers\+Benchmark.\+cpp@{H\+T\+T\+P\+Headers\+Benchmark.\+cpp}}
\subsubsection[{std\+Find\+Bench(int iters)}]{\setlength{\rightskip}{0pt plus 5cm}void std\+Find\+Bench (
\begin{DoxyParamCaption}
\item[{int}]{iters}
\end{DoxyParamCaption}
)}\label{HTTPHeadersBenchmark_8cpp_ab22c53e2c919903458a223f87612d67e}


Definition at line 98 of file H\+T\+T\+P\+Headers\+Benchmark.\+cpp.



References proxygen\+::\+H\+T\+T\+P\+Header\+Code\+Common\+Offset.



Referenced by B\+E\+N\+C\+H\+M\+A\+R\+K().


\begin{DoxyCode}
98                              \{
99   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < iters; ++i) \{
100     \textcolor{keywordflow}{for} (uint64\_t j = HTTPHeaderCodeCommonOffset;
101          j < HTTPCommonHeaders::num\_header\_codes; ++j) \{
102       \textcolor{keyword}{auto} address = HTTPCommonHeaders::getPointerToHeaderName(
103         static\_cast<HTTPHeaderCode>(j));
104       CHECK(
105         std::find(
106           testHeaderStrings.begin(), testHeaderStrings.end(), address) !=
107             testHeaderStrings.end());
108     \}
109   \}
110 \}
\end{DoxyCode}

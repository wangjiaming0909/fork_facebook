\section{proxygen\+:\+:H\+P\+A\+C\+K\+Decode\+Buffer Class Reference}
\label{classproxygen_1_1HPACKDecodeBuffer}\index{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}}


{\ttfamily \#include $<$H\+P\+A\+C\+K\+Decode\+Buffer.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf H\+P\+A\+C\+K\+Decode\+Buffer} (folly\+::io\+::\+Cursor \&cursor\+Val, uint32\+\_\+t total\+Bytes, uint32\+\_\+t max\+Literal\+Size)
\item 
{\bf $\sim$\+H\+P\+A\+C\+K\+Decode\+Buffer} ()
\item 
void {\bf reset} (folly\+::io\+::\+Cursor \&cursor\+Val)
\item 
void {\bf reset} (folly\+::io\+::\+Cursor \&cursor\+Val, uint32\+\_\+t total\+Bytes)
\item 
uint32\+\_\+t {\bf consumed\+Bytes} () const 
\item 
const folly\+::io\+::\+Cursor \& {\bf cursor} () const 
\item 
bool {\bf empty} ()
\item 
uint8\+\_\+t {\bf next} ()
\item 
uint8\+\_\+t {\bf peek} ()
\item 
{\bf H\+P\+A\+C\+K\+::\+Decode\+Error} {\bf decode\+Integer} (uint8\+\_\+t nbit, uint64\+\_\+t \&integer)
\item 
{\bf H\+P\+A\+C\+K\+::\+Decode\+Error} {\bf decode\+Integer} (uint64\+\_\+t \&integer)
\item 
{\bf H\+P\+A\+C\+K\+::\+Decode\+Error} {\bf decode\+Literal} (folly\+::fbstring \&literal)
\item 
{\bf H\+P\+A\+C\+K\+::\+Decode\+Error} {\bf decode\+Literal} (uint8\+\_\+t nbit, folly\+::fbstring \&literal)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
folly\+::io\+::\+Cursor \& {\bf cursor\+\_\+}
\item 
uint32\+\_\+t {\bf total\+Bytes\+\_\+}
\item 
uint32\+\_\+t {\bf remaining\+Bytes\+\_\+}
\item 
uint32\+\_\+t {\bf max\+Literal\+Size\+\_\+} \{std\+::numeric\+\_\+limits$<$uint32\+\_\+t$>$\+::max()\}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 21 of file H\+P\+A\+C\+K\+Decode\+Buffer.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}!H\+P\+A\+C\+K\+Decode\+Buffer@{H\+P\+A\+C\+K\+Decode\+Buffer}}
\index{H\+P\+A\+C\+K\+Decode\+Buffer@{H\+P\+A\+C\+K\+Decode\+Buffer}!proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}}
\subsubsection[{H\+P\+A\+C\+K\+Decode\+Buffer(folly\+::io\+::\+Cursor \&cursor\+Val, uint32\+\_\+t total\+Bytes, uint32\+\_\+t max\+Literal\+Size)}]{\setlength{\rightskip}{0pt plus 5cm}proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer\+::\+H\+P\+A\+C\+K\+Decode\+Buffer (
\begin{DoxyParamCaption}
\item[{folly\+::io\+::\+Cursor \&}]{cursor\+Val, }
\item[{uint32\+\_\+t}]{total\+Bytes, }
\item[{uint32\+\_\+t}]{max\+Literal\+Size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}\label{classproxygen_1_1HPACKDecodeBuffer_af67422220f3a0b4a0f7df5813a03e4c0}


Definition at line 24 of file H\+P\+A\+C\+K\+Decode\+Buffer.\+h.


\begin{DoxyCode}
27       : cursor_(cursorVal),
28         totalBytes_(totalBytes),
29         remainingBytes_(totalBytes),
30         maxLiteralSize_(maxLiteralSize) \{\}
\end{DoxyCode}
\index{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}!````~H\+P\+A\+C\+K\+Decode\+Buffer@{$\sim$\+H\+P\+A\+C\+K\+Decode\+Buffer}}
\index{````~H\+P\+A\+C\+K\+Decode\+Buffer@{$\sim$\+H\+P\+A\+C\+K\+Decode\+Buffer}!proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}}
\subsubsection[{$\sim$\+H\+P\+A\+C\+K\+Decode\+Buffer()}]{\setlength{\rightskip}{0pt plus 5cm}proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer\+::$\sim$\+H\+P\+A\+C\+K\+Decode\+Buffer (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HPACKDecodeBuffer_a3d73291b2de59157bc0f6705ce746cb5}


Definition at line 32 of file H\+P\+A\+C\+K\+Decode\+Buffer.\+h.


\begin{DoxyCode}
32 \{\}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}!consumed\+Bytes@{consumed\+Bytes}}
\index{consumed\+Bytes@{consumed\+Bytes}!proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}}
\subsubsection[{consumed\+Bytes() const }]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer\+::consumed\+Bytes (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HPACKDecodeBuffer_ae6cd1fd49b681bb57794b5b7462a98a0}


Definition at line 45 of file H\+P\+A\+C\+K\+Decode\+Buffer.\+h.



References remaining\+Bytes\+\_\+, and total\+Bytes\+\_\+.



Referenced by proxygen\+::\+Q\+P\+A\+C\+K\+Decoder\+::decode\+Encoder\+Stream\+Instruction(), proxygen\+::\+Q\+P\+A\+C\+K\+Decoder\+::decode\+Literal\+Header\+Q(), proxygen\+::\+H\+P\+A\+C\+K\+Decoder\+::decode\+Streaming(), and proxygen\+::\+Q\+P\+A\+C\+K\+Decoder\+::decode\+Streaming\+Impl().


\begin{DoxyCode}
45                                  \{
46     \textcolor{keywordflow}{return} totalBytes_ - remainingBytes_;
47   \}
\end{DoxyCode}
\index{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}!cursor@{cursor}}
\index{cursor@{cursor}!proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}}
\subsubsection[{cursor() const }]{\setlength{\rightskip}{0pt plus 5cm}const folly\+::io\+::\+Cursor\& proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer\+::cursor (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HPACKDecodeBuffer_a3f9e3cf93bb406ca2587176216ebde2d}


Definition at line 49 of file H\+P\+A\+C\+K\+Decode\+Buffer.\+h.



References cursor\+\_\+, decode\+Integer(), decode\+Literal(), empty(), next(), and peek().


\begin{DoxyCode}
49                                       \{
50     \textcolor{keywordflow}{return} cursor_;
51   \}
\end{DoxyCode}
\index{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}!decode\+Integer@{decode\+Integer}}
\index{decode\+Integer@{decode\+Integer}!proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}}
\subsubsection[{decode\+Integer(uint8\+\_\+t nbit, uint64\+\_\+t \&integer)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Decode\+Error} proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer\+::decode\+Integer (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{nbit, }
\item[{uint64\+\_\+t \&}]{integer}
\end{DoxyParamCaption}
)}\label{classproxygen_1_1HPACKDecodeBuffer_a44a33d82950b4cf72b98eacccdef778c}
decode an integer from the current position, given a nbit prefix. Ignores 8 -\/ nbit bits in the first byte of the buffer. 

Definition at line 101 of file H\+P\+A\+C\+K\+Decode\+Buffer.\+cpp.



References proxygen\+::\+E\+R\+R\+OR, proxygen\+::\+H\+P\+A\+C\+K\+::\+N\+B\+I\+T\+\_\+\+M\+A\+S\+KS, next(), proxygen\+::\+N\+O\+NE, and remaining\+Bytes\+\_\+.



Referenced by cursor(), proxygen\+::\+Q\+P\+A\+C\+K\+Encoder\+::decode\+Header\+Ack(), proxygen\+::\+H\+P\+A\+C\+K\+Decoder\+::decode\+Indexed\+Header(), proxygen\+::\+Q\+P\+A\+C\+K\+Decoder\+::decode\+Indexed\+Header\+Q(), decode\+Integer(), decode\+Literal(), proxygen\+::\+H\+P\+A\+C\+K\+Decoder\+::decode\+Literal\+Header(), proxygen\+::\+Q\+P\+A\+C\+K\+Decoder\+::decode\+Literal\+Header\+Q(), proxygen\+::\+Q\+P\+A\+C\+K\+Decoder\+::handle\+Base\+Index(), and proxygen\+::\+H\+P\+A\+C\+K\+Decoder\+Base\+::handle\+Table\+Size\+Update().


\begin{DoxyCode}
101                                                                             \{
102   \textcolor{keywordflow}{if} (remainingBytes_ == 0) \{
103     LOG(ERROR) << \textcolor{stringliteral}{"remainingBytes\_ == 0"};
104     \textcolor{keywordflow}{return} DecodeError::BUFFER\_UNDERFLOW;
105   \}
106   uint8\_t byte = next();
107   uint8\_t mask = HPACK::NBIT_MASKS[nbit];
108   \textcolor{comment}{// remove the first (8 - nbit) bits}
109   byte = byte & mask;
110   integer = byte;
111   \textcolor{keywordflow}{if} (byte != mask) \{
112     \textcolor{comment}{// the value fit in one byte}
113     \textcolor{keywordflow}{return} DecodeError::NONE;
114   \}
115   uint64\_t f = 1;
116   uint32\_t fexp = 0;
117   \textcolor{keywordflow}{do} \{
118     \textcolor{keywordflow}{if} (remainingBytes_ == 0) \{
119       LOG(ERROR) << \textcolor{stringliteral}{"remainingBytes\_ == 0"};
120       \textcolor{keywordflow}{return} DecodeError::BUFFER\_UNDERFLOW;
121     \}
122     byte = next();
123     \textcolor{keywordflow}{if} (fexp > 64) \{
124       \textcolor{comment}{// overflow in factorizer, f > 2^64}
125       LOG(ERROR) << \textcolor{stringliteral}{"overflow fexp="} << fexp;
126       \textcolor{keywordflow}{return} DecodeError::INTEGER\_OVERFLOW;
127     \}
128     uint64\_t add = (byte & 127) * f;
129     \textcolor{keywordflow}{if} (std::numeric\_limits<uint64\_t>::max() - integer < add) \{
130       \textcolor{comment}{// overflow detected}
131       LOG(ERROR) << \textcolor{stringliteral}{"overflow integer="} << integer << \textcolor{stringliteral}{" add="} << add;
132       \textcolor{keywordflow}{return} DecodeError::INTEGER\_OVERFLOW;
133     \}
134     integer += add;
135     f = f << 7;
136     fexp += 7;
137   \} \textcolor{keywordflow}{while} (byte & 128);
138   \textcolor{keywordflow}{return} DecodeError::NONE;
139 \}
\end{DoxyCode}
\index{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}!decode\+Integer@{decode\+Integer}}
\index{decode\+Integer@{decode\+Integer}!proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}}
\subsubsection[{decode\+Integer(uint64\+\_\+t \&integer)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Decode\+Error} proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer\+::decode\+Integer (
\begin{DoxyParamCaption}
\item[{uint64\+\_\+t \&}]{integer}
\end{DoxyParamCaption}
)}\label{classproxygen_1_1HPACKDecodeBuffer_a1d15f4c51015418b991ca50254d1dc3e}
As above but with no prefix 

Definition at line 97 of file H\+P\+A\+C\+K\+Decode\+Buffer.\+cpp.



References decode\+Integer().


\begin{DoxyCode}
97                                                               \{
98   \textcolor{keywordflow}{return} decodeInteger(8, integer);
99 \}
\end{DoxyCode}
\index{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}!decode\+Literal@{decode\+Literal}}
\index{decode\+Literal@{decode\+Literal}!proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}}
\subsubsection[{decode\+Literal(folly\+::fbstring \&literal)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Decode\+Error} proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer\+::decode\+Literal (
\begin{DoxyParamCaption}
\item[{folly\+::fbstring \&}]{literal}
\end{DoxyParamCaption}
)}\label{classproxygen_1_1HPACKDecodeBuffer_a150f9d5c85a003f3122ebbfb7f5e71e1}
decode a literal starting from the current position 

Definition at line 44 of file H\+P\+A\+C\+K\+Decode\+Buffer.\+cpp.



Referenced by cursor(), proxygen\+::\+H\+P\+A\+C\+K\+Decoder\+::decode\+Literal\+Header(), and proxygen\+::\+Q\+P\+A\+C\+K\+Decoder\+::decode\+Literal\+Header\+Q().


\begin{DoxyCode}
44                                                                    \{
45   \textcolor{keywordflow}{return} decodeLiteral(7, literal);
46 \}
\end{DoxyCode}
\index{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}!decode\+Literal@{decode\+Literal}}
\index{decode\+Literal@{decode\+Literal}!proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}}
\subsubsection[{decode\+Literal(uint8\+\_\+t nbit, folly\+::fbstring \&literal)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Decode\+Error} proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer\+::decode\+Literal (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{nbit, }
\item[{folly\+::fbstring \&}]{literal}
\end{DoxyParamCaption}
)}\label{classproxygen_1_1HPACKDecodeBuffer_a91a4aa2f0ae054b1ab9b4813fb377e99}


Definition at line 48 of file H\+P\+A\+C\+K\+Decode\+Buffer.\+cpp.



References cursor\+\_\+, decode\+Integer(), proxygen\+::\+E\+R\+R\+OR, proxygen\+::huffman\+::huff\+Tree(), max\+Literal\+Size\+\_\+, proxygen\+::\+N\+O\+NE, peek(), and remaining\+Bytes\+\_\+.


\begin{DoxyCode}
49                                                                      \{
50   literal.clear();
51   \textcolor{keywordflow}{if} (remainingBytes_ == 0) \{
52     LOG(ERROR) << \textcolor{stringliteral}{"remainingBytes\_ == 0"};
53     \textcolor{keywordflow}{return} DecodeError::BUFFER\_UNDERFLOW;
54   \}
55   \textcolor{keyword}{auto} byte = peek();
56   uint8\_t huffmanCheck = uint8\_t(1 << nbit);
57   \textcolor{keywordtype}{bool} huffman = byte & huffmanCheck;
58   \textcolor{comment}{// extract the size}
59   uint64\_t size;
60   DecodeError result = decodeInteger(nbit, size);
61   \textcolor{keywordflow}{if} (result != DecodeError::NONE) \{
62     LOG(ERROR) << \textcolor{stringliteral}{"Could not decode literal size"};
63     \textcolor{keywordflow}{return} result;
64   \}
65   \textcolor{keywordflow}{if} (size > remainingBytes_) \{
66     LOG(ERROR) << \textcolor{stringliteral}{"size > remainingBytes\_ decoding literal size="}
67                << size << \textcolor{stringliteral}{" remainingBytes\_="} << remainingBytes_;
68     \textcolor{keywordflow}{return} DecodeError::BUFFER\_UNDERFLOW;
69   \}
70   \textcolor{keywordflow}{if} (size > maxLiteralSize_) \{
71     LOG(ERROR) << \textcolor{stringliteral}{"Literal too large, size="} << size;
72     \textcolor{keywordflow}{return} DecodeError::LITERAL\_TOO\_LARGE;
73   \}
74   \textcolor{keyword}{const} uint8\_t* data;
75   unique\_ptr<IOBuf> tmpbuf;
76   \textcolor{comment}{// handle the case where the buffer spans multiple buffers}
77   \textcolor{keywordflow}{if} (cursor_.length() >= size) \{
78     data = cursor_.data();
79     cursor_.skip(size);
80   \} \textcolor{keywordflow}{else} \{
81     \textcolor{comment}{// temporary buffer to pull the chunks together}
82     tmpbuf = IOBuf::create(size);
83     \textcolor{comment}{// pull() will move the cursor}
84     cursor_.pull(tmpbuf->writableData(), size);
85     data = tmpbuf->data();
86   \}
87   \textcolor{keywordflow}{if} (huffman) \{
88     \textcolor{keyword}{static} \textcolor{keyword}{auto}& huffmanTree = huffman::huffTree();
89     huffmanTree.decode(data, size, literal);
90   \} \textcolor{keywordflow}{else} \{
91     literal.append((\textcolor{keyword}{const} \textcolor{keywordtype}{char} *)data, size);
92   \}
93   remainingBytes_ -= size;
94   \textcolor{keywordflow}{return} DecodeError::NONE;
95 \}
\end{DoxyCode}
\index{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}!empty@{empty}}
\index{empty@{empty}!proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}}
\subsubsection[{empty()}]{\setlength{\rightskip}{0pt plus 5cm}bool proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer\+::empty (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classproxygen_1_1HPACKDecodeBuffer_a42038701cf111b882d3afaa501519561}
\begin{DoxyReturn}{Returns}
true if there are no more bytes to decode. Calling this method might move the cursor from the current I\+O\+Buf to the next one 
\end{DoxyReturn}


Definition at line 22 of file H\+P\+A\+C\+K\+Decode\+Buffer.\+cpp.



References remaining\+Bytes\+\_\+.



Referenced by cursor(), proxygen\+::\+H\+P\+A\+C\+K\+Decoder\+::decode\+Streaming(), proxygen\+::\+Q\+P\+A\+C\+K\+Decoder\+::decode\+Streaming\+Impl(), and proxygen\+::\+Q\+P\+A\+C\+K\+Decoder\+::handle\+Base\+Index().


\begin{DoxyCode}
22                               \{
23   \textcolor{keywordflow}{return} remainingBytes_ == 0;
24 \}
\end{DoxyCode}
\index{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}!next@{next}}
\index{next@{next}!proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}}
\subsubsection[{next()}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer\+::next (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classproxygen_1_1HPACKDecodeBuffer_aadcbe5d807d7bdf9f71de2f19ae69ecd}
extracts one byte from the buffer and advances the cursor 

Definition at line 26 of file H\+P\+A\+C\+K\+Decode\+Buffer.\+cpp.



References cursor\+\_\+, peek(), and remaining\+Bytes\+\_\+.



Referenced by cursor(), decode\+Integer(), and proxygen\+::\+H\+P\+A\+C\+K\+Decoder\+::decode\+Literal\+Header().


\begin{DoxyCode}
26                                 \{
27   CHECK\_GT(remainingBytes_, 0);
28   \textcolor{comment}{// in case we are the end of an IOBuf, peek() will move to the next one}
29   uint8\_t byte = peek();
30   cursor_.skip(1);
31   remainingBytes_--;
32 
33   \textcolor{keywordflow}{return} byte;
34 \}
\end{DoxyCode}
\index{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}!peek@{peek}}
\index{peek@{peek}!proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}}
\subsubsection[{peek()}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer\+::peek (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classproxygen_1_1HPACKDecodeBuffer_a4da9d0d8a7e47fda8b84a424a3e33381}
just peeks at the next available byte without moving the cursor 

Definition at line 36 of file H\+P\+A\+C\+K\+Decode\+Buffer.\+cpp.



References cursor\+\_\+, and remaining\+Bytes\+\_\+.



Referenced by cursor(), proxygen\+::\+Q\+P\+A\+C\+K\+Decoder\+::decode\+Encoder\+Stream\+Instruction(), proxygen\+::\+H\+P\+A\+C\+K\+Decoder\+::decode\+Header(), proxygen\+::\+Q\+P\+A\+C\+K\+Decoder\+::decode\+Header\+Q(), proxygen\+::\+Q\+P\+A\+C\+K\+Decoder\+::decode\+Indexed\+Header\+Q(), decode\+Literal(), proxygen\+::\+H\+P\+A\+C\+K\+Decoder\+::decode\+Literal\+Header(), proxygen\+::\+Q\+P\+A\+C\+K\+Decoder\+::decode\+Literal\+Header\+Q(), proxygen\+::\+Q\+P\+A\+C\+K\+Decoder\+::handle\+Base\+Index(), and next().


\begin{DoxyCode}
36                                 \{
37   CHECK\_GT(remainingBytes_, 0);
38   \textcolor{keywordflow}{if} (cursor_.length() == 0) \{
39     cursor_.peek();
40   \}
41   \textcolor{keywordflow}{return} *cursor_.data();
42 \}
\end{DoxyCode}
\index{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}!reset@{reset}}
\index{reset@{reset}!proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}}
\subsubsection[{reset(folly\+::io\+::\+Cursor \&cursor\+Val)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer\+::reset (
\begin{DoxyParamCaption}
\item[{folly\+::io\+::\+Cursor \&}]{cursor\+Val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HPACKDecodeBuffer_a6221dc2a63f9ddbc5ce4b5fc7fa51526}


Definition at line 34 of file H\+P\+A\+C\+K\+Decode\+Buffer.\+h.


\begin{DoxyCode}
34                                        \{
35     reset(cursorVal, folly::to<uint32\_t>(cursorVal.totalLength()));
36   \}
\end{DoxyCode}
\index{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}!reset@{reset}}
\index{reset@{reset}!proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}}
\subsubsection[{reset(folly\+::io\+::\+Cursor \&cursor\+Val, uint32\+\_\+t total\+Bytes)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer\+::reset (
\begin{DoxyParamCaption}
\item[{folly\+::io\+::\+Cursor \&}]{cursor\+Val, }
\item[{uint32\+\_\+t}]{total\+Bytes}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HPACKDecodeBuffer_a312b73a0bebdc65c4dca7c9d047a30be}


Definition at line 38 of file H\+P\+A\+C\+K\+Decode\+Buffer.\+h.



References cursor\+\_\+, remaining\+Bytes\+\_\+, and total\+Bytes\+\_\+.


\begin{DoxyCode}
39                                   \{
40     cursor_ = cursorVal;
41     totalBytes_ = totalBytes;
42     remainingBytes_ = totalBytes;
43   \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}!cursor\+\_\+@{cursor\+\_\+}}
\index{cursor\+\_\+@{cursor\+\_\+}!proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}}
\subsubsection[{cursor\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}folly\+::io\+::\+Cursor\& proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer\+::cursor\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1HPACKDecodeBuffer_a6f6d7bfe128ebcefde8f59a89fccdaaa}


Definition at line 88 of file H\+P\+A\+C\+K\+Decode\+Buffer.\+h.



Referenced by cursor(), decode\+Literal(), next(), peek(), and reset().

\index{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}!max\+Literal\+Size\+\_\+@{max\+Literal\+Size\+\_\+}}
\index{max\+Literal\+Size\+\_\+@{max\+Literal\+Size\+\_\+}!proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}}
\subsubsection[{max\+Literal\+Size\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer\+::max\+Literal\+Size\+\_\+ \{std\+::numeric\+\_\+limits$<$uint32\+\_\+t$>$\+::max()\}\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1HPACKDecodeBuffer_a0a8aaf795fb2602edcdcbdf36ad6c33a}


Definition at line 91 of file H\+P\+A\+C\+K\+Decode\+Buffer.\+h.



Referenced by decode\+Literal().

\index{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}!remaining\+Bytes\+\_\+@{remaining\+Bytes\+\_\+}}
\index{remaining\+Bytes\+\_\+@{remaining\+Bytes\+\_\+}!proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}}
\subsubsection[{remaining\+Bytes\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer\+::remaining\+Bytes\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1HPACKDecodeBuffer_a3d2fe4fe3b9527081bfd5116b45f7905}


Definition at line 90 of file H\+P\+A\+C\+K\+Decode\+Buffer.\+h.



Referenced by consumed\+Bytes(), decode\+Integer(), decode\+Literal(), empty(), next(), peek(), and reset().

\index{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}!total\+Bytes\+\_\+@{total\+Bytes\+\_\+}}
\index{total\+Bytes\+\_\+@{total\+Bytes\+\_\+}!proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer@{proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer}}
\subsubsection[{total\+Bytes\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t proxygen\+::\+H\+P\+A\+C\+K\+Decode\+Buffer\+::total\+Bytes\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1HPACKDecodeBuffer_abdc098cf010a52fac3c467e37f4b98bb}


Definition at line 89 of file H\+P\+A\+C\+K\+Decode\+Buffer.\+h.



Referenced by consumed\+Bytes(), and reset().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
proxygen/lib/http/codec/compress/{\bf H\+P\+A\+C\+K\+Decode\+Buffer.\+h}\item 
proxygen/lib/http/codec/compress/{\bf H\+P\+A\+C\+K\+Decode\+Buffer.\+cpp}\end{DoxyCompactItemize}

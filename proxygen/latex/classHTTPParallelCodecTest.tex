\section{H\+T\+T\+P\+Parallel\+Codec\+Test Class Reference}
\label{classHTTPParallelCodecTest}\index{H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}}


{\ttfamily \#include $<$H\+T\+T\+P\+Parallel\+Codec\+Test.\+h$>$}

Inheritance diagram for H\+T\+T\+P\+Parallel\+Codec\+Test\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classHTTPParallelCodecTest}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf H\+T\+T\+P\+Parallel\+Codec\+Test} ({\bf proxygen\+::\+H\+T\+T\+P\+Parallel\+Codec} \&upstream\+Codec, {\bf proxygen\+::\+H\+T\+T\+P\+Parallel\+Codec} \&downstream\+Codec)
\item 
void {\bf Set\+Up} () override
\item 
void {\bf Set\+Up\+Upstream\+Test} ()
\item 
bool {\bf parse} (std\+::function$<$ void(folly\+::\+I\+O\+Buf $\ast$)$>$ hack\+Ingress=std\+::function$<$ void(folly\+::\+I\+O\+Buf $\ast$)$>$())
\item 
bool {\bf parse\+Upstream} (std\+::function$<$ void(folly\+::\+I\+O\+Buf $\ast$)$>$ hack\+Ingress=std\+::function$<$ void(folly\+::\+I\+O\+Buf $\ast$)$>$())
\item 
bool {\bf parse\+Impl} ({\bf proxygen\+::\+H\+T\+T\+P\+Parallel\+Codec} \&codec, std\+::function$<$ void(folly\+::\+I\+O\+Buf $\ast$)$>$ hack\+Ingress)
\item 
void {\bf dump\+To\+File} (bool is\+Upstream=false)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
{\bf proxygen\+::\+Fake\+H\+T\+T\+P\+Codec\+Callback} {\bf callbacks\+\_\+}
\item 
{\bf proxygen\+::\+H\+T\+T\+P\+Parallel\+Codec} \& {\bf upstream\+Codec\+\_\+}
\item 
{\bf proxygen\+::\+H\+T\+T\+P\+Parallel\+Codec} \& {\bf downstream\+Codec\+\_\+}
\item 
folly\+::\+I\+O\+Buf\+Queue {\bf output\+\_\+} \{folly\+::\+I\+O\+Buf\+Queue\+::cache\+Chain\+Length()\}
\item 
const testing\+::\+Test\+Info $\ast$ {\bf test\+Info\+\_\+} \{testing\+::\+Unit\+Test\+::\+Get\+Instance()-\/$>$current\+\_\+test\+\_\+info()\}
\item 
bool {\bf dump\+\_\+} \{false\}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 16 of file H\+T\+T\+P\+Parallel\+Codec\+Test.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}!H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}}
\index{H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}!H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}}
\subsubsection[{H\+T\+T\+P\+Parallel\+Codec\+Test(proxygen\+::\+H\+T\+T\+P\+Parallel\+Codec \&upstream\+Codec, proxygen\+::\+H\+T\+T\+P\+Parallel\+Codec \&downstream\+Codec)}]{\setlength{\rightskip}{0pt plus 5cm}H\+T\+T\+P\+Parallel\+Codec\+Test\+::\+H\+T\+T\+P\+Parallel\+Codec\+Test (
\begin{DoxyParamCaption}
\item[{{\bf proxygen\+::\+H\+T\+T\+P\+Parallel\+Codec} \&}]{upstream\+Codec, }
\item[{{\bf proxygen\+::\+H\+T\+T\+P\+Parallel\+Codec} \&}]{downstream\+Codec}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classHTTPParallelCodecTest_af962fd007e32e69333fbae96beaebbd4}


Definition at line 18 of file H\+T\+T\+P\+Parallel\+Codec\+Test.\+h.


\begin{DoxyCode}
20     : upstreamCodec_(upstreamCodec),
21     downstreamCodec_(downstreamCodec) \{\}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}!dump\+To\+File@{dump\+To\+File}}
\index{dump\+To\+File@{dump\+To\+File}!H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}}
\subsubsection[{dump\+To\+File(bool is\+Upstream=false)}]{\setlength{\rightskip}{0pt plus 5cm}void H\+T\+T\+P\+Parallel\+Codec\+Test\+::dump\+To\+File (
\begin{DoxyParamCaption}
\item[{bool}]{is\+Upstream = {\ttfamily false}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classHTTPParallelCodecTest_a3f6730bc4bb1c998c1e021e422baed93}


Definition at line 68 of file H\+T\+T\+P\+Parallel\+Codec\+Test.\+h.



References dump\+\_\+, proxygen\+::dump\+Bin\+To\+File(), output\+\_\+, and test\+Info\+\_\+.



Referenced by parse\+Impl().


\begin{DoxyCode}
68                                          \{
69     \textcolor{keywordflow}{if} (!dump_) \{
70       \textcolor{keywordflow}{return};
71     \}
72     \textcolor{keyword}{auto} endpoint = isUpstream ? \textcolor{stringliteral}{"client"} : \textcolor{stringliteral}{"server"};
73     \textcolor{keyword}{auto} filename = folly::to<std::string>(
74         \textcolor{stringliteral}{"/tmp/parallel\_"}, endpoint, \textcolor{stringliteral}{"\_"}, testInfo_->name(), \textcolor{stringliteral}{".bin"});
75     proxygen::dumpBinToFile(filename, output_.front());
76   \}
\end{DoxyCode}
\index{H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}!parse@{parse}}
\index{parse@{parse}!H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}}
\subsubsection[{parse(std\+::function$<$ void(folly\+::\+I\+O\+Buf $\ast$)$>$ hack\+Ingress=std\+::function$<$ void(folly\+::\+I\+O\+Buf $\ast$)$>$())}]{\setlength{\rightskip}{0pt plus 5cm}bool H\+T\+T\+P\+Parallel\+Codec\+Test\+::parse (
\begin{DoxyParamCaption}
\item[{std\+::function$<$ void(folly\+::\+I\+O\+Buf $\ast$)$>$}]{hack\+Ingress = {\ttfamily std\+:\+:function$<$void(folly\+:\+:IOBuf$\ast$)$>$()}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classHTTPParallelCodecTest_adac455c34ac519c8b42d488cf453731d}


Definition at line 37 of file H\+T\+T\+P\+Parallel\+Codec\+Test.\+h.



References downstream\+Codec\+\_\+, and parse\+Impl().


\begin{DoxyCode}
38                                                \{
39     \textcolor{keywordflow}{return} parseImpl(downstreamCodec_, hackIngress);
40   \}
\end{DoxyCode}
\index{H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}!parse\+Impl@{parse\+Impl}}
\index{parse\+Impl@{parse\+Impl}!H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}}
\subsubsection[{parse\+Impl(proxygen\+::\+H\+T\+T\+P\+Parallel\+Codec \&codec, std\+::function$<$ void(folly\+::\+I\+O\+Buf $\ast$)$>$ hack\+Ingress)}]{\setlength{\rightskip}{0pt plus 5cm}bool H\+T\+T\+P\+Parallel\+Codec\+Test\+::parse\+Impl (
\begin{DoxyParamCaption}
\item[{{\bf proxygen\+::\+H\+T\+T\+P\+Parallel\+Codec} \&}]{codec, }
\item[{std\+::function$<$ void(folly\+::\+I\+O\+Buf $\ast$)$>$}]{hack\+Ingress}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classHTTPParallelCodecTest_ab5347a3b1a78302f8f88f627f624d365}


Definition at line 51 of file H\+T\+T\+P\+Parallel\+Codec\+Test.\+h.



References dump\+To\+File(), proxygen\+::\+H\+T\+T\+P\+Parallel\+Codec\+::get\+Transport\+Direction(), proxygen\+::\+H\+T\+T\+P\+Codec\+::on\+Ingress(), output\+\_\+, and proxygen\+::\+U\+P\+S\+T\+R\+E\+AM.



Referenced by parse(), and parse\+Upstream().


\begin{DoxyCode}
52                                                              \{
53     dumpToFile(codec.getTransportDirection() ==
54                proxygen::TransportDirection::UPSTREAM);
55     \textcolor{keyword}{auto} ingress = output_.move();
56     \textcolor{keywordflow}{if} (hackIngress) \{
57       hackIngress(ingress.get());
58     \}
59     \textcolor{keywordtype}{size\_t} parsed = codec.onIngress(*ingress);
60     \textcolor{keywordflow}{return} (parsed == ingress->computeChainDataLength());
61   \}
\end{DoxyCode}
\index{H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}!parse\+Upstream@{parse\+Upstream}}
\index{parse\+Upstream@{parse\+Upstream}!H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}}
\subsubsection[{parse\+Upstream(std\+::function$<$ void(folly\+::\+I\+O\+Buf $\ast$)$>$ hack\+Ingress=std\+::function$<$ void(folly\+::\+I\+O\+Buf $\ast$)$>$())}]{\setlength{\rightskip}{0pt plus 5cm}bool H\+T\+T\+P\+Parallel\+Codec\+Test\+::parse\+Upstream (
\begin{DoxyParamCaption}
\item[{std\+::function$<$ void(folly\+::\+I\+O\+Buf $\ast$)$>$}]{hack\+Ingress = {\ttfamily std\+:\+:function$<$void(folly\+:\+:IOBuf$\ast$)$>$()}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classHTTPParallelCodecTest_a4140325b8cb0d0ef5db698770a9c9396}


Definition at line 42 of file H\+T\+T\+P\+Parallel\+Codec\+Test.\+h.



References parse\+Impl(), and upstream\+Codec\+\_\+.


\begin{DoxyCode}
43                                                        \{
44     \textcolor{keywordflow}{return} parseImpl(upstreamCodec_, hackIngress);
45   \}
\end{DoxyCode}
\index{H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}!Set\+Up@{Set\+Up}}
\index{Set\+Up@{Set\+Up}!H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}}
\subsubsection[{Set\+Up() override}]{\setlength{\rightskip}{0pt plus 5cm}void H\+T\+T\+P\+Parallel\+Codec\+Test\+::\+Set\+Up (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}}\label{classHTTPParallelCodecTest_a9ee24880289d93a80aaf7e7b69af74f2}


Definition at line 23 of file H\+T\+T\+P\+Parallel\+Codec\+Test.\+h.



References callbacks\+\_\+, downstream\+Codec\+\_\+, proxygen\+::\+H\+T\+T\+P\+Codec\+::generate\+Connection\+Preface(), output\+\_\+, proxygen\+::\+H\+T\+T\+P\+Parallel\+Codec\+::set\+Callback(), and upstream\+Codec\+\_\+.



Referenced by H\+T\+T\+P2\+Codec\+Test\+::\+Set\+Up().


\begin{DoxyCode}
23                         \{
24     downstreamCodec_.setCallback(&callbacks_);
25     upstreamCodec_.setCallback(&callbacks_);
26     \textcolor{comment}{// Most tests are downstream tests, so generate the upstream conn preface}
27     \textcolor{comment}{// by default}
28     upstreamCodec_.generateConnectionPreface(output_);
29   \}
\end{DoxyCode}
\index{H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}!Set\+Up\+Upstream\+Test@{Set\+Up\+Upstream\+Test}}
\index{Set\+Up\+Upstream\+Test@{Set\+Up\+Upstream\+Test}!H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}}
\subsubsection[{Set\+Up\+Upstream\+Test()}]{\setlength{\rightskip}{0pt plus 5cm}void H\+T\+T\+P\+Parallel\+Codec\+Test\+::\+Set\+Up\+Upstream\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classHTTPParallelCodecTest_a1d6fba5810c98a0052b7a77e5a306254}


Definition at line 31 of file H\+T\+T\+P\+Parallel\+Codec\+Test.\+h.



References downstream\+Codec\+\_\+, proxygen\+::\+H\+T\+T\+P\+Codec\+::generate\+Connection\+Preface(), proxygen\+::\+H\+T\+T\+P\+Codec\+::generate\+Settings(), and output\+\_\+.


\begin{DoxyCode}
31                            \{
32     output_.move();
33     downstreamCodec_.generateConnectionPreface(output_); \textcolor{comment}{// no-op}
34     downstreamCodec_.generateSettings(output_);
35   \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}!callbacks\+\_\+@{callbacks\+\_\+}}
\index{callbacks\+\_\+@{callbacks\+\_\+}!H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}}
\subsubsection[{callbacks\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}{\bf proxygen\+::\+Fake\+H\+T\+T\+P\+Codec\+Callback} H\+T\+T\+P\+Parallel\+Codec\+Test\+::callbacks\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}\label{classHTTPParallelCodecTest_af565b3513eafa69aa5e4aab75b7b3ffc}


Definition at line 79 of file H\+T\+T\+P\+Parallel\+Codec\+Test.\+h.



Referenced by Set\+Up().

\index{H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}!downstream\+Codec\+\_\+@{downstream\+Codec\+\_\+}}
\index{downstream\+Codec\+\_\+@{downstream\+Codec\+\_\+}!H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}}
\subsubsection[{downstream\+Codec\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}{\bf proxygen\+::\+H\+T\+T\+P\+Parallel\+Codec}\& H\+T\+T\+P\+Parallel\+Codec\+Test\+::downstream\+Codec\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}\label{classHTTPParallelCodecTest_ae920b088b6a100373400915c47deca8b}


Definition at line 81 of file H\+T\+T\+P\+Parallel\+Codec\+Test.\+h.



Referenced by parse(), Set\+Up(), and Set\+Up\+Upstream\+Test().

\index{H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}!dump\+\_\+@{dump\+\_\+}}
\index{dump\+\_\+@{dump\+\_\+}!H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}}
\subsubsection[{dump\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}bool H\+T\+T\+P\+Parallel\+Codec\+Test\+::dump\+\_\+ \{false\}\hspace{0.3cm}{\ttfamily [protected]}}\label{classHTTPParallelCodecTest_a36058b53d23815e52ba931e37742b819}


Definition at line 85 of file H\+T\+T\+P\+Parallel\+Codec\+Test.\+h.



Referenced by dump\+To\+File().

\index{H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}!output\+\_\+@{output\+\_\+}}
\index{output\+\_\+@{output\+\_\+}!H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}}
\subsubsection[{output\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}folly\+::\+I\+O\+Buf\+Queue H\+T\+T\+P\+Parallel\+Codec\+Test\+::output\+\_\+ \{folly\+::\+I\+O\+Buf\+Queue\+::cache\+Chain\+Length()\}\hspace{0.3cm}{\ttfamily [protected]}}\label{classHTTPParallelCodecTest_abc6a9252e2047410626f9ce5191fc382}


Definition at line 82 of file H\+T\+T\+P\+Parallel\+Codec\+Test.\+h.



Referenced by dump\+To\+File(), parse\+Impl(), Set\+Up(), and Set\+Up\+Upstream\+Test().

\index{H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}!test\+Info\+\_\+@{test\+Info\+\_\+}}
\index{test\+Info\+\_\+@{test\+Info\+\_\+}!H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}}
\subsubsection[{test\+Info\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}const testing\+::\+Test\+Info$\ast$ H\+T\+T\+P\+Parallel\+Codec\+Test\+::test\+Info\+\_\+ \{testing\+::\+Unit\+Test\+::\+Get\+Instance()-\/$>$current\+\_\+test\+\_\+info()\}\hspace{0.3cm}{\ttfamily [protected]}}\label{classHTTPParallelCodecTest_a96450fe0e5c806862bfbdb46693e46ed}


Definition at line 84 of file H\+T\+T\+P\+Parallel\+Codec\+Test.\+h.



Referenced by dump\+To\+File().

\index{H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}!upstream\+Codec\+\_\+@{upstream\+Codec\+\_\+}}
\index{upstream\+Codec\+\_\+@{upstream\+Codec\+\_\+}!H\+T\+T\+P\+Parallel\+Codec\+Test@{H\+T\+T\+P\+Parallel\+Codec\+Test}}
\subsubsection[{upstream\+Codec\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}{\bf proxygen\+::\+H\+T\+T\+P\+Parallel\+Codec}\& H\+T\+T\+P\+Parallel\+Codec\+Test\+::upstream\+Codec\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}\label{classHTTPParallelCodecTest_a3cef96b1f1c7cdea4209652ed80b9474}


Definition at line 80 of file H\+T\+T\+P\+Parallel\+Codec\+Test.\+h.



Referenced by parse\+Upstream(), and Set\+Up().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
proxygen/lib/http/codec/test/{\bf H\+T\+T\+P\+Parallel\+Codec\+Test.\+h}\end{DoxyCompactItemize}

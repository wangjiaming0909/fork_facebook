\section{proxygen\+:\+:Direct\+Response\+Handler Class Reference}
\label{classproxygen_1_1DirectResponseHandler}\index{proxygen\+::\+Direct\+Response\+Handler@{proxygen\+::\+Direct\+Response\+Handler}}


{\ttfamily \#include $<$Direct\+Response\+Handler.\+h$>$}

Inheritance diagram for proxygen\+:\+:Direct\+Response\+Handler\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classproxygen_1_1DirectResponseHandler}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf Direct\+Response\+Handler} (int code, std\+::string {\bf message}, std\+::string body)
\item 
void {\bf on\+Request} (std\+::unique\+\_\+ptr$<$ {\bf H\+T\+T\+P\+Message} $>$) noexceptoverride
\item 
void {\bf on\+Body} (std\+::unique\+\_\+ptr$<$ folly\+::\+I\+O\+Buf $>$) noexceptoverride
\item 
void {\bf on\+Upgrade} ({\bf proxygen\+::\+Upgrade\+Protocol}) noexceptoverride
\item 
void {\bf on\+E\+OM} () noexceptoverride
\item 
void {\bf request\+Complete} () noexceptoverride
\item 
void {\bf on\+Error} ({\bf Proxygen\+Error}) noexceptoverride
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
const int {\bf code\+\_\+}
\item 
std\+::string {\bf message\+\_\+}
\item 
std\+::unique\+\_\+ptr$<$ folly\+::\+I\+O\+Buf $>$ {\bf body\+\_\+}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Handler that sends a fixed response back. 

Definition at line 20 of file Direct\+Response\+Handler.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{proxygen\+::\+Direct\+Response\+Handler@{proxygen\+::\+Direct\+Response\+Handler}!Direct\+Response\+Handler@{Direct\+Response\+Handler}}
\index{Direct\+Response\+Handler@{Direct\+Response\+Handler}!proxygen\+::\+Direct\+Response\+Handler@{proxygen\+::\+Direct\+Response\+Handler}}
\subsubsection[{Direct\+Response\+Handler(int code, std\+::string message, std\+::string body)}]{\setlength{\rightskip}{0pt plus 5cm}proxygen\+::\+Direct\+Response\+Handler\+::\+Direct\+Response\+Handler (
\begin{DoxyParamCaption}
\item[{int}]{code, }
\item[{std\+::string}]{message, }
\item[{std\+::string}]{body}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1DirectResponseHandler_a062ba0e3fb9187375f420ab092e39ec7}


Definition at line 22 of file Direct\+Response\+Handler.\+h.


\begin{DoxyCode}
25       : code_(code),
26         message_(std::move(message)),
27         body_(folly::IOBuf::copyBuffer(body)) \{
28   \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{proxygen\+::\+Direct\+Response\+Handler@{proxygen\+::\+Direct\+Response\+Handler}!on\+Body@{on\+Body}}
\index{on\+Body@{on\+Body}!proxygen\+::\+Direct\+Response\+Handler@{proxygen\+::\+Direct\+Response\+Handler}}
\subsubsection[{on\+Body(std\+::unique\+\_\+ptr$<$ folly\+::\+I\+O\+Buf $>$) noexceptoverride}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Direct\+Response\+Handler\+::on\+Body (
\begin{DoxyParamCaption}
\item[{std\+::unique\+\_\+ptr$<$ folly\+::\+I\+O\+Buf $>$}]{body}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1DirectResponseHandler_aca230a07d76dc6f8b8105dade50360e6}
Invoked when we get part of body for the request. 

Implements {\bf proxygen\+::\+Request\+Handler} \doxyref{}{p.}{classproxygen_1_1RequestHandler_aaf0ed3bb94384e6240e15cca63de82bb}.



Definition at line 32 of file Direct\+Response\+Handler.\+h.


\begin{DoxyCode}
32 \{\}
\end{DoxyCode}
\index{proxygen\+::\+Direct\+Response\+Handler@{proxygen\+::\+Direct\+Response\+Handler}!on\+E\+OM@{on\+E\+OM}}
\index{on\+E\+OM@{on\+E\+OM}!proxygen\+::\+Direct\+Response\+Handler@{proxygen\+::\+Direct\+Response\+Handler}}
\subsubsection[{on\+E\+O\+M() noexceptoverride}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Direct\+Response\+Handler\+::on\+E\+OM (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1DirectResponseHandler_a5307b79be1b865f7ea040ccad1262bcd}
Invoked when we finish receiving the body. 

Implements {\bf proxygen\+::\+Request\+Handler} \doxyref{}{p.}{classproxygen_1_1RequestHandler_a24f26d2cf71effaf154ce53aeff51aab}.



Definition at line 36 of file Direct\+Response\+Handler.\+h.



References proxygen\+::\+Response\+Builder\+::body(), body\+\_\+, code\+\_\+, proxygen\+::\+Request\+Handler\+::downstream\+\_\+, message\+\_\+, proxygen\+::\+Response\+Builder\+::send\+With\+E\+O\+M(), and proxygen\+::\+Response\+Builder\+::status().


\begin{DoxyCode}
36                                  \{
37     ResponseBuilder(downstream_)
38         .status(code_, std::move(message_))
39         .body(std::move(body_))
40         .sendWithEOM();
41   \}
\end{DoxyCode}
\index{proxygen\+::\+Direct\+Response\+Handler@{proxygen\+::\+Direct\+Response\+Handler}!on\+Error@{on\+Error}}
\index{on\+Error@{on\+Error}!proxygen\+::\+Direct\+Response\+Handler@{proxygen\+::\+Direct\+Response\+Handler}}
\subsubsection[{on\+Error(\+Proxygen\+Error) noexceptoverride}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Direct\+Response\+Handler\+::on\+Error (
\begin{DoxyParamCaption}
\item[{{\bf Proxygen\+Error}}]{err}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1DirectResponseHandler_a00e7231c0cfba8a580a51c5f98b1339d}
Request failed. Maybe because of read/write error on socket or client not being able to send request in time.

N\+O\+TE\+: Can be invoked at any time (except for before on\+Request).

No more callbacks will be invoked after this. You should clean up after yourself. 

Implements {\bf proxygen\+::\+Request\+Handler} \doxyref{}{p.}{classproxygen_1_1RequestHandler_ad7e6428b925840a334adc58ff6f4f680}.



Definition at line 47 of file Direct\+Response\+Handler.\+h.


\begin{DoxyCode}
47 \{ \textcolor{keyword}{delete} \textcolor{keyword}{this}; \}
\end{DoxyCode}
\index{proxygen\+::\+Direct\+Response\+Handler@{proxygen\+::\+Direct\+Response\+Handler}!on\+Request@{on\+Request}}
\index{on\+Request@{on\+Request}!proxygen\+::\+Direct\+Response\+Handler@{proxygen\+::\+Direct\+Response\+Handler}}
\subsubsection[{on\+Request(std\+::unique\+\_\+ptr$<$ H\+T\+T\+P\+Message $>$) noexceptoverride}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Direct\+Response\+Handler\+::on\+Request (
\begin{DoxyParamCaption}
\item[{std\+::unique\+\_\+ptr$<$ {\bf H\+T\+T\+P\+Message} $>$}]{headers}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1DirectResponseHandler_abc64e1082cbd55ac4c66f1ca384ba649}
Invoked when we have successfully fetched headers from client. This will always be the first callback invoked on your handler. 

Implements {\bf proxygen\+::\+Request\+Handler} \doxyref{}{p.}{classproxygen_1_1RequestHandler_a61f59e1155f906c7b73062147164320f}.



Definition at line 30 of file Direct\+Response\+Handler.\+h.


\begin{DoxyCode}
30 \{\}
\end{DoxyCode}
\index{proxygen\+::\+Direct\+Response\+Handler@{proxygen\+::\+Direct\+Response\+Handler}!on\+Upgrade@{on\+Upgrade}}
\index{on\+Upgrade@{on\+Upgrade}!proxygen\+::\+Direct\+Response\+Handler@{proxygen\+::\+Direct\+Response\+Handler}}
\subsubsection[{on\+Upgrade(proxygen\+::\+Upgrade\+Protocol) noexceptoverride}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Direct\+Response\+Handler\+::on\+Upgrade (
\begin{DoxyParamCaption}
\item[{{\bf proxygen\+::\+Upgrade\+Protocol}}]{prot}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1DirectResponseHandler_ad6386cd4e5b5d2d49b3dc1934432f08c}
Invoked when the session has been upgraded to a different protocol 

Implements {\bf proxygen\+::\+Request\+Handler} \doxyref{}{p.}{classproxygen_1_1RequestHandler_aefed2946bc5558baf6e36a2d11290b79}.



Definition at line 34 of file Direct\+Response\+Handler.\+h.


\begin{DoxyCode}
34 \{\}
\end{DoxyCode}
\index{proxygen\+::\+Direct\+Response\+Handler@{proxygen\+::\+Direct\+Response\+Handler}!request\+Complete@{request\+Complete}}
\index{request\+Complete@{request\+Complete}!proxygen\+::\+Direct\+Response\+Handler@{proxygen\+::\+Direct\+Response\+Handler}}
\subsubsection[{request\+Complete() noexceptoverride}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+Direct\+Response\+Handler\+::request\+Complete (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1DirectResponseHandler_a26fc292f230767b390b2d2a7d9228de1}
Invoked when request processing has been completed and nothing more needs to be done. This may be a good place to log some stats and clean up resources. This is distinct from \doxyref{on\+E\+O\+M()}{p.}{classproxygen_1_1DirectResponseHandler_a5307b79be1b865f7ea040ccad1262bcd} because it is invoked after the response is fully sent. Once this callback has been received, {\ttfamily downstream\+\_\+} should be considered invalid. 

Implements {\bf proxygen\+::\+Request\+Handler} \doxyref{}{p.}{classproxygen_1_1RequestHandler_a0ec159751b407bcd3667994c6d8d7cfe}.



Definition at line 43 of file Direct\+Response\+Handler.\+h.


\begin{DoxyCode}
43                                            \{
44     \textcolor{keyword}{delete} \textcolor{keyword}{this};
45   \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{proxygen\+::\+Direct\+Response\+Handler@{proxygen\+::\+Direct\+Response\+Handler}!body\+\_\+@{body\+\_\+}}
\index{body\+\_\+@{body\+\_\+}!proxygen\+::\+Direct\+Response\+Handler@{proxygen\+::\+Direct\+Response\+Handler}}
\subsubsection[{body\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}std\+::unique\+\_\+ptr$<$folly\+::\+I\+O\+Buf$>$ proxygen\+::\+Direct\+Response\+Handler\+::body\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1DirectResponseHandler_a485750f522109b9d88f7dfc6f9746505}


Definition at line 52 of file Direct\+Response\+Handler.\+h.



Referenced by on\+E\+O\+M().

\index{proxygen\+::\+Direct\+Response\+Handler@{proxygen\+::\+Direct\+Response\+Handler}!code\+\_\+@{code\+\_\+}}
\index{code\+\_\+@{code\+\_\+}!proxygen\+::\+Direct\+Response\+Handler@{proxygen\+::\+Direct\+Response\+Handler}}
\subsubsection[{code\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}const int proxygen\+::\+Direct\+Response\+Handler\+::code\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1DirectResponseHandler_adabe02047534aa413786c8211697b5bd}


Definition at line 50 of file Direct\+Response\+Handler.\+h.



Referenced by on\+E\+O\+M().

\index{proxygen\+::\+Direct\+Response\+Handler@{proxygen\+::\+Direct\+Response\+Handler}!message\+\_\+@{message\+\_\+}}
\index{message\+\_\+@{message\+\_\+}!proxygen\+::\+Direct\+Response\+Handler@{proxygen\+::\+Direct\+Response\+Handler}}
\subsubsection[{message\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string proxygen\+::\+Direct\+Response\+Handler\+::message\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1DirectResponseHandler_a2d1942cefd927731660f46cdb5cb2e18}


Definition at line 51 of file Direct\+Response\+Handler.\+h.



Referenced by on\+E\+O\+M().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
proxygen/httpserver/filters/{\bf Direct\+Response\+Handler.\+h}\end{DoxyCompactItemize}

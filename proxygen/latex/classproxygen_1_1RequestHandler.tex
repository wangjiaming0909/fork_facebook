\section{proxygen\+:\+:Request\+Handler Class Reference}
\label{classproxygen_1_1RequestHandler}\index{proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}}


{\ttfamily \#include $<$Request\+Handler.\+h$>$}

Inheritance diagram for proxygen\+:\+:Request\+Handler\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=12.000000cm]{classproxygen_1_1RequestHandler}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void {\bf set\+Response\+Handler} ({\bf Response\+Handler} $\ast$handler) noexcept
\item 
virtual void {\bf on\+Request} (std\+::unique\+\_\+ptr$<$ {\bf H\+T\+T\+P\+Message} $>$ headers) noexcept=0
\item 
virtual void {\bf on\+Body} (std\+::unique\+\_\+ptr$<$ folly\+::\+I\+O\+Buf $>$ body) noexcept=0
\item 
virtual void {\bf on\+Upgrade} ({\bf proxygen\+::\+Upgrade\+Protocol} prot) noexcept=0
\item 
virtual void {\bf on\+E\+OM} () noexcept=0
\item 
virtual void {\bf request\+Complete} () noexcept=0
\item 
virtual void {\bf on\+Error} ({\bf Proxygen\+Error} err) noexcept=0
\item 
virtual void {\bf on\+Egress\+Paused} () noexcept
\item 
virtual void {\bf on\+Egress\+Resumed} () noexcept
\item 
virtual bool {\bf can\+Handle\+Expect} () noexcept
\item 
virtual {\bf Ex\+Message\+Handler} $\ast$ {\bf get\+Ex\+Handler} () noexcept
\item 
virtual {\bf Response\+Handler} $\ast$ {\bf get\+Downstream} () noexcept
\item 
virtual {\bf $\sim$\+Request\+Handler} ()
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
{\bf Response\+Handler} $\ast$ {\bf downstream\+\_\+} \{{\bf nullptr}\}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Interface to be implemented by objects that handle requests from client. \doxyref{Response\+Handler}{p.}{classproxygen_1_1ResponseHandler} acts as the client for these objects and provides methods to send back the response 

Definition at line 24 of file Request\+Handler.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}!````~Request\+Handler@{$\sim$\+Request\+Handler}}
\index{````~Request\+Handler@{$\sim$\+Request\+Handler}!proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}}
\subsubsection[{$\sim$\+Request\+Handler()}]{\setlength{\rightskip}{0pt plus 5cm}virtual proxygen\+::\+Request\+Handler\+::$\sim$\+Request\+Handler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\label{classproxygen_1_1RequestHandler_a233c80c8e42a47aae548446684a50e73}


Definition at line 109 of file Request\+Handler.\+h.


\begin{DoxyCode}
109 \{\}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}!can\+Handle\+Expect@{can\+Handle\+Expect}}
\index{can\+Handle\+Expect@{can\+Handle\+Expect}!proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}}
\subsubsection[{can\+Handle\+Expect() noexcept}]{\setlength{\rightskip}{0pt plus 5cm}virtual bool proxygen\+::\+Request\+Handler\+::can\+Handle\+Expect (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1RequestHandler_ad632dd51c75e6d27558fae7bf850239d}
Returns true if the handler is responsible for responding to Expect headers, false otherwise. 

Reimplemented in {\bf proxygen\+::\+Filter} \doxyref{}{p.}{classproxygen_1_1Filter_a32ea4520f3f16444c0538fa65b2726b3}.



Definition at line 94 of file Request\+Handler.\+h.



Referenced by proxygen\+::\+Filter\+::can\+Handle\+Expect(), and proxygen\+::\+Request\+Handler\+Adaptor\+::on\+Headers\+Complete().


\begin{DoxyCode}
94                                           \{
95     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
96   \}
\end{DoxyCode}
\index{proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}!get\+Downstream@{get\+Downstream}}
\index{get\+Downstream@{get\+Downstream}!proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}}
\subsubsection[{get\+Downstream() noexcept}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Response\+Handler}$\ast$ proxygen\+::\+Request\+Handler\+::get\+Downstream (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1RequestHandler_ab1f1dc41a594318a91ce7b39f8268c5b}


Definition at line 105 of file Request\+Handler.\+h.



References downstream\+\_\+.


\begin{DoxyCode}
105                                                     \{
106     \textcolor{keywordflow}{return} downstream_;
107   \}
\end{DoxyCode}
\index{proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}!get\+Ex\+Handler@{get\+Ex\+Handler}}
\index{get\+Ex\+Handler@{get\+Ex\+Handler}!proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}}
\subsubsection[{get\+Ex\+Handler() noexcept}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Ex\+Message\+Handler}$\ast$ proxygen\+::\+Request\+Handler\+::get\+Ex\+Handler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1RequestHandler_a6131d21f1a673ce0d37fa61af8aa5733}
Implement in control stream handler to support incoming child EX streams. 

Reimplemented in {\bf proxygen\+::\+Filter} \doxyref{}{p.}{classproxygen_1_1Filter_acbd6d5206633c61ef385d4a2dbc04a75}, and {\bf proxygen\+::\+Ex\+Message\+Handler} \doxyref{}{p.}{classproxygen_1_1ExMessageHandler_ae869b1f28a958a4960536ef6031730d2}.



Definition at line 101 of file Request\+Handler.\+h.



Referenced by proxygen\+::\+Filter\+::get\+Ex\+Handler(), and proxygen\+::\+Request\+Handler\+Adaptor\+::on\+Ex\+Transaction().


\begin{DoxyCode}
101                                                     \{
102     LOG(FATAL) << \textcolor{stringliteral}{"Not implemented"};
103   \}
\end{DoxyCode}
\index{proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}!on\+Body@{on\+Body}}
\index{on\+Body@{on\+Body}!proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}}
\subsubsection[{on\+Body(std\+::unique\+\_\+ptr$<$ folly\+::\+I\+O\+Buf $>$ body) noexcept=0}]{\setlength{\rightskip}{0pt plus 5cm}virtual void proxygen\+::\+Request\+Handler\+::on\+Body (
\begin{DoxyParamCaption}
\item[{std\+::unique\+\_\+ptr$<$ folly\+::\+I\+O\+Buf $>$}]{body}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [pure virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1RequestHandler_aaf0ed3bb94384e6240e15cca63de82bb}
Invoked when we get part of body for the request. 

Implemented in {\bf Test\+Handler\+Factory\+::\+Test\+Handler} \doxyref{}{p.}{classTestHandlerFactory_1_1TestHandler_a1f42ee88b5ab0d9428510dfb79313c3e}, {\bf proxygen\+::\+Mock\+Request\+Handler} \doxyref{}{p.}{classproxygen_1_1MockRequestHandler_abcfbe29ea54e154d1b7da95e03610fa6}, {\bf proxygen\+::\+Push\+Handler} \doxyref{}{p.}{classproxygen_1_1PushHandler_a79971ad1fce3791773138e70862aa3cb}, {\bf proxygen\+::\+Filter} \doxyref{}{p.}{classproxygen_1_1Filter_a98e803dd89a7bfc644e82c641555dfe0}, {\bf Proxy\+Service\+::\+Proxy\+Handler} \doxyref{}{p.}{classProxyService_1_1ProxyHandler_a1b34aa94c562e9a56751673c702ff863}, {\bf proxygen\+::\+Reject\+Connect\+Filter} \doxyref{}{p.}{classproxygen_1_1RejectConnectFilter_aaf62b230234a8656a61ad24892370acd}, {\bf proxygen\+::\+Direct\+Response\+Handler} \doxyref{}{p.}{classproxygen_1_1DirectResponseHandler_aca230a07d76dc6f8b8105dade50360e6}, {\bf Echo\+Service\+::\+Echo\+Handler} \doxyref{}{p.}{classEchoService_1_1EchoHandler_acb1bd2ba7b3bbb9ba7700e2d39260d8a}, {\bf Push\+Service\+::\+Push\+Request\+Handler} \doxyref{}{p.}{classPushService_1_1PushRequestHandler_a28303cf93a0edb7170daa06abc94f44e}, {\bf proxygen\+::\+Scoped\+Handler$<$ Handler\+Type $>$} \doxyref{}{p.}{classproxygen_1_1ScopedHandler_aa5088905641ed85f4fd75df52d57f920}, and {\bf Static\+Service\+::\+Static\+Handler} \doxyref{}{p.}{classStaticService_1_1StaticHandler_aa0b9ec2f6b60f1cfffd078f81bbf91b4}.



Referenced by proxygen\+::\+Request\+Handler\+Adaptor\+::on\+Body(), proxygen\+::\+Filter\+::on\+Body(), and set\+Response\+Handler().

\index{proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}!on\+Egress\+Paused@{on\+Egress\+Paused}}
\index{on\+Egress\+Paused@{on\+Egress\+Paused}!proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}}
\subsubsection[{on\+Egress\+Paused() noexcept}]{\setlength{\rightskip}{0pt plus 5cm}virtual void proxygen\+::\+Request\+Handler\+::on\+Egress\+Paused (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1RequestHandler_a2791a2a46b57712ad177116d43fbc8e3}
Signals from H\+T\+TP layer when client queue is full or empty. If you are sending a streaming response, consider implementing these and acting accordingly. Saves your server from running out of memory. 

Reimplemented in {\bf proxygen\+::\+Filter} \doxyref{}{p.}{classproxygen_1_1Filter_af8a97efa470810e7bad65fc51f1d3559}, {\bf proxygen\+::\+Reject\+Connect\+Filter} \doxyref{}{p.}{classproxygen_1_1RejectConnectFilter_a9e98b8ca319d992cf223ceccf97af98a}, {\bf Proxy\+Service\+::\+Proxy\+Handler} \doxyref{}{p.}{classProxyService_1_1ProxyHandler_a43fbd38e4133271ca7054d1726e5eed9}, and {\bf Static\+Service\+::\+Static\+Handler} \doxyref{}{p.}{classStaticService_1_1StaticHandler_a4f792c461b3cad54c75924f68a4aa790}.



Definition at line 84 of file Request\+Handler.\+h.



Referenced by proxygen\+::\+Push\+Handler\+::\+Inner\+Push\+Handler\+::on\+Egress\+Paused(), proxygen\+::\+Request\+Handler\+Adaptor\+::on\+Egress\+Paused(), and proxygen\+::\+Filter\+::on\+Egress\+Paused().


\begin{DoxyCode}
84                                          \{
85   \}
\end{DoxyCode}
\index{proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}!on\+Egress\+Resumed@{on\+Egress\+Resumed}}
\index{on\+Egress\+Resumed@{on\+Egress\+Resumed}!proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}}
\subsubsection[{on\+Egress\+Resumed() noexcept}]{\setlength{\rightskip}{0pt plus 5cm}virtual void proxygen\+::\+Request\+Handler\+::on\+Egress\+Resumed (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1RequestHandler_a8128e8661fa526a6d10fd9c03dbe4dc3}


Reimplemented in {\bf proxygen\+::\+Filter} \doxyref{}{p.}{classproxygen_1_1Filter_acf857f65ceeac0b3c9c8e0a1efe79d22}, {\bf proxygen\+::\+Reject\+Connect\+Filter} \doxyref{}{p.}{classproxygen_1_1RejectConnectFilter_a3094c8482d78fb73fd3817a67f946990}, {\bf Proxy\+Service\+::\+Proxy\+Handler} \doxyref{}{p.}{classProxyService_1_1ProxyHandler_acb71228d81d43875006bfb85c02dd224}, and {\bf Static\+Service\+::\+Static\+Handler} \doxyref{}{p.}{classStaticService_1_1StaticHandler_aea695f82f9f48bab1798e3d1e0b0e1d0}.



Definition at line 87 of file Request\+Handler.\+h.



Referenced by proxygen\+::\+Push\+Handler\+::\+Inner\+Push\+Handler\+::on\+Egress\+Resumed(), proxygen\+::\+Request\+Handler\+Adaptor\+::on\+Egress\+Resumed(), and proxygen\+::\+Filter\+::on\+Egress\+Resumed().


\begin{DoxyCode}
87                                           \{
88   \}
\end{DoxyCode}
\index{proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}!on\+E\+OM@{on\+E\+OM}}
\index{on\+E\+OM@{on\+E\+OM}!proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}}
\subsubsection[{on\+E\+O\+M() noexcept=0}]{\setlength{\rightskip}{0pt plus 5cm}virtual void proxygen\+::\+Request\+Handler\+::on\+E\+OM (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [pure virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1RequestHandler_a24f26d2cf71effaf154ce53aeff51aab}
Invoked when we finish receiving the body. 

Implemented in {\bf Test\+Handler\+Factory\+::\+Test\+Handler} \doxyref{}{p.}{classTestHandlerFactory_1_1TestHandler_add4e2e2fc541ec615c5a4ca09ad8d669}, {\bf proxygen\+::\+Push\+Handler} \doxyref{}{p.}{classproxygen_1_1PushHandler_acdbd7fae5e799fdf5913537b19884670}, {\bf proxygen\+::\+Filter} \doxyref{}{p.}{classproxygen_1_1Filter_a9cbe8f047a67bafe605ffdb960ae8daf}, {\bf Proxy\+Service\+::\+Proxy\+Handler} \doxyref{}{p.}{classProxyService_1_1ProxyHandler_a346b627d7f61c89e5b67dcd872c53d0e}, {\bf proxygen\+::\+Reject\+Connect\+Filter} \doxyref{}{p.}{classproxygen_1_1RejectConnectFilter_a75f49f69205b6ef933bd136275c4fcc3}, {\bf proxygen\+::\+Direct\+Response\+Handler} \doxyref{}{p.}{classproxygen_1_1DirectResponseHandler_a5307b79be1b865f7ea040ccad1262bcd}, {\bf proxygen\+::\+Scoped\+Handler$<$ Handler\+Type $>$} \doxyref{}{p.}{classproxygen_1_1ScopedHandler_a1520d45a186998329fd243ee4cb285aa}, {\bf Echo\+Service\+::\+Echo\+Handler} \doxyref{}{p.}{classEchoService_1_1EchoHandler_abe8fa1e2a498986931c392bf0881dbcd}, {\bf Push\+Service\+::\+Push\+Request\+Handler} \doxyref{}{p.}{classPushService_1_1PushRequestHandler_ade859915e40bdc21e0ee95c0baa4c3d2}, and {\bf Static\+Service\+::\+Static\+Handler} \doxyref{}{p.}{classStaticService_1_1StaticHandler_ad0b17fe738d859435b46c06db1ffed48}.



Referenced by proxygen\+::\+Request\+Handler\+Adaptor\+::on\+E\+O\+M(), proxygen\+::\+Filter\+::on\+E\+O\+M(), and set\+Response\+Handler().

\index{proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}!on\+Error@{on\+Error}}
\index{on\+Error@{on\+Error}!proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}}
\subsubsection[{on\+Error(\+Proxygen\+Error err) noexcept=0}]{\setlength{\rightskip}{0pt plus 5cm}virtual void proxygen\+::\+Request\+Handler\+::on\+Error (
\begin{DoxyParamCaption}
\item[{{\bf Proxygen\+Error}}]{err}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [pure virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1RequestHandler_ad7e6428b925840a334adc58ff6f4f680}
Request failed. Maybe because of read/write error on socket or client not being able to send request in time.

N\+O\+TE\+: Can be invoked at any time (except for before on\+Request).

No more callbacks will be invoked after this. You should clean up after yourself. 

Implemented in {\bf Test\+Handler\+Factory\+::\+Test\+Handler} \doxyref{}{p.}{classTestHandlerFactory_1_1TestHandler_a73c20a1e40bf0df739eedf1bd95e5959}, {\bf proxygen\+::\+Filter} \doxyref{}{p.}{classproxygen_1_1Filter_accfdfae779e41ca7624148910e9254a0}, {\bf proxygen\+::\+Scoped\+Handler$<$ Handler\+Type $>$} \doxyref{}{p.}{classproxygen_1_1ScopedHandler_ae7e7708a6ba4072b20ecb67da833307c}, {\bf proxygen\+::\+Direct\+Response\+Handler} \doxyref{}{p.}{classproxygen_1_1DirectResponseHandler_a00e7231c0cfba8a580a51c5f98b1339d}, {\bf Proxy\+Service\+::\+Proxy\+Handler} \doxyref{}{p.}{classProxyService_1_1ProxyHandler_a2fc7656831229f569a41cef36b9fc9bb}, {\bf proxygen\+::\+Reject\+Connect\+Filter} \doxyref{}{p.}{classproxygen_1_1RejectConnectFilter_ae6c40f2305a334fef0819fec690cb308}, {\bf Echo\+Service\+::\+Echo\+Handler} \doxyref{}{p.}{classEchoService_1_1EchoHandler_ac67effcf7a52288701e2661b0212b2df}, {\bf Push\+Service\+::\+Push\+Request\+Handler} \doxyref{}{p.}{classPushService_1_1PushRequestHandler_ad9a56ed533be9cdbccb394e337b69fca}, {\bf Static\+Service\+::\+Static\+Handler} \doxyref{}{p.}{classStaticService_1_1StaticHandler_ac4f77b0de9e40f285a7f4c802c7a8de5}, and {\bf proxygen\+::\+Push\+Handler} \doxyref{}{p.}{classproxygen_1_1PushHandler_a582c924ce49343c9000e041433450421}.



Referenced by proxygen\+::\+Reject\+Connect\+Filter\+::on\+Error(), proxygen\+::\+Filter\+::on\+Error(), proxygen\+::\+Reject\+Connect\+Filter\+::on\+Request(), proxygen\+::\+Request\+Handler\+Adaptor\+::set\+Error(), and set\+Response\+Handler().

\index{proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}!on\+Request@{on\+Request}}
\index{on\+Request@{on\+Request}!proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}}
\subsubsection[{on\+Request(std\+::unique\+\_\+ptr$<$ H\+T\+T\+P\+Message $>$ headers) noexcept=0}]{\setlength{\rightskip}{0pt plus 5cm}virtual void proxygen\+::\+Request\+Handler\+::on\+Request (
\begin{DoxyParamCaption}
\item[{std\+::unique\+\_\+ptr$<$ {\bf H\+T\+T\+P\+Message} $>$}]{headers}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [pure virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1RequestHandler_a61f59e1155f906c7b73062147164320f}
Invoked when we have successfully fetched headers from client. This will always be the first callback invoked on your handler. 

Implemented in {\bf Test\+Handler\+Factory\+::\+Test\+Handler} \doxyref{}{p.}{classTestHandlerFactory_1_1TestHandler_a5b535c2d7848093e8867612a8ab68671}, {\bf proxygen\+::\+Mock\+Request\+Handler} \doxyref{}{p.}{classproxygen_1_1MockRequestHandler_af7bd4af1eab1bf3b76d66de4e6d0ed03}, {\bf proxygen\+::\+Push\+Handler} \doxyref{}{p.}{classproxygen_1_1PushHandler_a24a98a912f7621e58308b05838de6755}, {\bf proxygen\+::\+Filter} \doxyref{}{p.}{classproxygen_1_1Filter_aae05166bfb13752325073d4427a8ed34}, {\bf Proxy\+Service\+::\+Proxy\+Handler} \doxyref{}{p.}{classProxyService_1_1ProxyHandler_a43c58b1cabde139bf4dc216abfb2b43b}, {\bf proxygen\+::\+Direct\+Response\+Handler} \doxyref{}{p.}{classproxygen_1_1DirectResponseHandler_abc64e1082cbd55ac4c66f1ca384ba649}, {\bf Echo\+Service\+::\+Echo\+Handler} \doxyref{}{p.}{classEchoService_1_1EchoHandler_a932d54649a949672ab933e688cfac4b6}, {\bf Push\+Service\+::\+Push\+Request\+Handler} \doxyref{}{p.}{classPushService_1_1PushRequestHandler_a3963d9ed1fd2c68ca549cb5d5d6658b6}, {\bf proxygen\+::\+Reject\+Connect\+Filter} \doxyref{}{p.}{classproxygen_1_1RejectConnectFilter_acc6b1a9fee6bd522452318ffed15031e}, {\bf proxygen\+::\+Scoped\+Handler$<$ Handler\+Type $>$} \doxyref{}{p.}{classproxygen_1_1ScopedHandler_a9ede42df62860a42d1a7dcb03b1c0cb2}, and {\bf Static\+Service\+::\+Static\+Handler} \doxyref{}{p.}{classStaticService_1_1StaticHandler_a51cdc7688cd8ff7a60ab297efbd6b201}.



Referenced by proxygen\+::\+H\+T\+T\+P\+Server\+Acceptor\+::new\+Handler(), proxygen\+::\+Request\+Handler\+Adaptor\+::on\+Headers\+Complete(), proxygen\+::\+Filter\+::on\+Request(), and set\+Response\+Handler().

\index{proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}!on\+Upgrade@{on\+Upgrade}}
\index{on\+Upgrade@{on\+Upgrade}!proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}}
\subsubsection[{on\+Upgrade(proxygen\+::\+Upgrade\+Protocol prot) noexcept=0}]{\setlength{\rightskip}{0pt plus 5cm}virtual void proxygen\+::\+Request\+Handler\+::on\+Upgrade (
\begin{DoxyParamCaption}
\item[{{\bf proxygen\+::\+Upgrade\+Protocol}}]{prot}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [pure virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1RequestHandler_aefed2946bc5558baf6e36a2d11290b79}
Invoked when the session has been upgraded to a different protocol 

Implemented in {\bf Test\+Handler\+Factory\+::\+Test\+Handler} \doxyref{}{p.}{classTestHandlerFactory_1_1TestHandler_a14ede8817b4fa03b35fbf3667960c988}, {\bf proxygen\+::\+Push\+Handler} \doxyref{}{p.}{classproxygen_1_1PushHandler_adaa48462f3850e1289266eaf3da5c736}, {\bf proxygen\+::\+Filter} \doxyref{}{p.}{classproxygen_1_1Filter_a3fafd5b5b4db26e7602110b3e60eb418}, {\bf Proxy\+Service\+::\+Proxy\+Handler} \doxyref{}{p.}{classProxyService_1_1ProxyHandler_aa7e94a039e2697dcfe4be6e2932de7c3}, {\bf proxygen\+::\+Reject\+Connect\+Filter} \doxyref{}{p.}{classproxygen_1_1RejectConnectFilter_a6f5dea7ce0fb7651881d463d4a7a4058}, {\bf proxygen\+::\+Direct\+Response\+Handler} \doxyref{}{p.}{classproxygen_1_1DirectResponseHandler_ad6386cd4e5b5d2d49b3dc1934432f08c}, {\bf Echo\+Service\+::\+Echo\+Handler} \doxyref{}{p.}{classEchoService_1_1EchoHandler_af5cda50efa2d8ff694b4f37a48d61df3}, {\bf Push\+Service\+::\+Push\+Request\+Handler} \doxyref{}{p.}{classPushService_1_1PushRequestHandler_afcc46815d8ab783a9f354827f54cd67c}, {\bf proxygen\+::\+Scoped\+Handler$<$ Handler\+Type $>$} \doxyref{}{p.}{classproxygen_1_1ScopedHandler_acd64ce67705aa5b1e9fe5c627a4e94c0}, {\bf Static\+Service\+::\+Static\+Handler} \doxyref{}{p.}{classStaticService_1_1StaticHandler_a18c926fb3b9598df709ca710e3b0a2a3}, and {\bf proxygen\+::\+Ex\+Message\+Handler} \doxyref{}{p.}{classproxygen_1_1ExMessageHandler_a08f5c0786adfc3fdacc8b54ec6c6a3e2}.



Referenced by proxygen\+::\+Filter\+::on\+Upgrade(), proxygen\+::\+Request\+Handler\+Adaptor\+::on\+Upgrade(), and set\+Response\+Handler().

\index{proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}!request\+Complete@{request\+Complete}}
\index{request\+Complete@{request\+Complete}!proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}}
\subsubsection[{request\+Complete() noexcept=0}]{\setlength{\rightskip}{0pt plus 5cm}virtual void proxygen\+::\+Request\+Handler\+::request\+Complete (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [pure virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1RequestHandler_a0ec159751b407bcd3667994c6d8d7cfe}
Invoked when request processing has been completed and nothing more needs to be done. This may be a good place to log some stats and clean up resources. This is distinct from \doxyref{on\+E\+O\+M()}{p.}{classproxygen_1_1RequestHandler_a24f26d2cf71effaf154ce53aeff51aab} because it is invoked after the response is fully sent. Once this callback has been received, {\ttfamily downstream\+\_\+} should be considered invalid. 

Implemented in {\bf Test\+Handler\+Factory\+::\+Test\+Handler} \doxyref{}{p.}{classTestHandlerFactory_1_1TestHandler_af44c52b07d2de5fc68122f854c5a8bf7}, {\bf proxygen\+::\+Filter} \doxyref{}{p.}{classproxygen_1_1Filter_ab075db9a9546d3bfa3affff60f5c468c}, {\bf proxygen\+::\+Scoped\+Handler$<$ Handler\+Type $>$} \doxyref{}{p.}{classproxygen_1_1ScopedHandler_aaeac72adf0424305ed63fdc8c20fc75d}, {\bf Proxy\+Service\+::\+Proxy\+Handler} \doxyref{}{p.}{classProxyService_1_1ProxyHandler_a1c2ec9b8870cb1449f992fb425654ede}, {\bf proxygen\+::\+Direct\+Response\+Handler} \doxyref{}{p.}{classproxygen_1_1DirectResponseHandler_a26fc292f230767b390b2d2a7d9228de1}, {\bf proxygen\+::\+Reject\+Connect\+Filter} \doxyref{}{p.}{classproxygen_1_1RejectConnectFilter_a32f5e682a0e8c2b67f14d00a15a43fe4}, {\bf Echo\+Service\+::\+Echo\+Handler} \doxyref{}{p.}{classEchoService_1_1EchoHandler_af1e31ad69997ed16af7294fb449e7004}, {\bf Push\+Service\+::\+Push\+Request\+Handler} \doxyref{}{p.}{classPushService_1_1PushRequestHandler_ad7a53fd50af5f6eb0fb4246a8f1b84ac}, {\bf Static\+Service\+::\+Static\+Handler} \doxyref{}{p.}{classStaticService_1_1StaticHandler_a809e5cca363d9a8d6d791c86b33f3f44}, and {\bf proxygen\+::\+Push\+Handler} \doxyref{}{p.}{classproxygen_1_1PushHandler_a0400a142f37b40246a3ac21b4125b8fd}.



Referenced by proxygen\+::\+Request\+Handler\+Adaptor\+::detach\+Transaction(), proxygen\+::\+Filter\+::request\+Complete(), and set\+Response\+Handler().

\index{proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}!set\+Response\+Handler@{set\+Response\+Handler}}
\index{set\+Response\+Handler@{set\+Response\+Handler}!proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}}
\subsubsection[{set\+Response\+Handler(\+Response\+Handler $\ast$handler) noexcept}]{\setlength{\rightskip}{0pt plus 5cm}virtual void proxygen\+::\+Request\+Handler\+::set\+Response\+Handler (
\begin{DoxyParamCaption}
\item[{{\bf Response\+Handler} $\ast$}]{handler}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}\label{classproxygen_1_1RequestHandler_a7c3679aea96f2d5502c42a1254ea882f}
Saves the downstream handle with itself. Implementations of this interface should use downstream\+\_\+ to send back response.

X\+XX\+: Only override this method if you are A\+B\+S\+O\+L\+U\+T\+E\+LY sure what you are doing. If possible, just use downstream\+\_\+ variable and dont mess with these things. 

Reimplemented in {\bf proxygen\+::\+Filter} \doxyref{}{p.}{classproxygen_1_1Filter_af0e6c8e222e74c64b5acda58d64fb54f}.



Definition at line 34 of file Request\+Handler.\+h.



References downstream\+\_\+, on\+Body(), on\+E\+O\+M(), on\+Error(), on\+Request(), on\+Upgrade(), and request\+Complete().



Referenced by proxygen\+::\+Filter\+::set\+Response\+Handler(), and proxygen\+::\+Request\+Handler\+Adaptor\+::set\+Transaction().


\begin{DoxyCode}
34                                                                      \{
35     downstream_ = CHECK\_NOTNULL(handler);
36   \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}!downstream\+\_\+@{downstream\+\_\+}}
\index{downstream\+\_\+@{downstream\+\_\+}!proxygen\+::\+Request\+Handler@{proxygen\+::\+Request\+Handler}}
\subsubsection[{downstream\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Response\+Handler}$\ast$ proxygen\+::\+Request\+Handler\+::downstream\+\_\+ \{{\bf nullptr}\}\hspace{0.3cm}{\ttfamily [protected]}}\label{classproxygen_1_1RequestHandler_a55b5bac2b6d251098ba5bc327cc68378}
A place designated for the response handler. You can use this to send back the response in your \doxyref{Request\+Handler}{p.}{classproxygen_1_1RequestHandler}. 

Definition at line 116 of file Request\+Handler.\+h.



Referenced by Proxy\+Service\+::\+Proxy\+Handler\+::abort\+Downstream(), Proxy\+Service\+::\+Proxy\+Handler\+::connect\+Error(), Proxy\+Service\+::\+Proxy\+Handler\+::connect\+Success(), proxygen\+::\+Filter\+::get\+Current\+Transport\+Info(), get\+Downstream(), proxygen\+::\+Filter\+::get\+Setup\+Transport\+Info(), proxygen\+::\+Filter\+::new\+Pushed\+Response(), Push\+Service\+::\+Push\+Request\+Handler\+::on\+E\+O\+M(), Echo\+Service\+::\+Echo\+Handler\+::on\+E\+O\+M(), proxygen\+::\+Direct\+Response\+Handler\+::on\+E\+O\+M(), proxygen\+::\+Scoped\+Handler$<$ Handler\+Type $>$\+::on\+E\+O\+M(), proxygen\+::\+Filter\+::on\+Error(), proxygen\+::\+Reject\+Connect\+Filter\+::on\+Request(), Push\+Service\+::\+Push\+Request\+Handler\+::on\+Request(), Proxy\+Service\+::\+Proxy\+Handler\+::on\+Request(), Proxy\+Service\+::\+Proxy\+Handler\+::on\+Server\+Body(), Proxy\+Service\+::\+Proxy\+Handler\+::on\+Server\+Egress\+Paused(), Proxy\+Service\+::\+Proxy\+Handler\+::on\+Server\+Egress\+Resumed(), Proxy\+Service\+::\+Proxy\+Handler\+::on\+Server\+E\+O\+M(), Proxy\+Service\+::\+Proxy\+Handler\+::on\+Server\+Headers\+Complete(), proxygen\+::\+Filter\+::pause\+Ingress(), Proxy\+Service\+::\+Proxy\+Handler\+::read\+Data\+Available(), proxygen\+::\+Filter\+::refresh\+Timeout(), proxygen\+::\+Filter\+::request\+Complete(), proxygen\+::\+Filter\+::resume\+Ingress(), proxygen\+::\+Filter\+::send\+Abort(), proxygen\+::\+Filter\+::send\+Body(), proxygen\+::\+Filter\+::send\+Chunk\+Header(), proxygen\+::\+Filter\+::send\+Chunk\+Terminator(), proxygen\+::\+Filter\+::send\+E\+O\+M(), proxygen\+::\+Filter\+::send\+Headers(), set\+Response\+Handler(), and proxygen\+::\+Filter\+::set\+Response\+Handler().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
proxygen/httpserver/{\bf Request\+Handler.\+h}\end{DoxyCompactItemize}

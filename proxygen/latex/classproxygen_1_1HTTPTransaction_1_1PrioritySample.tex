\section{proxygen\+:\+:H\+T\+T\+P\+Transaction\+:\+:Priority\+Sample Class Reference}
\label{classproxygen_1_1HTTPTransaction_1_1PrioritySample}\index{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct {\bf Weighted\+Accumulator}
\item 
struct {\bf Weighted\+Value}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf Priority\+Sample} ({\bf H\+T\+T\+P\+Transaction} $\ast$tnx)
\item 
void {\bf update\+Contentions\+Count} (uint64\+\_\+t contentions, uint64\+\_\+t depth)
\item 
void {\bf update\+Transaction\+Bytes\+Sent} (uint64\+\_\+t bytes)
\item 
void {\bf update\+Session\+Bytes\+Sheduled} (uint64\+\_\+t bytes)
\item 
void {\bf update\+Ratio} (double ratio)
\item 
bool {\bf is\+Transaction\+Bytes\+Scheduled} () const 
\item 
void {\bf get\+Summary} ({\bf H\+T\+T\+P\+Transaction\+::\+Priority\+Sample\+Summary} \&summary) const 
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
{\bf H\+T\+T\+P\+Transaction} $\ast$ {\bf tnx\+\_\+}
\item 
{\bf Weighted\+Value} {\bf contentions\+\_\+}
\item 
{\bf Weighted\+Value} {\bf depth\+\_\+}
\item 
{\bf Weighted\+Accumulator} {\bf expected\+\_\+weight\+\_\+}
\item 
{\bf Weighted\+Accumulator} {\bf measured\+\_\+weight\+\_\+}
\item 
double {\bf ratio\+\_\+}
\item 
bool {\bf transaction\+Bytes\+Scheduled\+\_\+}\+:1
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 1398 of file H\+T\+T\+P\+Transaction.\+cpp.



\subsection{Constructor \& Destructor Documentation}
\index{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}!Priority\+Sample@{Priority\+Sample}}
\index{Priority\+Sample@{Priority\+Sample}!proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}}
\subsubsection[{Priority\+Sample(\+H\+T\+T\+P\+Transaction $\ast$tnx)}]{\setlength{\rightskip}{0pt plus 5cm}proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample\+::\+Priority\+Sample (
\begin{DoxyParamCaption}
\item[{{\bf H\+T\+T\+P\+Transaction} $\ast$}]{tnx}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}\label{classproxygen_1_1HTTPTransaction_1_1PrioritySample_aa96a73e5678d7647ea4cc03f9142388d}


Definition at line 1445 of file H\+T\+T\+P\+Transaction.\+cpp.


\begin{DoxyCode}
1445                                                 :
1446     tnx_(tnx),
1447     transactionBytesScheduled_(\textcolor{keyword}{false}) \{\}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}!get\+Summary@{get\+Summary}}
\index{get\+Summary@{get\+Summary}!proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}}
\subsubsection[{get\+Summary(\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample\+Summary \&summary) const }]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample\+::get\+Summary (
\begin{DoxyParamCaption}
\item[{{\bf H\+T\+T\+P\+Transaction\+::\+Priority\+Sample\+Summary} \&}]{summary}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HTTPTransaction_1_1PrioritySample_afd2a8c1999c8e55fa028665061f4bd78}


Definition at line 1490 of file H\+T\+T\+P\+Transaction.\+cpp.



References proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample\+Summary\+::contentions\+\_\+, proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample\+Summary\+::depth\+\_\+, proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample\+Summary\+::expected\+\_\+weight\+\_\+, and proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample\+Summary\+::measured\+\_\+weight\+\_\+.


\begin{DoxyCode}
1490                                                                        \{
1491     contentions_.getSummary(summary.contentions\_);
1492     depth_.getSummary(summary.depth\_);
1493     summary.expected\_weight\_ = expected_weight_.getWeightedAverage();
1494     summary.measured\_weight\_ = measured_weight_.getWeightedAverage();
1495   \}
\end{DoxyCode}
\index{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}!is\+Transaction\+Bytes\+Scheduled@{is\+Transaction\+Bytes\+Scheduled}}
\index{is\+Transaction\+Bytes\+Scheduled@{is\+Transaction\+Bytes\+Scheduled}!proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}}
\subsubsection[{is\+Transaction\+Bytes\+Scheduled() const }]{\setlength{\rightskip}{0pt plus 5cm}bool proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample\+::is\+Transaction\+Bytes\+Scheduled (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HTTPTransaction_1_1PrioritySample_a61fd3e69cbb521a04618cd8a81cd164b}


Definition at line 1486 of file H\+T\+T\+P\+Transaction.\+cpp.


\begin{DoxyCode}
1486                                            \{
1487     \textcolor{keywordflow}{return} transactionBytesScheduled_;
1488   \}
\end{DoxyCode}
\index{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}!update\+Contentions\+Count@{update\+Contentions\+Count}}
\index{update\+Contentions\+Count@{update\+Contentions\+Count}!proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}}
\subsubsection[{update\+Contentions\+Count(uint64\+\_\+t contentions, uint64\+\_\+t depth)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample\+::update\+Contentions\+Count (
\begin{DoxyParamCaption}
\item[{uint64\+\_\+t}]{contentions, }
\item[{uint64\+\_\+t}]{depth}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HTTPTransaction_1_1PrioritySample_a8d6e9e290af4701d41f367532c21463e}


Definition at line 1449 of file H\+T\+T\+P\+Transaction.\+cpp.


\begin{DoxyCode}
1449                                                                     \{
1450     transactionBytesScheduled_ = \textcolor{keyword}{false};
1451     ratio_ = 0.0;
1452     contentions_.value_ = contentions;
1453     depth_.value_ = depth;
1454   \}
\end{DoxyCode}
\index{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}!update\+Ratio@{update\+Ratio}}
\index{update\+Ratio@{update\+Ratio}!proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}}
\subsubsection[{update\+Ratio(double ratio)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample\+::update\+Ratio (
\begin{DoxyParamCaption}
\item[{double}]{ratio}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HTTPTransaction_1_1PrioritySample_a153d6442538b3a055c38684f6b9affb5}


Definition at line 1482 of file H\+T\+T\+P\+Transaction.\+cpp.


\begin{DoxyCode}
1482                                  \{
1483     ratio_ = ratio;
1484   \}
\end{DoxyCode}
\index{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}!update\+Session\+Bytes\+Sheduled@{update\+Session\+Bytes\+Sheduled}}
\index{update\+Session\+Bytes\+Sheduled@{update\+Session\+Bytes\+Sheduled}!proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}}
\subsubsection[{update\+Session\+Bytes\+Sheduled(uint64\+\_\+t bytes)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample\+::update\+Session\+Bytes\+Sheduled (
\begin{DoxyParamCaption}
\item[{uint64\+\_\+t}]{bytes}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HTTPTransaction_1_1PrioritySample_af25b6716fa6640e4fcef4a7595e66b11}


Definition at line 1469 of file H\+T\+T\+P\+Transaction.\+cpp.


\begin{DoxyCode}
1469                                                   \{
1470     measured_weight_.accumulateTotal(bytes);
1471     expected_weight_.accumulate((ratio_ * bytes) + 0.5, bytes);
1472     \textcolor{keywordflow}{if} (contentions_.value_) \{
1473       contentions_.accumulateBySessionBytes(bytes);
1474     \} \textcolor{keywordflow}{else} \{
1475       VLOG(5) << \textcolor{stringliteral}{"transfer "} << bytes
1476               << \textcolor{stringliteral}{" session body bytes while contentions count = 0 "}
1477               << *tnx_;
1478     \}
1479     depth_.accumulateBySessionBytes(bytes);
1480   \}
\end{DoxyCode}
\index{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}!update\+Transaction\+Bytes\+Sent@{update\+Transaction\+Bytes\+Sent}}
\index{update\+Transaction\+Bytes\+Sent@{update\+Transaction\+Bytes\+Sent}!proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}}
\subsubsection[{update\+Transaction\+Bytes\+Sent(uint64\+\_\+t bytes)}]{\setlength{\rightskip}{0pt plus 5cm}void proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample\+::update\+Transaction\+Bytes\+Sent (
\begin{DoxyParamCaption}
\item[{uint64\+\_\+t}]{bytes}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classproxygen_1_1HTTPTransaction_1_1PrioritySample_a043843d043136715e1a062e509048d40}


Definition at line 1456 of file H\+T\+T\+P\+Transaction.\+cpp.


\begin{DoxyCode}
1456                                                   \{
1457     transactionBytesScheduled_ = \textcolor{keyword}{true};
1458     measured_weight_.accumulateWeighted(bytes);
1459     \textcolor{keywordflow}{if} (contentions_.value_) \{
1460       contentions_.accumulateByTransactionBytes(bytes);
1461     \} \textcolor{keywordflow}{else} \{
1462       VLOG(5) << \textcolor{stringliteral}{"transfer "} << bytes
1463               << \textcolor{stringliteral}{" transaction body bytes while contentions count = 0 "}
1464               << *tnx_;
1465     \}
1466     depth_.accumulateByTransactionBytes(bytes);
1467   \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}!contentions\+\_\+@{contentions\+\_\+}}
\index{contentions\+\_\+@{contentions\+\_\+}!proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}}
\subsubsection[{contentions\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Weighted\+Value} proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample\+::contentions\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1HTTPTransaction_1_1PrioritySample_a1b9eebf6c60e684702be9114cf6faa02}


Definition at line 1499 of file H\+T\+T\+P\+Transaction.\+cpp.

\index{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}!depth\+\_\+@{depth\+\_\+}}
\index{depth\+\_\+@{depth\+\_\+}!proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}}
\subsubsection[{depth\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Weighted\+Value} proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample\+::depth\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1HTTPTransaction_1_1PrioritySample_aae354d8bb159cb5a337048a4e7ed384e}


Definition at line 1500 of file H\+T\+T\+P\+Transaction.\+cpp.

\index{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}!expected\+\_\+weight\+\_\+@{expected\+\_\+weight\+\_\+}}
\index{expected\+\_\+weight\+\_\+@{expected\+\_\+weight\+\_\+}!proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}}
\subsubsection[{expected\+\_\+weight\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Weighted\+Accumulator} proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample\+::expected\+\_\+weight\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1HTTPTransaction_1_1PrioritySample_a9ad40a5c63a9c67ebfafcc9a3b44fdf3}


Definition at line 1501 of file H\+T\+T\+P\+Transaction.\+cpp.

\index{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}!measured\+\_\+weight\+\_\+@{measured\+\_\+weight\+\_\+}}
\index{measured\+\_\+weight\+\_\+@{measured\+\_\+weight\+\_\+}!proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}}
\subsubsection[{measured\+\_\+weight\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Weighted\+Accumulator} proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample\+::measured\+\_\+weight\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1HTTPTransaction_1_1PrioritySample_aa94aaa58fe18324c2a2449be01253efc}


Definition at line 1502 of file H\+T\+T\+P\+Transaction.\+cpp.

\index{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}!ratio\+\_\+@{ratio\+\_\+}}
\index{ratio\+\_\+@{ratio\+\_\+}!proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}}
\subsubsection[{ratio\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}double proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample\+::ratio\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1HTTPTransaction_1_1PrioritySample_a5a62aa5917ef2fa4838e05f3e1f191c7}


Definition at line 1503 of file H\+T\+T\+P\+Transaction.\+cpp.

\index{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}!tnx\+\_\+@{tnx\+\_\+}}
\index{tnx\+\_\+@{tnx\+\_\+}!proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}}
\subsubsection[{tnx\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}{\bf H\+T\+T\+P\+Transaction}$\ast$ proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample\+::tnx\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1HTTPTransaction_1_1PrioritySample_a292b71139b2237cde4ada3373c07a06e}


Definition at line 1498 of file H\+T\+T\+P\+Transaction.\+cpp.

\index{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}!transaction\+Bytes\+Scheduled\+\_\+@{transaction\+Bytes\+Scheduled\+\_\+}}
\index{transaction\+Bytes\+Scheduled\+\_\+@{transaction\+Bytes\+Scheduled\+\_\+}!proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample@{proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample}}
\subsubsection[{transaction\+Bytes\+Scheduled\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}bool proxygen\+::\+H\+T\+T\+P\+Transaction\+::\+Priority\+Sample\+::transaction\+Bytes\+Scheduled\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classproxygen_1_1HTTPTransaction_1_1PrioritySample_aee6e104a7fb3787c39c0a52c021b7d80}


Definition at line 1504 of file H\+T\+T\+P\+Transaction.\+cpp.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
proxygen/lib/http/session/{\bf H\+T\+T\+P\+Transaction.\+cpp}\end{DoxyCompactItemize}
